/*! For license information please see main.888685e1.js.LICENSE.txt */
(()=>{var e={321:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBrowserHistory:()=>k,createHashHistory:()=>N,createLocation:()=>g,createMemoryHistory:()=>R,createPath:()=>m,locationsAreEqual:()=>v,parsePath:()=>p});var r=n(168);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const s=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&i(e),c=t&&i(t),l=a||c;if(e&&i(e)?s=r:r.length&&(s.pop(),s=s.concat(r)),!s.length)return"/";if(s.length){var u=s[s.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,h=s.length;h>=0;h--){var f=s[h];"."===f?o(s,h):".."===f?(o(s,h),d++):d&&(o(s,h),d--)}if(!l)for(;d--;d)s.unshift("..");!l||""===s[0]||s[0]&&i(s[0])||s.unshift("");var p=s.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function a(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=a(t),i=a(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var l=n(404);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function m(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=p(e)).state=t:(void 0===(o=(0,r.A)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),b||(0,l.A)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,s=o.forceRefresh,a=void 0!==s&&s,c=o.getUserConfirmation,d=void 0===c?w:c,p=o.keyLength,v=void 0===p?6:p,k=e.basename?f(u(e.basename)):"";function I(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=h(o,k)),g(o,r,n)}function x(){return Math.random().toString(36).substr(2,v)}var S=y();function C(e){(0,r.A)(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(I(e.state))}function N(){R(I(T()))}var P=!1;function R(e){if(P)P=!1,C();else{S.confirmTransitionTo(e,"POP",d,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(e)}))}}var O=I(T()),D=[O.key];function L(e){return k+m(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(_,A),i&&window.addEventListener(E,N)):0===F&&(window.removeEventListener(_,A),i&&window.removeEventListener(E,N))}var j=!1;var V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",o=g(e,r,x(),V.location);S.confirmTransitionTo(o,i,d,(function(e){if(e){var r=L(o),s=o.key,c=o.state;if(n)if(t.pushState({key:s,state:c},null,r),a)window.location.href=r;else{var l=D.indexOf(V.location.key),u=D.slice(0,l+1);u.push(o.key),D=u,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,x(),V.location);S.confirmTransitionTo(o,i,d,(function(e){if(e){var r=L(o),s=o.key,c=o.state;if(n)if(t.replaceState({key:s,state:c},null,r),a)window.location.replace(r);else{var l=D.indexOf(V.location.key);-1!==l&&(D[l]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=S.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var I="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(S(window.location.href)+"#"+e)}function N(e){void 0===e&&(e={}),b||(0,l.A)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?w:i,s=n.hashType,a=void 0===s?"slash":s,c=e.basename?f(u(e.basename)):"",d=x[a],p=d.encodePath,v=d.decodePath;function _(){var e=v(C());return c&&(e=h(e,c)),g(e)}var E=y();function T(e){(0,r.A)(V,e),V.length=t.length,E.notifyListeners(V.location,V.action)}var k=!1,N=null;function P(){var e,t,n=C(),r=p(n);if(n!==r)A(r);else{var i=_(),s=V.location;if(!k&&(t=i,(e=s).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===m(i))return;N=null,function(e){if(k)k=!1,T();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?T({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(m(t));-1===n&&(n=0);var r=L.lastIndexOf(m(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}(i)}}var R=C(),O=p(R);R!==O&&A(O);var D=_(),L=[m(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(I,P):0===F&&window.removeEventListener(I,P)}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+p(c+m(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=m(r),i=p(c+t);if(C()!==i){N=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(m(V.location)),s=L.slice(0,o+1);s.push(t),L=s,T({action:n,location:r})}else T()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=m(r),i=p(c+t);C()!==i&&(N=t,A(i));var o=L.indexOf(m(V.location));-1!==o&&(L[o]=t),T({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=E.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function P(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,s=t.initialIndex,a=void 0===s?0:s,c=t.keyLength,l=void 0===c?6:c,u=y();function d(e){(0,r.A)(w,e),w.length=w.entries.length,u.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,l)}var f=P(a,0,o.length-1),p=o.map((function(e){return g(e,void 0,"string"===typeof e?h():e.key||h())})),v=m;function b(e){var t=P(w.index+e,0,w.entries.length-1),r=w.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=g(e,t,h(),w.location);u.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,h(),w.location);u.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return w}},219:(e,t,n)=>{"use strict";var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},504:(e,t,n)=>{var r=n(141);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,s=0,a="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(a+=e.slice(s,f),s=f+d.length,h)a+=h[1];else{var p=e[s],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,T="?"===b||"*"===b,k=n[2]||u,I=v||y;r.push({name:g||o++,prefix:m||"",delimiter:k,optional:T,repeat:E,partial:_,asterisk:!!w,pattern:I?l(I):w?".*":"[^"+c(k)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&r.push(a),r}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",a=t||{},c=(i||{}).pretty?s:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,h=a[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=c(h[f]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<e.length;a++){var l=e[a];if("string"===typeof l)s+=c(l);else{var h=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+h+f+")*"),s+=f=l.optional?l.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=c(n.delimiter||"/"),m=s.slice(-p.length)===p;return i||(s=(m?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":i&&m?"":"(?="+p+"|$)",u(new RegExp("^"+s,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",c=s||r;if(null==n[r])return t?new Error("Required "+o+" `"+c+"` was not specified in `"+a+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,o,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,d=null,h={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,o,s,u,d){c=!1,l=null,a.apply(h,arguments)}var p=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,a,h,p){if(f.apply(this,arguments),c){if(!c)throw Error(s(198));var m=l;c=!1,l=null,u||(u=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!E[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,c=r;if(T.hasOwnProperty(c))throw Error(s(99,c));T[c]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],a,c);i=!0}else o.registrationName?(_(o.registrationName,a,c),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function _(e,t,n){if(k[e])throw Error(s(100,e));k[e]=t,I[e]=t.eventTypes[n].dependencies}var E=[],T={},k={},I={};function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(s(102,t));b[t]=r,n=!0}}n&&w()}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,N=null;function P(e){if(e=m(e)){if("function"!==typeof C)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function R(e){A?N?N.push(e):N=[e]:A=e}function O(){if(A){var e=A,t=N;if(N=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function D(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var F=D,U=!1,j=!1;function V(){null===A&&null===N||(M(),O())}function z(e,t,n){if(j)return e(t,n);j=!0;try{return F(e,t,n)}finally{j=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},H={};function G(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);W[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);W[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);W[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(H,e)||!q.call(K,e)&&(B.test(e)?H[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,se=Z?Symbol.for("react.context"):60110,ae=Z?Symbol.for("react.concurrent_mode"):60111,ce=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case fe:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace($,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ie(e,t){ke(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Re(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,je,Ve=(je=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ke={},He={};function Ge(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ke[e]=n[t];return e}S&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var We=Ge("animationend"),Qe=Ge("animationiteration"),Ye=Ge("animationstart"),Je=Ge("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(s(95));if(u)throw e=d,u=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function ft(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,c=0;c<E.length;c++){var l=E[c];l&&(l=l.extractEvents(r,t,o,i,s))&&(a=it(a,l))}ct(a)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var gt,vt,yt,bt=!1,wt=[],_t=null,Et=null,Tt=null,kt=new Map,It=new Map,xt=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=At(t,n,r,i,o),null!==t&&(null!==(t=Dn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=On(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Ot(e)&&n.delete(t)}function Lt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&gt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==_t&&Ot(_t)&&(_t=null),null!==Et&&Ot(Et)&&(Et=null),null!==Tt&&Ot(Tt)&&(Tt=null),kt.forEach(Dt),It.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Mt(t,e)}if(0<wt.length){Mt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==Et&&Mt(Et,e),null!==Tt&&Mt(Tt,e),kt.forEach(t),It.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Rt(n),null===n.blockedOn&&xt.shift()}var Ut={},jt=new Map,Vt=new Map,zt=["abort","abort",We,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),jt.set(r,o),Ut[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(zt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)Vt.set(qt[Kt],0);var Ht=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Wt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){U||M();var i=$t,o=U;U=!0;try{L(i,e,t,n,r)}finally{(U=o)||V()}}function Xt(e,t,n,r){Gt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Wt)if(0<wt.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),wt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Pt(_t,e,t,n,r,i),!0;case"dragenter":return Et=Pt(Et,e,t,n,r,i),!0;case"mouseover":return Tt=Pt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return kt.set(o,Pt(kt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Pt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=ft(e,r,null,t);try{z(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=On(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{z(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=De;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function un(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$",yn="/$",bn="$?",wn="$!",_n=null,En=null;function Tn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function kn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var In="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn||n===wn||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+An,Pn="__reactEventHandlers$"+An,Rn="__reactContainere$"+An;function On(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Nn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[Nn]||e[Rn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Mn(e){return e[Pn]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function jn(e,t,n){(t=Un(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)jn(n[t],"captured",e);for(t=0;t<n.length;t++)jn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Un(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function qn(e){ot(e,Vn)}var Kn=null,Hn=null,Gn=null;function Wn(){if(Gn)return Gn;var e,t,n=Hn,r=n.length,i="value"in Kn?Kn.value:Kn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Gn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Jn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function Xn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function $n(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=Xn,e.release=$n}i(Jn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Jn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Jn);var er=Jn.extend({data:null}),tr=Jn.extend({data:null}),nr=[9,13,27,32],rr=S&&"CompositionEvent"in window,ir=null;S&&"documentMode"in document&&(ir=document.documentMode);var or=S&&"TextEvent"in window&&!ir,sr=S&&(!rr||ir&&8<ir&&11>=ir),ar=String.fromCharCode(32),cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var fr={eventTypes:cr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=cr.compositionStart;break e;case"compositionend":o=cr.compositionEnd;break e;case"compositionupdate":o=cr.compositionUpdate;break e}o=void 0}else hr?ur(e,n)&&(o=cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=cr.compositionStart);return o?(sr&&"ko"!==n.locale&&(hr||o!==cr.compositionStart?o===cr.compositionEnd&&hr&&(i=Wn()):(Hn="value"in(Kn=r)?Kn.value:Kn.textContent,hr=!0)),o=er.getPooled(o,t,n,r),i?o.data=i:null!==(i=dr(n))&&(o.data=i),qn(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return dr(t);case"keypress":return 32!==t.which?null:(lr=!0,ar);case"textInput":return(e=t.data)===ar&&lr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&ur(e,t)?(e=Wn(),Gn=Hn=Kn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sr&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(cr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Jn.getPooled(gr.change,e,t,n)).type="change",R(n),qn(e),e}var yr=null,br=null;function wr(e){ct(e)}function _r(e){if(_e(Ln(e)))return e}function Er(e,t){if("change"===e)return t}var Tr=!1;function kr(){yr&&(yr.detachEvent("onpropertychange",Ir),br=yr=null)}function Ir(e){if("value"===e.propertyName&&_r(br))if(e=vr(br,e,lt(e)),U)ct(e);else{U=!0;try{D(wr,e)}finally{U=!1,V()}}}function xr(e,t,n){"focus"===e?(kr(),br=n,(yr=t).attachEvent("onpropertychange",Ir)):"blur"===e&&kr()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(br)}function Cr(e,t){if("click"===e)return _r(t)}function Ar(e,t){if("input"===e||"change"===e)return _r(t)}S&&(Tr=ut("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:gr,_isInputEventSupported:Tr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Er;else if(mr(i))if(Tr)s=Ar;else{s=Sr;var a=xr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Cr);if(s&&(s=s(e,t)))return vr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Pr=Jn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Dr(){return Or}var Lr=0,Mr=0,Fr=!1,Ur=!1,jr=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ur?"mousemove"===e.type?e.screenY-t:0:(Ur=!0,0)}}),Vr=jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:zr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=jr,c=zr.mouseLeave,l=zr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Vr,c=zr.pointerLeave,l=zr.pointerEnter,u="pointer");if(e=null==s?o:Ln(s),o=null==t?o:Ln(t),(c=a.getPooled(c,s,n,r)).type=u+"leave",c.target=e,c.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=s)&&u)e:{for(l=u,s=0,e=a=r;e;e=Fn(e))s++;for(e=0,t=l;t;t=Fn(t))e++;for(;0<s-e;)a=Fn(a),s--;for(;0<e-s;)l=Fn(l),e--;for(;s--;){if(a===l||a===l.alternate)break e;a=Fn(a),l=Fn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Fn(r);for(r=[];u&&u!==l&&(null===(s=u.alternate)||s!==l);)r.push(u),u=Fn(u);for(u=0;u<a.length;u++)zn(a[u],"bubbled",c);for(u=r.length;0<u--;)zn(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kr=Object.prototype.hasOwnProperty;function Hr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Gr=S&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Jr=null,Xr=!1;function $r(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Xr||null==Qr||Qr!==dn(n)?null:("selectionStart"in(n=Qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jr&&Hr(Jr,n)?null:(Jr=n,(e=Jn.getPooled(Wr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Wr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=I.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Ln(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Jr=null);break;case"blur":Jr=Yr=Qr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,$r(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return $r(n,r)}return null}},ei=Jn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Jn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Pr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},si=Pr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=jr.extend({dataTransfer:null}),ci=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),li=Jn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),di={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=si;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ci;break;case We:case Qe:case Ye:e=ei;break;case Je:e=li;break;case"scroll":e=Pr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Jn}return qn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(s(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Mn,m=Dn,g=Ln,x({SimpleEventPlugin:di,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Nr,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var hi=[],fi=-1;function pi(e){0>fi||(e.current=hi[fi],hi[fi]=null,fi--)}function mi(e,t){fi++,hi[fi]=e.current,e.current=t}var gi={},vi={current:gi},yi={current:!1},bi=gi;function wi(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){pi(yi),pi(vi)}function Ti(e,t,n){if(vi.current!==gi)throw Error(s(168));mi(vi,t),mi(yi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,ge(t)||"Unknown",o));return i({},n,{},r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,bi=vi.current,mi(vi,e),mi(yi,yi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ki(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,pi(yi),pi(vi),mi(vi,e)):pi(yi),mi(yi,n)}var Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ni=o.unstable_requestPaint,Pi=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Ui={},ji=o.unstable_shouldYield,Vi=void 0!==Ni?Ni:function(){},zi=null,Bi=null,qi=!1,Ki=Pi(),Hi=1e4>Ki?Pi:function(){return Pi()-Ki};function Gi(){switch(Ri()){case Oi:return 99;case Di:return 98;case Li:return 97;case Mi:return 96;case Fi:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Oi;case 98:return Di;case 97:return Li;case 96:return Mi;case 95:return Fi;default:throw Error(s(332))}}function Qi(e,t){return e=Wi(e),Si(e,t)}function Yi(e,t,n){return e=Wi(e),Ci(e,t,n)}function Ji(e){return null===zi?(zi=[e],Bi=Ci(Oi,$i)):zi.push(e),Ui}function Xi(){if(null!==Bi){var e=Bi;Bi=null,Ai(e)}$i()}function $i(){if(!qi&&null!==zi){qi=!0;var e=0;try{var t=zi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ci(Oi,Xi),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function so(e){var t=to.current;pi(to),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function co(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ms=!0),e.firstContext=null)}function lo(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(s(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function po(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.alternate;null!==n&&fo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vo(e,t,n,r){var o=e.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var c=s.next;s.next=a.next,a.next=c}s=a,o.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=a))}if(null!==s){c=s.next;var l=o.baseState,u=0,d=null,h=null,f=null;if(null!==c)for(var p=c;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=m,d=l):f=f.next=m,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Ec(a,p.suspenseConfig);e:{var g=e,v=p;switch(a=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=v.payload)?g.call(m,l,a):g)||void 0===a)break e;l=i({},l,a);break e;case 2:uo=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===c){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=c,o.baseQueue=s=a,o.shared.pending=null}}null===f?d=l:f.next=h,o.baseState=d,o.baseQueue=f,Tc(u),e.expirationTime=u,e.memoizedState=l}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var bo=J.ReactCurrentBatchConfig,wo=(new r.Component).refs;function _o(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=bo.suspense;(i=po(r=uc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),dc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=bo.suspense;(i=po(r=uc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),dc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=lc(),r=bo.suspense;(r=po(n=uc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mo(e,r),dc(e,n)}};function To(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,o))}function ko(e,t,n){var r=!1,i=gi,o=t.contextType;return"object"===typeof o&&null!==o?o=lo(o):(i=_i(t)?bi:vi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?wi(e,i):gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wo,ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=lo(o):(o=_i(t)?bi:vi.current,i.context=wi(e,o)),vo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Eo.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var So=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===wo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function No(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case te:return(t=Wc(t,e.mode,n)).return=e,t}if(So(t)||me(t))return(t=Hc(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(So(n)||me(n))return null!==i?null:d(e,t,n,r,null);Ao(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||me(r))return d(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=me(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Co(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Hc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=Co(e,r,o),c.return=e,e=c)}return a(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wc(o,e.mode,c)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gc(o,e.mode,c)).return=e,e=r),a(e);if(So(o))return m(e,r,o,c);if(me(o))return g(e,r,o,c);if(u&&Ao(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Po=No(!0),Ro=No(!1),Oo={},Do={current:Oo},Lo={current:Oo},Mo={current:Oo};function Fo(e){if(e===Oo)throw Error(s(174));return e}function Uo(e,t){switch(mi(Mo,t),mi(Lo,e),mi(Do,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Do),mi(Do,t)}function jo(){pi(Do),pi(Lo),pi(Mo)}function Vo(e){Fo(Mo.current);var t=Fo(Do.current),n=Fe(t,e.type);t!==n&&(mi(Lo,e),mi(Do,n))}function zo(e){Lo.current===e&&(pi(Do),pi(Lo))}var Bo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===wn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ko(e,t){return{responder:e,props:t}}var Ho=J.ReactCurrentDispatcher,Go=J.ReactCurrentBatchConfig,Wo=0,Qo=null,Yo=null,Jo=null,Xo=!1;function $o(){throw Error(s(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function es(e,t,n,r,i,o){if(Wo=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ho.current=null===e||null===e.memoizedState?Ts:ks,e=n(r,i),t.expirationTime===Wo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Jo=Yo=null,t.updateQueue=null,Ho.current=Is,e=n(r,i)}while(t.expirationTime===Wo)}if(Ho.current=Es,t=null!==Yo&&null!==Yo.next,Wo=0,Jo=Yo=Qo=null,Xo=!1,t)throw Error(s(300));return e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Qo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function ns(){if(null===Yo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Jo?Qo.memoizedState:Jo.next;if(null!==t)Jo=t,Yo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Jo?Qo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function rs(e,t){return"function"===typeof t?t(e):t}function is(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var u=l.expirationTime;if(u<Wo){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=d,o=r):c=c.next=d,u>Qo.expirationTime&&(Qo.expirationTime=u,Tc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Ec(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,qr(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function os(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);qr(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ss(e){var t=ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e}).dispatch=_s.bind(null,Qo,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function cs(){return ns().memoizedState}function ls(e,t,n,r){var i=ts();Qo.effectTag|=e,i.memoizedState=as(1|t,n,void 0,void 0===r?null:r)}function us(e,t,n,r){var i=ns();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var s=Yo.memoizedState;if(o=s.destroy,null!==r&&Zo(r,s.deps))return void as(t,n,o,r)}Qo.effectTag|=e,i.memoizedState=as(1|t,n,o,r)}function ds(e,t){return ls(516,4,e,t)}function hs(e,t){return us(516,4,e,t)}function fs(e,t){return us(4,2,e,t)}function ps(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ms(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,us(4,2,ps.bind(null,t,e),n)}function gs(){}function vs(e,t){return ts().memoizedState=[e,void 0===t?null:t],e}function ys(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bs(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ws(e,t,n){var r=Gi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Go.suspense;Go.suspense=void 0===t?null:t;try{e(!1),n()}finally{Go.suspense=r}}))}function _s(e,t,n){var r=lc(),i=bo.suspense;i={expirationTime:r=uc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qo||null!==o&&o===Qo)Xo=!0,i.expirationTime=Wo,Qo.expirationTime=Wo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,qr(a,s))return}catch(c){}dc(e,r)}}var Es={readContext:lo,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},Ts={readContext:lo,useCallback:vs,useContext:lo,useEffect:ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ls(4,2,ps.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_s.bind(null,Qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ts().memoizedState=e},useState:ss,useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=ss(e),r=n[0],i=n[1];return ds((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ss(!1),n=t[0];return t=t[1],[vs(ws.bind(null,t,e),[t,e]),n]}},ks={readContext:lo,useCallback:ys,useContext:lo,useEffect:hs,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:bs,useReducer:is,useRef:cs,useState:function(){return is(rs)},useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=is(rs),r=n[0],i=n[1];return hs((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=is(rs),n=t[0];return t=t[1],[ys(ws.bind(null,t,e),[t,e]),n]}},Is={readContext:lo,useCallback:ys,useContext:lo,useEffect:hs,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:bs,useReducer:os,useRef:cs,useState:function(){return os(rs)},useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=os(rs),r=n[0],i=n[1];return hs((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=os(rs),n=t[0];return t=t[1],[ys(ws.bind(null,t,e),[t,e]),n]}},xs=null,Ss=null,Cs=!1;function As(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ns(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ps(e){if(Cs){var t=Ss;if(t){var n=t;if(!Ns(e,t)){if(!(t=Sn(n.nextSibling))||!Ns(e,t))return e.effectTag=-1025&e.effectTag|2,Cs=!1,void(xs=e);As(xs,n)}xs=e,Ss=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Cs=!1,xs=e}}function Rs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xs=e}function Os(e){if(e!==xs)return!1;if(!Cs)return Rs(e),Cs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!kn(t,e.memoizedProps))for(t=Ss;t;)As(e,t),t=Sn(t.nextSibling);if(Rs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){Ss=Sn(e.nextSibling);break e}t--}else n!==vn&&n!==wn&&n!==bn||t++}e=e.nextSibling}Ss=null}}else Ss=xs?Sn(e.stateNode.nextSibling):null;return!0}function Ds(){Ss=xs=null,Cs=!1}var Ls=J.ReactCurrentOwner,Ms=!1;function Fs(e,t,n,r){t.child=null===e?Ro(t,null,n,r):Po(t,e.child,n,r)}function Us(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,Fs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function js(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Vs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&e.ref===t.ref)?ta(e,t,o):(t.effectTag|=1,(e=qc(s,r)).ref=t.ref,e.return=t,t.child=e)}function Vs(e,t,n,r,i,o){return null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&(Ms=!1,i<o)?(t.expirationTime=e.expirationTime,ta(e,t,o)):Bs(e,t,n,r,o)}function zs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bs(e,t,n,r,i){var o=_i(n)?bi:vi.current;return o=wi(t,o),co(t,i),n=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,Fs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function qs(e,t,n,r,i){if(_i(n)){var o=!0;Ii(t)}else o=!1;if(co(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ko(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=lo(l):l=wi(t,l=_i(n)?bi:vi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&Io(t,s,r,l),uo=!1;var h=t.memoizedState;s.state=h,vo(t,r,s,i),c=t.memoizedState,a!==r||h!==c||yi.current||uo?("function"===typeof u&&(_o(t,n,u,r),c=t.memoizedState),(a=uo||To(t,n,a,r,h,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,fo(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:eo(t.type,a),c=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=lo(l):l=wi(t,l=_i(n)?bi:vi.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&Io(t,s,r,l),uo=!1,c=t.memoizedState,s.state=c,vo(t,r,s,i),h=t.memoizedState,a!==r||c!==h||yi.current||uo?("function"===typeof u&&(_o(t,n,u,r),h=t.memoizedState),(u=uo||To(t,n,a,r,c,h,l))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ks(e,t,n,r,o,i)}function Ks(e,t,n,r,i,o){zs(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return i&&xi(t,n,!1),ta(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,a,o)):Fs(e,t,a,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Uo(e,t.containerInfo)}var Gs,Ws,Qs,Ys,Js={dehydrated:null,retryTime:0};function Xs(e,t,n){var r,i=t.mode,o=t.pendingProps,s=Bo.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),mi(Bo,1&s),null===e){if(void 0!==o.fallback&&Ps(t),a){if(a=o.fallback,(o=Hc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hc(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Js,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Ro(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=qc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=qc(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Js,t.child=n,i}return n=Po(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Hc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hc(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Js,t.child=o,n}return t.memoizedState=null,t.child=Po(t,e,o.children,n)}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ao(e.return,t)}function Zs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fs(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n);else if(19===e.tag)$s(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o,t.lastEffect);break;case"together":Zs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Tc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function na(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&Ei(),null;case 3:return jo(),pi(yi),pi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Os(t)||(t.effectTag|=4),Ws(t),null;case 5:zo(t),n=Fo(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Qs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Fo(Do.current),Os(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Nn]=t,r[Pn]=a,o){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Qt(Xe[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":Te(r,a),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,a),Qt("invalid",r),ln(n,"onChange")}for(var c in sn(o,a),e=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(c)&&null!=l&&ln(n,c)}switch(o){case"input":we(r),xe(r,a,!0);break;case"textarea":we(r),Oe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=Me(o)),e===cn?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(o,{is:r.is}):(e=c.createElement(o),"select"===o&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,o),e[Nn]=t,e[Pn]=r,Gs(e,t,!1,!1),t.stateNode=e,c=an(o,r),o){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Xe.length;l++)Qt(Xe[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":Te(e,r),l=Ee(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),l=Ne(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}sn(o,l);var u=l;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?rn(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&Ve(e,d):"children"===a?"string"===typeof d?("textarea"!==o||""!==d)&&ze(e,d):"number"===typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?null!=d&&ln(n,a):null!=d&&X(e,a,d,c))}switch(o){case"input":we(e),xe(e,r,!1);break;case"textarea":we(e),Oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=un)}Tn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Fo(Mo.current),Fo(Do.current),Os(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return pi(Bo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Os(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?qa===Oa&&(qa=Ma):(qa!==Oa&&qa!==Ma||(qa=Fa),0!==Qa&&null!==Va&&(Jc(Va,Ba),Xc(Va,Qa)))),(n||r)&&(t.effectTag|=4),null);case 4:return jo(),Ws(t),null;case 10:return so(t),null;case 19:if(pi(Bo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=r.rendering)){if(o)na(r,!1);else if(qa!==Oa||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=qo(a))){for(t.effectTag|=64,na(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return mi(Bo,1&Bo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=qo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),na(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,na(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Bo.current,mi(Bo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ia(e){switch(e.tag){case 1:_i(e.type)&&Ei();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(jo(),pi(yi),pi(vi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return zo(e),null;case 13:return pi(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Bo),null;case 4:return jo(),null;case 10:return so(e),null;default:return null}}function oa(e,t){return{value:e,source:t,stack:ve(t)}}Gs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ws=function(){},Qs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,c,l=t.stateNode;switch(Fo(Do.current),e=null,n){case"input":s=Ee(l,s),r=Ee(l,r),e=[];break;case"option":s=Ce(l,s),r=Ce(l,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Ne(l,s),r=Ne(l,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=un)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(c in l=s[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,u)):"children"===a?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(k.hasOwnProperty(a)?(null!=u&&ln(o,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ys=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ca(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lc(e,n)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(s(163))}function ua(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function da(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ha(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void da(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Tn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(s(163))}function fa(e,t,n){switch("function"===typeof jc&&jc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Lc(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ca(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Lc(e,n)}}(t,n);break;case 5:ca(t);break;case 4:ba(e,t,n)}}function pa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pa(t)}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?va(e,n,t):ya(e,n,t)}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function ba(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,d=l;;)if(fa(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(fa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ua(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Pn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];"style"===a?rn(n,c):"dangerouslySetInnerHTML"===a?Ve(n,c):"children"===a?ze(n,c):X(n,a,c,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ja=Hi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _a(t);case 19:return void _a(t)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ea="function"===typeof WeakMap?WeakMap:Map;function Ta(e,t,n){(n=po(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,ec=r),aa(e,t)},n}function ka(e,t,n){(n=po(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return aa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this),aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ia,xa=Math.ceil,Sa=J.ReactCurrentDispatcher,Ca=J.ReactCurrentOwner,Aa=0,Na=8,Pa=16,Ra=32,Oa=0,Da=1,La=2,Ma=3,Fa=4,Ua=5,ja=Aa,Va=null,za=null,Ba=0,qa=Oa,Ka=null,Ha=1073741823,Ga=1073741823,Wa=null,Qa=0,Ya=!1,Ja=0,Xa=500,$a=null,Za=!1,ec=null,tc=null,nc=!1,rc=null,ic=90,oc=null,sc=0,ac=null,cc=0;function lc(){return(ja&(Pa|Ra))!==Aa?1073741821-(Hi()/10|0):0!==cc?cc:cc=1073741821-(Hi()/10|0)}function uc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Gi();if(0===(4&t))return 99===r?1073741823:1073741822;if((ja&Pa)!==Aa)return Ba;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Va&&e===Ba&&--e,e}function dc(e,t){if(50<sc)throw sc=0,ac=null,Error(s(185));if(null!==(e=hc(e,t))){var n=Gi();1073741823===t?(ja&Na)!==Aa&&(ja&(Pa|Ra))===Aa?gc(e):(pc(e),ja===Aa&&Xi()):pc(e),(4&ja)===Aa||98!==n&&99!==n||(null===oc?oc=new Map([[e,t]]):(void 0===(n=oc.get(e))||n>t)&&oc.set(e,t))}}function hc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Va===i&&(Tc(t),qa===Fa&&Jc(i,Ba)),Xc(i,t)),i}function fc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ji(gc.bind(null,e));else{var t=fc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=lc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ui&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ji(gc.bind(null,e)):Yi(r,mc.bind(null,e),{timeout:10*(1073741821-t)-Hi()}),e.callbackNode=t}}}function mc(e,t){if(cc=0,t)return $c(e,t=lc()),pc(e),null;var n=fc(e);if(0!==n){if(t=e.callbackNode,(ja&(Pa|Ra))!==Aa)throw Error(s(327));if(Rc(),e===Va&&n===Ba||bc(e,n),null!==za){var r=ja;ja|=Pa;for(var i=_c();;)try{Ic();break}catch(c){wc(e,c)}if(oo(),ja=r,Sa.current=i,qa===Da)throw t=Ka,bc(e,n),Jc(e,n),pc(e),t;if(null===za)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qa,Va=null,r){case Oa:case Da:throw Error(s(345));case La:$c(e,2<n?2:n);break;case Ma:if(Jc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cc(i)),1073741823===Ha&&10<(i=Ja+Xa-Hi())){if(Ya){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,bc(e,n);break}}if(0!==(o=fc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=In(Ac.bind(null,e),i);break}Ac(e);break;case Fa:if(Jc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cc(i)),Ya&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bc(e,n);break}if(0!==(i=fc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ga?r=10*(1073741821-Ga)-Hi():1073741823===Ha?r=0:(r=10*(1073741821-Ha)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xa(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=In(Ac.bind(null,e),r);break}Ac(e);break;case Ua:if(1073741823!==Ha&&null!==Wa){o=Ha;var a=Wa;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Hi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Jc(e,n),e.timeoutHandle=In(Ac.bind(null,e),r);break}}Ac(e);break;default:throw Error(s(329))}if(pc(e),e.callbackNode===t)return mc.bind(null,e)}}return null}function gc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(ja&(Pa|Ra))!==Aa)throw Error(s(327));if(Rc(),e===Va&&t===Ba||bc(e,t),null!==za){var n=ja;ja|=Pa;for(var r=_c();;)try{kc();break}catch(i){wc(e,i)}if(oo(),ja=n,Sa.current=r,qa===Da)throw n=Ka,bc(e,t),Jc(e,t),pc(e),n;if(null!==za)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Va=null,Ac(e),pc(e)}return null}function vc(e,t){var n=ja;ja|=1;try{return e(t)}finally{(ja=n)===Aa&&Xi()}}function yc(e,t){var n=ja;ja&=-2,ja|=Na;try{return e(t)}finally{(ja=n)===Aa&&Xi()}}function bc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==za)for(n=za.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:jo(),pi(yi),pi(vi);break;case 5:zo(r);break;case 4:jo();break;case 13:case 19:pi(Bo);break;case 10:so(r)}n=n.return}Va=e,za=qc(e.current,null),Ba=t,qa=Oa,Ka=null,Ga=Ha=1073741823,Wa=null,Qa=0,Ya=!1}function wc(e,t){for(;;){try{if(oo(),Ho.current=Es,Xo)for(var n=Qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wo=0,Jo=Yo=Qo=null,Xo=!1,null===za||null===za.return)return qa=Da,Ka=t,za=null;e:{var i=e,o=za.return,s=za,a=t;if(t=Ba,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var c=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var u=0!==(1&Bo.current),d=o;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=po(1073741823,null);v.tag=2,mo(s,v)}s.expirationTime=1073741823;break e}a=void 0,s=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Ea,a=new Set,y.set(c,a)):void 0===(a=y.get(c))&&(a=new Set,y.set(c,a)),!a.has(s)){a.add(s);var b=Mc.bind(null,i,c,s);c.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);a=Error((ge(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(s))}qa!==Ua&&(qa=La),a=oa(a,s),d=o;do{switch(d.tag){case 3:c=a,d.effectTag|=4096,d.expirationTime=t,go(d,Ta(d,c,t));break e;case 1:c=a;var w=d.type,_=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tc||!tc.has(_)))){d.effectTag|=4096,d.expirationTime=t,go(d,ka(d,c,t));break e}}d=d.return}while(null!==d)}za=Sc(za)}catch(E){t=E;continue}break}}function _c(){var e=Sa.current;return Sa.current=Es,null===e?Es:e}function Ec(e,t){e<Ha&&2<e&&(Ha=e),null!==t&&e<Ga&&2<e&&(Ga=e,Wa=t)}function Tc(e){e>Qa&&(Qa=e)}function kc(){for(;null!==za;)za=xc(za)}function Ic(){for(;null!==za&&!ji();)za=xc(za)}function xc(e){var t=Ia(e.alternate,e,Ba);return e.memoizedProps=e.pendingProps,null===t&&(t=Sc(e)),Ca.current=null,t}function Sc(e){za=e;do{var t=za.alternate;if(e=za.return,0===(2048&za.effectTag)){if(t=ra(t,za,Ba),1===Ba||1!==za.childExpirationTime){for(var n=0,r=za.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}za.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=za.firstEffect),null!==za.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=za.firstEffect),e.lastEffect=za.lastEffect),1<za.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=za:e.firstEffect=za,e.lastEffect=za))}else{if(null!==(t=ia(za)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=za.sibling))return t;za=e}while(null!==za);return qa===Oa&&(qa=Ua),null}function Cc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ac(e){var t=Gi();return Qi(99,Nc.bind(null,e,t)),null}function Nc(e,t){do{Rc()}while(null!==rc);if((ja&(Pa|Ra))!==Aa)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Va&&(za=Va=null,Ba=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=ja;ja|=Ra,Ca.current=null,_n=Wt;var a=mn();if(gn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(x){c=null;break e}var h=0,f=-1,p=-1,m=0,g=0,v=a,y=null;t:for(;;){for(var b;v!==c||0!==u&&3!==v.nodeType||(f=h+u),v!==d||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===a)break t;if(y===c&&++m===u&&(f=h),y===d&&++g===l&&(p=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;En={activeElementDetached:null,focusedElem:a,selectionRange:c},Wt=!1,$a=i;do{try{Pc()}catch(x){if(null===$a)throw Error(s(330));Lc($a,x),$a=$a.nextEffect}}while(null!==$a);$a=i;do{try{for(a=e,c=t;null!==$a;){var w=$a.effectTag;if(16&w&&ze($a.stateNode,""),128&w){var _=$a.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ga($a),$a.effectTag&=-3;break;case 6:ga($a),$a.effectTag&=-3,wa($a.alternate,$a);break;case 1024:$a.effectTag&=-1025;break;case 1028:$a.effectTag&=-1025,wa($a.alternate,$a);break;case 4:wa($a.alternate,$a);break;case 8:ba(a,u=$a,c),pa(u)}$a=$a.nextEffect}}catch(x){if(null===$a)throw Error(s(330));Lc($a,x),$a=$a.nextEffect}}while(null!==$a);if(E=En,_=mn(),w=E.focusedElem,c=E.selectionRange,_!==w&&w&&w.ownerDocument&&pn(w.ownerDocument.documentElement,w)){null!==c&&gn(w)&&(_=c.start,void 0===(E=c.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),u=w.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!E.extend&&a>c&&(u=c,c=a,a=u),u=fn(w,a),d=fn(w,c),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((_=_.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),a>c?(E.addRange(_),E.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Wt=!!_n,En=_n=null,e.current=n,$a=i;do{try{for(w=e;null!==$a;){var T=$a.effectTag;if(36&T&&ha(w,$a.alternate,$a),128&T){_=void 0;var k=$a.ref;if(null!==k){var I=$a.stateNode;$a.tag,_=I,"function"===typeof k?k(_):k.current=_}}$a=$a.nextEffect}}catch(x){if(null===$a)throw Error(s(330));Lc($a,x),$a=$a.nextEffect}}while(null!==$a);$a=null,Vi(),ja=o}else e.current=n;if(nc)nc=!1,rc=e,ic=t;else for($a=i;null!==$a;)t=$a.nextEffect,$a.nextEffect=null,$a=t;if(0===(t=e.firstPendingTime)&&(tc=null),1073741823===t?e===ac?sc++:(sc=0,ac=e):sc=0,"function"===typeof Uc&&Uc(n.stateNode,r),pc(e),Za)throw Za=!1,e=ec,ec=null,e;return(ja&Na)!==Aa||Xi(),null}function Pc(){for(;null!==$a;){var e=$a.effectTag;0!==(256&e)&&la($a.alternate,$a),0===(512&e)||nc||(nc=!0,Yi(97,(function(){return Rc(),null}))),$a=$a.nextEffect}}function Rc(){if(90!==ic){var e=97<ic?97:ic;return ic=90,Qi(e,Oc)}}function Oc(){if(null===rc)return!1;var e=rc;if(rc=null,(ja&(Pa|Ra))!==Aa)throw Error(s(331));var t=ja;for(ja|=Ra,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ua(5,n),da(5,n)}}catch(r){if(null===e)throw Error(s(330));Lc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ja=t,Xi(),!0}function Dc(e,t,n){mo(e,t=Ta(e,t=oa(n,t),1073741823)),null!==(e=hc(e,1073741823))&&pc(e)}function Lc(e,t){if(3===e.tag)Dc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){mo(n,e=ka(n,e=oa(t,e),1073741823)),null!==(n=hc(n,1073741823))&&pc(n);break}}n=n.return}}function Mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Va===e&&Ba===n?qa===Fa||qa===Ma&&1073741823===Ha&&Hi()-Ja<Xa?bc(e,Ba):Ya=!0:Yc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pc(e)))}function Fc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=uc(t=lc(),e,null)),null!==(e=hc(e,t))&&pc(e)}Ia=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)Ms=!0;else{if(r<n){switch(Ms=!1,t.tag){case 3:Hs(t),Ds();break;case 5:if(Vo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Ii(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xs(e,t,n):(mi(Bo,1&Bo.current),null!==(t=ta(e,t,n))?t.sibling:null);mi(Bo,1&Bo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(Bo,Bo.current),!r)return null}return ta(e,t,n)}Ms=!1}}else Ms=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=wi(t,vi.current),co(t,n),i=es(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Ii(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ho(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&_o(t,r,a,e),i.updater=Eo,t.stateNode=i,i._reactInternalFiber=t,xo(t,r,e,n),t=Ks(null,t,r,!0,o,n)}else t.tag=0,Fs(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===de)return 14}return 2}(i),e=eo(i,e),o){case 0:t=Bs(null,t,i,e,n);break e;case 1:t=qs(null,t,i,e,n);break e;case 11:t=Us(null,t,i,e,n);break e;case 14:t=js(null,t,i,eo(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fo(e,t),vo(t,r,null,n),(r=t.memoizedState.element)===i)Ds(),t=ta(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ss=Sn(t.stateNode.containerInfo.firstChild),xs=t,i=Cs=!0),i)for(n=Ro(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fs(e,t,r,n),Ds();t=t.child}return t;case 5:return Vo(t),null===e&&Ps(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,kn(r,i)?a=null:null!==o&&kn(r,o)&&(t.effectTag|=16),zs(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fs(e,t,a,n),t=t.child),t;case 6:return null===e&&Ps(t),null;case 13:return Xs(e,t,n);case 4:return Uo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Po(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Us(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(mi(to,c._currentValue),c._currentValue=o,null!==a)if(c=a.value,0===(o=qr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!yi.current){t=ta(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===c.tag&&((u=po(n,null)).tag=2,mo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ao(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}Fs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,co(t,n),r=r(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,Fs(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),js(e,t,i,o=eo(i.type,o),r,n);case 15:return Vs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Ii(t)):e=!1,co(t,n),ko(t,r,i),xo(t,r,i,n),Ks(null,t,r,!0,e,n);case 19:return ea(e,t,n)}throw Error(s(156,t.tag))};var Uc=null,jc=null;function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case ne:return Hc(n.children,i,o,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=zc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=zc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ue:return(e=zc(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case ce:a=11;break e;case de:a=14;break e;case he:a=16,r=null;break e;case fe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Hc(e,t,n,r){return(e=zc(7,e,r,t)).expirationTime=n,e}function Gc(e,t,n){return(e=zc(6,e,null,t)).expirationTime=n,e}function Wc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Jc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Xc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function $c(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zc(e,t,n,r){var i=t.current,o=lc(),a=bo.suspense;o=uc(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=ki(n,l,c);break e}}n=c}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),dc(i,o),o}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qc(e,t,n=null!=n&&!0===n.hydrate),i=zc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ho(i),e[Rn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){mt(e,t,n)})),Ct.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(s);a.call(e)}}Zc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=el(s);c.call(e)}}yc((function(){Zc(t,s,e,i)}))}return el(s)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[Rn]=null}))},gt=function(e){if(13===e.tag){var t=Zi(lc(),150,100);dc(e,t),nl(e,t)}},vt=function(e){13===e.tag&&(dc(e,3),nl(e,3))},yt=function(e){if(13===e.tag){var t=lc();dc(e,t=uc(t,e,null)),nl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(s(90));_e(r),Ie(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=vc,L=function(e,t,n,r,i){var o=ja;ja|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(ja=o)===Aa&&Xi()}},M=function(){(ja&(1|Pa|Ra))===Aa&&(function(){if(null!==oc){var e=oc;oc=null,e.forEach((function(e,t){$c(t,e),pc(t)})),Xi()}}(),Rc())},F=function(e,t){var n=ja;ja|=2;try{return e(t)}finally{(ja=n)===Aa&&Xi()}};var al={Events:[Dn,Ln,Mn,x,T,qn,function(e){ot(e,Bn)},R,O,$t,ct,Rc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Uc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},jc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:On,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((ja&(Pa|Ra))!==Aa)throw Error(s(187));var n=ja;ja|=1;try{return Qi(99,e.bind(null,t))}finally{ja=n,Xi()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return!!e._reactRootContainer&&(yc((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[Rn]=null}))})),!0)},t.unstable_batchedUpdates=vc,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return ol(e,t,n,!1,r)},t.version="16.14.0"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},86:(e,t,n)=>{"use strict";e.exports=n(82)},323:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n(688),o=r(n(43)),s=n(321);n(173),n(620);var a=r(n(213));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),p=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},g=function(e){return e},v=o.forwardRef;void 0===v&&(v=g);var y=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,s=d(e,["innerRef","navigate","onClick"]),a=s.target,l=c({},s,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=g!==v&&t||n,o.createElement("a",l)})),b=v((function(e,t){var n=e.component,r=void 0===n?y:n,l=e.replace,u=e.to,h=e.innerRef,f=d(e,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||a(!1);var n=e.history,i=m(p(u,e.location),e.location),d=i?n.createHref(i):"",y=c({},f,{href:d,navigate:function(){var t=p(u,e.location),r=s.createPath(e.location)===s.createPath(m(t));(l||r?n.replace:n.push)(t)}});return g!==v?y.ref=t||h:y.innerRef=h,o.createElement(r,y)}))})),w=function(e){return e},_=o.forwardRef;void 0===_&&(_=w);var E=_((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,u=e.activeStyle,h=e.className,f=e.exact,g=e.isActive,v=e.location,y=e.sensitive,E=e.strict,T=e.style,k=e.to,I=e.innerRef,x=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||a(!1);var n=v||e.location,s=m(p(k,n),n),d=s.pathname,S=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=S?i.matchPath(n.pathname,{path:S,exact:f,sensitive:y,strict:E}):null,A=!!(g?g(C,n):C),N="function"==typeof h?h(A):h,P="function"==typeof T?T(A):T;A&&(N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(N,l),P=c({},P,u));var R=c({"aria-current":A&&r||null,className:N,style:P,to:s},x);return w!==_?R.ref=t||I:R.innerRef=I,o.createElement(b,R)}))}));Object.defineProperty(t,"zy",{enumerable:!0,get:function(){return i.useLocation}}),Object.defineProperty(t,"g",{enumerable:!0,get:function(){return i.useParams}}),t.N_=b},688:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MemoryRouter:()=>E,Prompt:()=>k,Redirect:()=>A,Route:()=>D,Router:()=>_,StaticRouter:()=>V,Switch:()=>z,__HistoryContext:()=>b,__RouterContext:()=>w,generatePath:()=>C,matchPath:()=>O,useHistory:()=>K,useLocation:()=>H,useParams:()=>G,useRouteMatch:()=>W,withRouter:()=>B});var r=n(540),i=n(43),o=n(173),s=n.n(o),a=n(321),c=n(404),l=n(168),u=n(504),d=n.n(u),h=(n(86),n(587)),f=n(219),p=n.n(f),m=1073741823,g="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var v=i.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,r.A)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(s=i)?0!==o||1/o===1/s:o!==o&&s!==s)?n=0:(n="function"===typeof t?t(r,i):m,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,s},i.render=function(){return this.props.children},n}(i.Component);c.childContextTypes=((n={})[a]=s().object.isRequired,n);var l=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.A)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?m:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?m:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return l.contextTypes=((o={})[a]=s().object,o),{Provider:c,Consumer:l}},y=function(e){var t=v();return t.displayName=e,t},b=y("Router-History"),w=y("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,r.A)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.createElement(w.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,a.createMemoryHistory)(t.props),t}return(0,r.A)(t,e),t.prototype.render=function(){return i.createElement(_,{history:this.history,children:this.props.children})},t}(i.Component);var T=function(e){function t(){return e.apply(this,arguments)||this}(0,r.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);function k(e){var t=e.message,n=e.when,r=void 0===n||n;return i.createElement(w.Consumer,null,(function(e){if(e||(0,c.A)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.createElement(T,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var I={},x=1e4,S=0;function C(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(I[e])return I[e];var t=d().compile(e);return S<x&&(I[e]=t,S++),t}(e)(t,{pretty:!0})}function A(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.createElement(w.Consumer,null,(function(e){e||(0,c.A)(!1);var r=e.history,s=e.staticContext,u=o?r.push:r.replace,d=(0,a.createLocation)(t?"string"===typeof n?C(n,t.params):(0,l.A)({},n,{pathname:C(n.pathname,t.params)}):n);return s?(u(d),null):i.createElement(T,{onMount:function(){u(d)},onUpdate:function(e,t){var n=(0,a.createLocation)(t.to);(0,a.locationsAreEqual)(n,(0,l.A)({},d,{key:n.key}))||u(d)},to:n})}))}var N={},P=1e4,R=0;function O(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=N[n]||(N[n]={});if(r[e])return r[e];var i=[],o={regexp:d()(e,i,t),keys:i};return R<P&&(r[e]=o,R++),o}(n,{end:o,strict:a,sensitive:l}),i=r.regexp,s=r.keys,c=i.exec(e);if(!c)return null;var u=c[0],h=c.slice(1),f=e===u;return o&&!f?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:f,params:s.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var D=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return i.createElement(w.Consumer,null,(function(t){t||(0,c.A)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?O(n.pathname,e.props):t.match,o=(0,l.A)({},t,{location:n,match:r}),s=e.props,a=s.children,u=s.component,d=s.render;return Array.isArray(a)&&function(e){return 0===i.Children.count(e)}(a)&&(a=null),i.createElement(w.Provider,{value:o},o.match?a?"function"===typeof a?a(o):a:u?i.createElement(u,o):d?d(o):null:"function"===typeof a?a(o):null)}))},t}(i.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function M(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:(0,l.A)({},t,{pathname:t.pathname.substr(n.length)})}function F(e){return"string"===typeof e?e:(0,a.createPath)(e)}function U(e){return function(){(0,c.A)(!1)}}function j(){}var V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return j},t.handleBlock=function(){return j},t}(0,r.A)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=t,s.location=function(e,t){return e?(0,l.A)({},t,{pathname:L(e)+t.pathname}):t}(i,(0,a.createLocation)(e)),s.url=F(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,s=e.location,c=void 0===s?"/":s,u=(0,h.A)(e,["basename","context","location"]),d={createHref:function(e){return L(n+F(e))},action:"POP",location:M(n,(0,a.createLocation)(c)),push:this.handlePush,replace:this.handleReplace,go:U(),goBack:U(),goForward:U(),listen:this.handleListen,block:this.handleBlock};return i.createElement(_,(0,l.A)({},u,{history:d,staticContext:o}))},t}(i.Component);var z=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return i.createElement(w.Consumer,null,(function(t){t||(0,c.A)(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var s=e.props.path||e.props.from;r=s?O(o.pathname,(0,l.A)({},e.props,{path:s})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);function B(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,h.A)(t,["wrappedComponentRef"]);return i.createElement(w.Consumer,null,(function(t){return t||(0,c.A)(!1),i.createElement(e,(0,l.A)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}var q=i.useContext;function K(){return q(b)}function H(){return q(w).location}function G(){var e=q(w).match;return e?e.params:{}}function W(e){var t=H(),n=q(w).match;return e?O(t.pathname,e):n}},153:(e,t,n)=>{"use strict";var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.jsx=l,t.jsxs=l},202:(e,t,n)=>{"use strict";var r=n(123),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var T=E.prototype=new _;T.constructor=E,r(T,w.prototype),T.isPureReactComponent=!0;var k={current:null},I=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)I.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,N=[];function P(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function O(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+L(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=t+L(i=e[c],c);a+=O(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(i=e.next()).done;)a+=O(i=i.value,l=t+L(i,c++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function D(e,t,n){return null==e?0:O(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,F,t=P(t,o,r,i)),R(t)}var j={current:null};function V(){var e=j.current;if(null===e)throw Error(v(321));return e}var z={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,M,t=P(null,null,t,n)),R(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=a,t.Profiler=l,t.PureComponent=E,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),s=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)I.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,c=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(l,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var v=!1,y=null,b=-1,w=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+w;try{y(!0,e)?T.postMessage(null):(v=!1,y=null)}catch(n){throw T.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,T.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>S(s,n))void 0!==c&&0>S(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>S(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,P=null,R=3,O=!1,D=!1,L=!1;function M(e){for(var t=I(A);null!==t;){if(null===t.callback)x(A);else{if(!(t.startTime<=e))break;x(A),t.sortIndex=t.expirationTime,k(C,t)}t=I(A)}}function F(e){if(L=!1,M(e),!D)if(null!==I(C))D=!0,n(U);else{var t=I(A);null!==t&&r(F,t.startTime-e)}}function U(e,n){D=!1,L&&(L=!1,i()),O=!0;var s=R;try{for(M(n),P=I(C);null!==P&&(!(P.expirationTime>n)||e&&!o());){var a=P.callback;if(null!==a){P.callback=null,R=P.priorityLevel;var c=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?P.callback=c:P===I(C)&&x(C),M(n)}else x(C);P=I(C)}if(null!==P)var l=!0;else{var u=I(A);null!==u&&r(F,u.startTime-n),l=!1}return l}finally{P=null,R=s,O=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||O||(D=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return I(C)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"===typeof s&&null!==s){var c=s.delay;c="number"===typeof c&&0<c?a+c:a,s="number"===typeof s.timeout?s.timeout:j(e)}else s=j(e),c=a;return e={id:N++,callback:o,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>a?(e.sortIndex=c,k(A,e),null===I(C)&&e===I(A)&&(L?i():L=!0,r(F,c-a))):(e.sortIndex=s,k(C,e),D||O||(D=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=I(C);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},213:e=>{"use strict";var t="Invariant failed";e.exports=function(e,n){if(!e)throw new Error(t)}},620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e,t){}},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>i})},587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})},404:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t,o=n?"".concat(i,": ").concat(n):i;throw new Error(o)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Zt,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>_r,_addOrOverwriteComponent:()=>Er,_apps:()=>yr,_clearComponents:()=>Cr,_components:()=>wr,_getProvider:()=>kr,_isFirebaseApp:()=>xr,_isFirebaseServerApp:()=>Sr,_registerComponent:()=>Tr,_removeServiceInstance:()=>Ir,_serverApps:()=>br,deleteApp:()=>Fr,getApp:()=>Lr,getApps:()=>Mr,initializeApp:()=>Or,initializeServerApp:()=>Dr,onLog:()=>jr,registerVersion:()=>Ur,setLogLevel:()=>Vr});var t=n(43),r=n(950),i=n(168),o=n(587),s=n(139),a=n.n(s),c=t.createContext({});c.Consumer,c.Provider;function l(e,n){var r=(0,t.useContext)(c);return e||r[n]||n}var u=/-(.)/g;var d=["className","bsPrefix","as"],h=function(e){return e[0].toUpperCase()+(t=e,t.replace(u,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function f(e,n){var r=void 0===n?{}:n,s=r.displayName,c=void 0===s?h(e):s,u=r.Component,f=r.defaultProps,p=t.forwardRef((function(n,r){var s=n.className,c=n.bsPrefix,h=n.as,f=void 0===h?u||"div":h,p=(0,o.A)(n,d),m=l(c,e);return t.createElement(f,(0,i.A)({ref:r,className:a()(s,m)},p))}));return p.defaultProps=f,p.displayName=c,p}const p=function(e){return t.forwardRef((function(n,r){return t.createElement("div",(0,i.A)({},n,{ref:r,className:a()(n.className,e)}))}))};var m=t.createContext(null);m.displayName="CardContext";const g=m;var v=["bsPrefix","className","variant","as"],y=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.variant,u=e.as,d=void 0===u?"img":u,h=(0,o.A)(e,v),f=l(r,"card-img");return t.createElement(d,(0,i.A)({ref:n,className:a()(c?f+"-"+c:f,s)},h))}));y.displayName="CardImg",y.defaultProps={variant:null};const b=y;var w=["bsPrefix","className","bg","text","border","body","children","as"],_=p("h5"),E=p("h6"),T=f("card-body"),k=f("card-title",{Component:_}),I=f("card-subtitle",{Component:E}),x=f("card-link",{Component:"a"}),S=f("card-text",{Component:"p"}),C=f("card-header"),A=f("card-footer"),N=f("card-img-overlay"),P=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.bg,u=e.text,d=e.border,h=e.body,f=e.children,p=e.as,m=void 0===p?"div":p,v=(0,o.A)(e,w),y=l(r,"card"),b=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return t.createElement(g.Provider,{value:b},t.createElement(m,(0,i.A)({ref:n},v,{className:a()(s,y,c&&"bg-"+c,u&&"text-"+u,d&&"border-"+d)}),h?t.createElement(T,null,f):f))}));P.displayName="Card",P.defaultProps={body:!1},P.Img=b,P.Title=k,P.Subtitle=I,P.Body=T,P.Link=x,P.Text=S,P.Header=C,P.Footer=A,P.ImgOverlay=N;const R=P;n(740);function O(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function D(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function L(e,n){return Object.keys(n).reduce((function(r,s){var a,c=r,l=c[O(s)],u=c[s],d=(0,o.A)(c,[O(s),s].map(D)),h=n[s],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),s=o[0],a=o[1],c=void 0!==e,l=i.current;return i.current=c,!c&&l&&s!==n&&a(n),[c?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(u,l,e[h]),p=f[0],m=f[1];return(0,i.A)({},d,((a={})[s]=p,a[h]=m,a))}),e)}function M(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function F(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function U(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}M.__suppressDeprecationWarning=!0,F.__suppressDeprecationWarning=!0,U.__suppressDeprecationWarning=!0;const j=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function V(e){const n=j(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}var z=n(540);const B=!1,q=t.createContext(null);var K="unmounted",H="exited",G="entering",W="entered",Q="exiting",Y=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=H,r.appearStatus=G):i=W:i=t.unmountOnExit||t.mountOnEnter?K:H,r.state={status:i},r.nextCallback=null,r}(0,z.A)(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===K?{status:H}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==G&&n!==W&&(t=G):n!==G&&n!==W||(t=Q)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===G){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===H&&this.setState({status:K})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[r.findDOMNode(this),i],s=o[0],a=o[1],c=this.getTimeouts(),l=i?c.appear:c.enter;!e&&!n||B?this.safeSetState({status:W},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:G},(function(){t.props.onEntering(s,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:W},(function(){t.props.onEntered(s,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!B?(this.props.onExit(i),this.safeSetState({status:Q},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:H},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:H},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===K)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,o.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(q.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function J(){}Y.contextType=q,Y.propTypes={},Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J},Y.UNMOUNTED=K,Y.EXITED=H,Y.ENTERING=G,Y.ENTERED=W,Y.EXITING=Q;const X=Y;function $(e){return e&&e.ownerDocument||document}function Z(e,t){return function(e){var t=$(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ee=/([A-Z])/g;var te=/^ms-/;function ne(e){return function(e){return e.replace(ee,"-$1").toLowerCase()}(e).replace(te,"-ms-")}var re=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ie=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(ne(t))||Z(e).getPropertyValue(ne(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!re.test(e))}(i)?n+=ne(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(ne(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},oe=!("undefined"===typeof window||!window.document||!window.document.createElement);var se=!1,ae=!1;try{var ce={get passive(){return se=!0},get once(){return ae=se=!0}};oe&&(window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,!0))}catch(_N){}const le=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ae){var i=r.once,o=r.capture,s=n;!ae&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,se?r:o)}e.addEventListener(t,n,r)};const ue=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const de=function(e,t,n,r){return le(e,t,n,r),function(){ue(e,t,n,r)}};function he(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=de(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function fe(e,t,n,r){null==n&&(n=function(e){var t=ie(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=he(e,n,r),o=de(e,"transitionend",t);return function(){i(),o()}}function pe(e,t){var n=ie(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function me(e,t){var n=pe(e,"transitionDuration"),r=pe(e,"transitionDelay"),i=fe(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function ge(e){e.offsetHeight}var ve,ye=["className","children"],be=((ve={})[G]="show",ve[W]="show",ve),we=t.forwardRef((function(e,n){var r=e.className,s=e.children,c=(0,o.A)(e,ye),l=(0,t.useCallback)((function(e){ge(e),c.onEnter&&c.onEnter(e)}),[c]);return t.createElement(X,(0,i.A)({ref:n,addEndListener:me},c,{onEnter:l}),(function(e,n){return t.cloneElement(s,(0,i.A)({},n,{className:a()("fade",r,s.props.className,be[e])}))}))}));we.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},we.displayName="Fade";const _e=we;var Ee=n(173),Te=n.n(Ee),ke=["label","onClick","className"],Ie={label:Te().string.isRequired,onClick:Te().func},xe=t.forwardRef((function(e,n){var r=e.label,s=e.onClick,c=e.className,l=(0,o.A)(e,ke);return t.createElement("button",(0,i.A)({ref:n,type:"button",className:a()("close",c),onClick:s},l),t.createElement("span",{"aria-hidden":"true"},"\xd7"),t.createElement("span",{className:"sr-only"},r))}));xe.displayName="CloseButton",xe.propTypes=Ie,xe.defaultProps={label:"Close"};const Se=xe;const Ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};var Ae=["as","disabled","onKeyDown"];function Ne(e){return!e||"#"===e.trim()}var Pe=t.forwardRef((function(e,n){var r=e.as,s=void 0===r?"a":r,a=e.disabled,c=e.onKeyDown,l=(0,o.A)(e,Ae),u=function(e){var t=l.href,n=l.onClick;(a||Ne(t))&&e.preventDefault(),a?e.stopPropagation():n&&n(e)};return Ne(l.href)&&(l.role=l.role||"button",l.href=l.href||"#"),a&&(l.tabIndex=-1,l["aria-disabled"]=!0),t.createElement(s,(0,i.A)({ref:n},l,{onClick:u,onKeyDown:Ce((function(e){" "===e.key&&(e.preventDefault(),u(e))}),c)}))}));Pe.displayName="SafeAnchor";const Re=Pe;var Oe=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],De=p("h4");De.displayName="DivStyledAsH4";var Le=f("alert-heading",{Component:De}),Me=f("alert-link",{Component:Re}),Fe={show:!0,transition:_e,closeLabel:"Close alert"},Ue=t.forwardRef((function(e,n){var r=L(e,{show:"onClose"}),s=r.bsPrefix,c=r.show,u=r.closeLabel,d=r.className,h=r.children,f=r.variant,p=r.onClose,m=r.dismissible,g=r.transition,v=(0,o.A)(r,Oe),y=l(s,"alert"),b=V((function(e){p&&p(!1,e)})),w=!0===g?_e:g,_=t.createElement("div",(0,i.A)({role:"alert"},w?void 0:v,{ref:n,className:a()(d,y,f&&y+"-"+f,m&&y+"-dismissible")}),m&&t.createElement(Se,{onClick:b,label:u}),h);return w?t.createElement(w,(0,i.A)({unmountOnExit:!0},v,{ref:void 0,in:c}),_):c?_:null}));Ue.displayName="Alert",Ue.defaultProps=Fe,Ue.Link=Me,Ue.Heading=Le;const je=Ue;n(197);var Ve=["as","className","type","tooltip"],ze={type:Te().string,tooltip:Te().bool,as:Te().elementType},Be=t.forwardRef((function(e,n){var r=e.as,s=void 0===r?"div":r,c=e.className,l=e.type,u=void 0===l?"valid":l,d=e.tooltip,h=void 0!==d&&d,f=(0,o.A)(e,Ve);return t.createElement(s,(0,i.A)({},f,{ref:n,className:a()(c,u+"-"+(h?"tooltip":"feedback"))}))}));Be.displayName="Feedback",Be.propTypes=ze;const qe=Be;const Ke=t.createContext({controlId:void 0});var He=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],Ge=t.forwardRef((function(e,n){var r=e.id,s=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,d=e.type,h=void 0===d?"checkbox":d,f=e.isValid,p=void 0!==f&&f,m=e.isInvalid,g=void 0!==m&&m,v=e.isStatic,y=e.as,b=void 0===y?"input":y,w=(0,o.A)(e,He),_=(0,t.useContext)(Ke),E=_.controlId,T=_.custom?[c,"custom-control-input"]:[s,"form-check-input"];return s=l(T[0],T[1]),t.createElement(b,(0,i.A)({},w,{ref:n,type:h,id:r||E,className:a()(u,s,p&&"is-valid",g&&"is-invalid",v&&"position-static")}))}));Ge.displayName="FormCheckInput";const We=Ge;var Qe=["bsPrefix","bsCustomPrefix","className","htmlFor"],Ye=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.bsCustomPrefix,c=e.className,u=e.htmlFor,d=(0,o.A)(e,Qe),h=(0,t.useContext)(Ke),f=h.controlId,p=h.custom?[s,"custom-control-label"]:[r,"form-check-label"];return r=l(p[0],p[1]),t.createElement("label",(0,i.A)({},d,{ref:n,htmlFor:u||f,className:a()(c,r)}))}));Ye.displayName="FormCheckLabel";const Je=Ye;var Xe=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],$e=t.forwardRef((function(e,n){var r=e.id,s=e.bsPrefix,c=e.bsCustomPrefix,u=e.inline,d=void 0!==u&&u,h=e.disabled,f=void 0!==h&&h,p=e.isValid,m=void 0!==p&&p,g=e.isInvalid,v=void 0!==g&&g,y=e.feedbackTooltip,b=void 0!==y&&y,w=e.feedback,_=e.className,E=e.style,T=e.title,k=void 0===T?"":T,I=e.type,x=void 0===I?"checkbox":I,S=e.label,C=e.children,A=e.custom,N=e.as,P=void 0===N?"input":N,R=(0,o.A)(e,Xe),O="switch"===x||A,D=O?[c,"custom-control"]:[s,"form-check"];s=l(D[0],D[1]);var L=(0,t.useContext)(Ke).controlId,M=(0,t.useMemo)((function(){return{controlId:r||L,custom:O}}),[L,O,r]),F=O||null!=S&&!1!==S&&!C,U=t.createElement(We,(0,i.A)({},R,{type:"switch"===x?"checkbox":x,ref:n,isValid:m,isInvalid:v,isStatic:!F,disabled:f,as:P}));return t.createElement(Ke.Provider,{value:M},t.createElement("div",{style:E,className:a()(_,s,O&&"custom-"+x,d&&s+"-inline")},C||t.createElement(t.Fragment,null,U,F&&t.createElement(Je,{title:k},S),(m||v)&&t.createElement(qe,{type:m?"valid":"invalid",tooltip:b},w))))}));$e.displayName="FormCheck",$e.Input=We,$e.Label=Je;const Ze=$e;var et=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],tt=t.forwardRef((function(e,n){var r=e.id,s=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,d=e.isValid,h=e.isInvalid,f=e.lang,p=e.as,m=void 0===p?"input":p,g=(0,o.A)(e,et),v=(0,t.useContext)(Ke),y=v.controlId,b=v.custom?[c,"custom-file-input"]:[s,"form-control-file"];return s=l(b[0],b[1]),t.createElement(m,(0,i.A)({},g,{ref:n,id:r||y,type:"file",lang:f,className:a()(u,s,d&&"is-valid",h&&"is-invalid")}))}));tt.displayName="FormFileInput";const nt=tt;var rt=["bsPrefix","bsCustomPrefix","className","htmlFor"],it=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.bsCustomPrefix,c=e.className,u=e.htmlFor,d=(0,o.A)(e,rt),h=(0,t.useContext)(Ke),f=h.controlId,p=h.custom?[s,"custom-file-label"]:[r,"form-file-label"];return r=l(p[0],p[1]),t.createElement("label",(0,i.A)({},d,{ref:n,htmlFor:u||f,className:a()(c,r),"data-browse":d["data-browse"]}))}));it.displayName="FormFileLabel";const ot=it;var st=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],at=t.forwardRef((function(e,n){var r=e.id,s=e.bsPrefix,c=e.bsCustomPrefix,u=e.disabled,d=void 0!==u&&u,h=e.isValid,f=void 0!==h&&h,p=e.isInvalid,m=void 0!==p&&p,g=e.feedbackTooltip,v=void 0!==g&&g,y=e.feedback,b=e.className,w=e.style,_=e.label,E=e.children,T=e.custom,k=e.lang,I=e["data-browse"],x=e.as,S=void 0===x?"div":x,C=e.inputAs,A=void 0===C?"input":C,N=(0,o.A)(e,st),P=T?[c,"custom"]:[s,"form-file"];s=l(P[0],P[1]);var R=(0,t.useContext)(Ke).controlId,O=(0,t.useMemo)((function(){return{controlId:r||R,custom:T}}),[R,T,r]),D=null!=_&&!1!==_&&!E,L=t.createElement(nt,(0,i.A)({},N,{ref:n,isValid:f,isInvalid:m,disabled:d,as:A,lang:k}));return t.createElement(Ke.Provider,{value:O},t.createElement(S,{style:w,className:a()(b,s,T&&"custom-file")},E||t.createElement(t.Fragment,null,T?t.createElement(t.Fragment,null,L,D&&t.createElement(ot,{"data-browse":I},_)):t.createElement(t.Fragment,null,D&&t.createElement(ot,null,_),L),(f||m)&&t.createElement(qe,{type:f?"valid":"invalid",tooltip:v},y))))}));at.displayName="FormFile",at.Input=nt,at.Label=ot;const ct=at;n(440);var lt=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],ut=t.forwardRef((function(e,n){var r,s,c=e.bsPrefix,u=e.bsCustomPrefix,d=e.type,h=e.size,f=e.htmlSize,p=e.id,m=e.className,g=e.isValid,v=void 0!==g&&g,y=e.isInvalid,b=void 0!==y&&y,w=e.plaintext,_=e.readOnly,E=e.custom,T=e.as,k=void 0===T?"input":T,I=(0,o.A)(e,lt),x=(0,t.useContext)(Ke).controlId,S=E?[u,"custom"]:[c,"form-control"];if(c=l(S[0],S[1]),w)(s={})[c+"-plaintext"]=!0,r=s;else if("file"===d){var C;(C={})[c+"-file"]=!0,r=C}else if("range"===d){var A;(A={})[c+"-range"]=!0,r=A}else if("select"===k&&E){var N;(N={})[c+"-select"]=!0,N[c+"-select-"+h]=h,r=N}else{var P;(P={})[c]=!0,P[c+"-"+h]=h,r=P}return t.createElement(k,(0,i.A)({},I,{type:d,size:f,ref:n,readOnly:_,id:p||x,className:a()(m,r,v&&"is-valid",b&&"is-invalid")}))}));ut.displayName="FormControl";const dt=Object.assign(ut,{Feedback:qe});var ht=["bsPrefix","className","children","controlId","as"],ft=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.children,u=e.controlId,d=e.as,h=void 0===d?"div":d,f=(0,o.A)(e,ht);r=l(r,"form-group");var p=(0,t.useMemo)((function(){return{controlId:u}}),[u]);return t.createElement(Ke.Provider,{value:p},t.createElement(h,(0,i.A)({},f,{ref:n,className:a()(s,r)}),c))}));ft.displayName="FormGroup";const pt=ft;var mt=["bsPrefix","className","as"],gt=["xl","lg","md","sm","xs"],vt=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.as,u=void 0===c?"div":c,d=(0,o.A)(e,mt),h=l(r,"col"),f=[],p=[];return gt.forEach((function(e){var t,n,r,i=d[e];if(delete d[e],"object"===typeof i&&null!=i){var o=i.span;t=void 0===o||o,n=i.offset,r=i.order}else t=i;var s="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+h+s:""+h+s+"-"+t),null!=r&&p.push("order"+s+"-"+r),null!=n&&p.push("offset"+s+"-"+n)})),f.length||f.push(h),t.createElement(u,(0,i.A)({},d,{ref:n,className:a().apply(void 0,[s].concat(f,p))}))}));vt.displayName="Col";const yt=vt;var bt=["as","bsPrefix","column","srOnly","className","htmlFor"],wt=t.forwardRef((function(e,n){var r=e.as,s=void 0===r?"label":r,c=e.bsPrefix,u=e.column,d=e.srOnly,h=e.className,f=e.htmlFor,p=(0,o.A)(e,bt),m=(0,t.useContext)(Ke).controlId;c=l(c,"form-label");var g="col-form-label";"string"===typeof u&&(g=g+" "+g+"-"+u);var v=a()(h,c,d&&"sr-only",u&&g);return f=f||m,u?t.createElement(yt,(0,i.A)({ref:n,as:"label",className:v,htmlFor:f},p)):t.createElement(s,(0,i.A)({ref:n,className:v,htmlFor:f},p))}));wt.displayName="FormLabel",wt.defaultProps={column:!1,srOnly:!1};const _t=wt;var Et=["bsPrefix","className","as","muted"],Tt=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.as,u=void 0===c?"small":c,d=e.muted,h=(0,o.A)(e,Et);return r=l(r,"form-text"),t.createElement(u,(0,i.A)({},h,{ref:n,className:a()(s,r,d&&"text-muted")}))}));Tt.displayName="FormText";const kt=Tt;var It=t.forwardRef((function(e,n){return t.createElement(Ze,(0,i.A)({},e,{ref:n,type:"switch"}))}));It.displayName="Switch",It.Input=Ze.Input,It.Label=Ze.Label;const xt=It;var St=["bsPrefix","inline","className","validated","as"],Ct=f("form-row"),At=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.inline,c=e.className,u=e.validated,d=e.as,h=void 0===d?"form":d,f=(0,o.A)(e,St);return r=l(r,"form"),t.createElement(h,(0,i.A)({},f,{ref:n,className:a()(c,u&&"was-validated",s&&r+"-inline")}))}));At.displayName="Form",At.defaultProps={inline:!1},At.Row=Ct,At.Group=pt,At.Control=dt,At.Check=Ze,At.File=ct,At.Switch=xt,At.Label=_t,At.Text=kt;const Nt=At;var Pt=["bsPrefix","variant","size","active","className","block","type","as"],Rt=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.variant,c=e.size,u=e.active,d=e.className,h=e.block,f=e.type,p=e.as,m=(0,o.A)(e,Pt),g=l(r,"btn"),v=a()(d,g,u&&"active",s&&g+"-"+s,h&&g+"-block",c&&g+"-"+c);if(m.href)return t.createElement(Re,(0,i.A)({},m,{as:p,ref:n,className:a()(v,m.disabled&&"disabled")}));n&&(m.ref=n),f?m.type=f:p||(m.type="button");var y=p||"button";return t.createElement(y,(0,i.A)({},m,{className:v}))}));Rt.displayName="Button",Rt.defaultProps={variant:"primary",active:!1,disabled:!1};const Ot=Rt,Dt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Mt;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Mt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(e){return function(e){const t=Dt(e);return Lt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ut=function(e){try{return Lt.decodeString(e,!0)}catch(_N){console.error("base64Decode failed: ",_N)}return null};function jt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=jt(e[n],t[n]));return e}const Vt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,zt=()=>{try{return Vt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/drop-drive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyByBlhcJjCyvmaoth1K2-m9xU-6W75iKos",REACT_APP_FIREBASE_AUTH_DOMAIN:"drop-drive-development.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"drop-drive-development",REACT_APP_FIREBASE_STORAGE_BUCKET:"drop-drive-development.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"649883189718",REACT_APP_FIREBASE_APP_ID:"1:649883189718:web:4939b607a0739b49c5a477"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(_N){return}const t=e&&Ut(e[1]);return t&&JSON.parse(t)})()}catch(_N){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(_N))}},Bt=()=>{var e;return null===(e=zt())||void 0===e?void 0:e.config};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Kt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ft(JSON.stringify({alg:"none",type:"JWT"})),Ft(JSON.stringify(o)),""].join(".")}function Ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gt(){var e;const t=null===(e=zt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(_N){return!1}}function Wt(){return"object"===typeof self&&self.self===self}function Qt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Yt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Jt(){const e=Ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xt(){return!Gt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $t(){try{return"object"===typeof indexedDB}catch(_N){return!1}}class Zt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Zt(n,o,t)}}const tn=/\{\$([^}]+)}/g;function nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(on(n)&&on(o)){if(!rn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function on(e){return null!==e&&"object"===typeof e}function sn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function an(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function cn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ln(e,t){const n=new un(e,t);return n.subscribe.bind(n)}class un{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dn),void 0===r.error&&(r.error=dn),void 0===r.complete&&(r.complete=dn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(_N){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(_N){"undefined"!==typeof console&&console.error&&console.error(_N)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function dn(){}function hn(e){return e&&e._delegate?e._delegate:e}class fn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pn="[DEFAULT]";class mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(_N){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(_N){if(r)return null;throw _N}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pn})}catch(_N){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(_N){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===pn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return this.component?this.component.multipleInstances?e:pn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vn=[];var yn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yn||(yn={}));const bn={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},wn=yn.INFO,_n={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},En=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_n[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Tn{constructor(e){this.name=e,this._logLevel=wn,this._logHandler=En,this._userLogHandler=null,vn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...t),this._logHandler(this,yn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...t),this._logHandler(this,yn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.INFO,...t),this._logHandler(this,yn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.WARN,...t),this._logHandler(this,yn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...t),this._logHandler(this,yn.ERROR,...t)}}const kn=(e,t)=>t.some((t=>e instanceof t));let In,xn;const Sn=new WeakMap,Cn=new WeakMap,An=new WeakMap,Nn=new WeakMap,Pn=new WeakMap;let Rn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Cn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||An.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function On(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Mn(this),n),Ln(Sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ln(e.apply(Mn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Mn(this),t,...r);return An.set(o,t.sort?t.sort():[t]),Ln(o)}}function Dn(e){return"function"===typeof e?On(e):(e instanceof IDBTransaction&&function(e){if(Cn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Cn.set(e,t)}(e),kn(e,In||(In=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Rn):e)}function Ln(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ln(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Sn.set(t,e)})).catch((()=>{})),Pn.set(t,e),t}(e);if(Nn.has(e))return Nn.get(e);const t=Dn(e);return t!==e&&(Nn.set(e,t),Pn.set(t,e)),t}const Mn=e=>Pn.get(e);const Fn=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],jn=new Map;function Vn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(jn.get(t))return jn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Un.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return jn.set(t,o),o}Rn=(e=>({...e,get:(t,n,r)=>Vn(t,n)||e.get(t,n,r),has:(t,n)=>!!Vn(t,n)||e.has(t,n)}))(Rn);class zn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Bn="@firebase/app",qn="0.10.5",Kn=new Tn("@firebase/app"),Hn="@firebase/app-compat",Gn="@firebase/analytics-compat",Wn="@firebase/analytics",Qn="@firebase/app-check-compat",Yn="@firebase/app-check",Jn="@firebase/auth",Xn="@firebase/auth-compat",$n="@firebase/database",Zn="@firebase/database-compat",er="@firebase/functions",tr="@firebase/functions-compat",nr="@firebase/installations",rr="@firebase/installations-compat",ir="@firebase/messaging",or="@firebase/messaging-compat",sr="@firebase/performance",ar="@firebase/performance-compat",cr="@firebase/remote-config",lr="@firebase/remote-config-compat",ur="@firebase/storage",dr="@firebase/storage-compat",hr="@firebase/firestore",fr="@firebase/vertexai-preview",pr="@firebase/firestore-compat",mr="firebase",gr="[DEFAULT]",vr={[Bn]:"fire-core",[Hn]:"fire-core-compat",[Wn]:"fire-analytics",[Gn]:"fire-analytics-compat",[Yn]:"fire-app-check",[Qn]:"fire-app-check-compat",[Jn]:"fire-auth",[Xn]:"fire-auth-compat",[$n]:"fire-rtdb",[Zn]:"fire-rtdb-compat",[er]:"fire-fn",[tr]:"fire-fn-compat",[nr]:"fire-iid",[rr]:"fire-iid-compat",[ir]:"fire-fcm",[or]:"fire-fcm-compat",[sr]:"fire-perf",[ar]:"fire-perf-compat",[cr]:"fire-rc",[lr]:"fire-rc-compat",[ur]:"fire-gcs",[dr]:"fire-gcs-compat",[hr]:"fire-fst",[pr]:"fire-fst-compat",[fr]:"fire-vertex","fire-js":"fire-js",[mr]:"fire-js-all"},yr=new Map,br=new Map,wr=new Map;function _r(e,t){try{e.container.addComponent(t)}catch(_N){Kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),_N)}}function Er(e,t){e.container.addOrOverwriteComponent(t)}function Tr(e){const t=e.name;if(wr.has(t))return Kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;wr.set(t,e);for(const n of yr.values())_r(n,e);for(const n of br.values())_r(n,e);return!0}function kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ir(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gr;kr(e,t).clearInstance(n)}function xr(e){return void 0!==e.options}function Sr(e){return void 0!==e.settings}function Cr(){wr.clear()}const Ar=new en("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Nr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}class Pr extends Nr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ur(Bn,qn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Fr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ar.create("server-app-deleted")}}const Rr="10.12.2";function Or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=Bt()),!n)throw Ar.create("no-options");const o=yr.get(i);if(o){if(rn(n,o.options)&&rn(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new gn(i);for(const c of wr.values())s.addComponent(c);const a=new Nr(n,r,s);return yr.set(i,a),a}function Dr(e,t){if(Wt())throw Ar.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=xr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Ar.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=br.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new gn(i);for(const l of wr.values())a.addComponent(l);const c=new Pr(n,t,i,a);return br.set(i,c),c}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr;const t=yr.get(e);if(!t&&e===gr&&Bt())return Or();if(!t)throw Ar.create("no-app",{appName:e});return t}function Mr(){return Array.from(yr.values())}async function Fr(e){let t=!1;const n=e.name;if(yr.has(n))t=!0,yr.delete(n);else if(br.has(n)){e.decRefCount()<=0&&(br.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ur(e,t,n){var r;let i=null!==(r=vr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Kn.warn(e.join(" "))}Tr(new fn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function jr(e,t){if(null!==e&&"function"!==typeof e)throw Ar.create("invalid-log-argument");!function(e,t){for(const n of vn){let r=null;t&&t.level&&(r=bn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:yn[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Vr(e){var t;t=e,vn.forEach((e=>{e.setLogLevel(t)}))}const zr="firebase-heartbeat-database",Br=1,qr="firebase-heartbeat-store";let Kr=null;function Hr(){return Kr||(Kr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Ln(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ln(s.result),e.oldVersion,e.newVersion,Ln(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(zr,Br,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(qr)}catch(_N){console.warn(_N)}}}).catch((e=>{throw Ar.create("idb-open",{originalErrorMessage:e.message})}))),Kr}async function Gr(e,t){try{const n=(await Hr()).transaction(qr,"readwrite"),r=n.objectStore(qr);await r.put(t,Wr(e)),await n.done}catch(_N){if(_N instanceof Zt)Kn.warn(_N.message);else{const t=Ar.create("idb-set",{originalErrorMessage:null===_N||void 0===_N?void 0:_N.message});Kn.warn(t.message)}}}function Wr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Qr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Yr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Xr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ft(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Yr(){return(new Date).toISOString().substring(0,10)}class Jr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$t()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Hr()).transaction(qr),n=await t.objectStore(qr).get(Wr(e));return await t.done,n}catch(_N){if(_N instanceof Zt)Kn.warn(_N.message);else{const t=Ar.create("idb-get",{originalErrorMessage:null===_N||void 0===_N?void 0:_N.message});Kn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Xr(e){return Ft(JSON.stringify({version:2,heartbeats:e})).length}var $r;$r="",Tr(new fn("platform-logger",(e=>new zn(e)),"PRIVATE")),Tr(new fn("heartbeat",(e=>new Qr(e)),"PRIVATE")),Ur(Bn,qn,$r),Ur(Bn,qn,"esm2017"),Ur("fire-js","");class Zr{constructor(e,t){this._delegate=e,this.firebase=t,_r(e,new fn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Fr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){_r(this._delegate,e)}_addOrOverwriteComponent(e){Er(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ei=new en("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ti=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Or(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(nn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Ur,setLogLevel:Vr,onLog:jr,apps:null,SDK_VERSION:Rr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Tr(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw ei.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&jt(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!nn(n,e=e||gr))throw ei.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Zr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){jt(n,e)},createSubscribe:ln,ErrorFactory:en,deepExtend:jt}),n}(),ni=new Tn("@firebase/app-compat");if(Wt()&&void 0!==self.firebase){ni.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ni.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ri=ti;!function(e){Ur("@firebase/app-compat","0.2.35",e)}();ri.registerVersion("firebase","10.12.2","app-compat");function ii(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const oi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},si="EMAIL_SIGNIN",ai="PASSWORD_RESET",ci="RECOVER_EMAIL",li="REVERT_SECOND_FACTOR_ADDITION",ui="VERIFY_AND_CHANGE_EMAIL",di="VERIFY_EMAIL";function hi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},pi=hi,mi=new en("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gi=new Tn("@firebase/auth");function vi(e){if(gi.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gi.error("Auth (".concat(Rr,"): ").concat(e),...n)}}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ti(e,...n)}function bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ti(e,...n)}function wi(e,t,n){const r=Object.assign(Object.assign({},pi()),{[t]:n});return new en("auth","Firebase",r).create(t,{appName:e.name})}function _i(e){return wi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ei(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&yi(e,"argument-error"),wi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return mi.create(e,...n)}function ki(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ti(t,...r)}}function Ii(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vi(t),new Error(t)}function xi(e,t){e||Ii(t)}function Si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ci(){return"http:"===Ai()||"https:"===Ai()}function Ai(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ni{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())||Yt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ci()||Qt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pi(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ri{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Di=new Ni(3e4,6e4);function Li(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mi(e,t,n,r){return Fi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=sn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ri.fetch()(ji(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Fi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oi),t);try{const t=new zi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Bi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Bi(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw wi(e,a,s);yi(e,a)}}catch(_N){if(_N instanceof Zt)throw _N;yi(e,"network-request-failed",{message:String(_N)})}}async function Ui(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Mi(e,t,n,r,i);return"mfaPendingCredential"in o&&yi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ji(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Vi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(bi(this.auth,"network-request-failed"))),Di.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bi(e,t,r);return i.customData._tokenResponse=n,i}function qi(e){return void 0!==e&&void 0!==e.getResponse}function Ki(e){return void 0!==e&&void 0!==e.enterprise}class Hi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Gi(e,t){return Mi(e,"GET","/v2/recaptchaConfig",Li(e,t))}async function Wi(e,t){return Mi(e,"POST","/v1/accounts:lookup",t)}function Qi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(_N){}}function Yi(e){return 1e3*Number(e)}function Ji(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return vi("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ut(n);return e?JSON.parse(e):(vi("Failed to decode base64 JWT payload"),null)}catch(_N){return vi("Caught error parsing JWT payload as JSON",null===_N||void 0===_N?void 0:_N.toString()),null}}function Xi(e){const t=Ji(e);return ki(t,"internal-error"),ki("undefined"!==typeof t.exp,"internal-error"),ki("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function $i(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(_N){throw _N instanceof Zt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(_N)&&e.auth.currentUser===e&&await e.auth.signOut(),_N}}class Zi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(_N){return void((null===_N||void 0===_N?void 0:_N.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class eo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function to(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $i(e,Wi(n,{idToken:r}));ki(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?no(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eo(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function no(e){return e.map((e=>{var{providerId:t}=e,n=ii(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ki(e.idToken,"internal-error"),ki("undefined"!==typeof e.idToken,"internal-error"),ki("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Xi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ki(0!==e.length,"internal-error");const t=Xi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ki(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fi(e,{},(async()=>{const n=sn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ji(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ri.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ro;return n&&(ki("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ki("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ki("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function io(e,t){ki("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class oo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ii(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new eo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $i(this,this.stsTokenManager.getToken(this.auth,e));return ki(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=hn(e),r=await n.getIdToken(t),i=Ji(r);ki(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Qi(Yi(i.auth_time)),issuedAtTime:Qi(Yi(i.iat)),expirationTime:Qi(Yi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=hn(e);await to(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ki(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ki(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await to(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await $i(this,async function(e,t){return Mi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;ki(y&&E,e,"internal-error");const T=ro.fromJSON(this.name,E);ki("string"===typeof y,e,"internal-error"),io(u,e.name),io(d,e.name),ki("boolean"===typeof b,e,"internal-error"),ki("boolean"===typeof w,e,"internal-error"),io(h,e.name),io(f,e.name),io(p,e.name),io(m,e.name),io(g,e.name),io(v,e.name);const k=new oo({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ro;r.updateFromServerResponse(t);const i=new oo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await to(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ki(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?no(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ro;s.updateFromIdToken(n);const a=new oo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new eo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const so=new Map;function ao(e){xi(e instanceof Function,"Expected a class definition");let t=so.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,so.set(e,t),t)}class co{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}co.type="NONE";const lo=co;function uo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ho{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=uo(this.userKey,r.apiKey,i),this.fullPersistenceKey=uo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ho(ao(lo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ao(lo);const o=uo(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=oo._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new ho(i,e,n)):new ho(i,e,n)}}function fo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(po(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bo(t))return"Blackberry";if(wo(t))return"Webos";if(mo(t))return"Safari";if((t.includes("chrome/")||go(t))&&!t.includes("edge/"))return"Chrome";if(yo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/firefox\//i.test(e)}function mo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/crios\//i.test(e)}function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/iemobile/i.test(e)}function yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/android/i.test(e)}function bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/blackberry/i.test(e)}function wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/webos/i.test(e)}function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return _o(e)||yo(e)||wo(e)||bo(e)||/windows phone/i.test(e)||vo(e)}function To(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=fo(Ht());break;case"Worker":t="".concat(fo(Ht()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rr,"/").concat(r)}class ko{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(_N){r(_N)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(_N){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===_N||void 0===_N?void 0:_N.message})}}}class Io{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Co(this),this.idTokenSubscription=new Co(this),this.beforeStateQueue=new ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ao(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(_N){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wi(this,{idToken:e}),n=await oo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(_N){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(_N)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ki(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(_N){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await to(e)}catch(_N){if((null===_N||void 0===_N?void 0:_N.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(_i(this));const t=e?hn(e):null;return t&&ki(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ki(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Sr(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(_i(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ao(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Mi(e,"GET","/v2/passwordPolicy",Li(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Io(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new en("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Mi(e,"POST","/v2/accounts:revokeToken",Li(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ao(e)||this._popupRedirectResolver;ki(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ao(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ki(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ki(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=To(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(gi.logLevel<=yn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gi.warn("Auth (".concat(Rr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function So(e){return hn(e)}class Co{constructor(e){this.auth=e,this.observer=null,this.addObserver=ln((e=>this.observer=e))}get next(){return ki(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ao={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function No(e){return Ao.loadJS(e)}function Po(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ro{constructor(e){this.type="recaptcha-enterprise",this.auth=So(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ki(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Hi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ki(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ao.recaptchaEnterpriseScript;0!==t.length&&(t+=i),No(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Oo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ro(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Do(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Oo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Oo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Lo(e,t,n){const r=So(e);ki(r._canInitEmulator,r,"emulator-config-failed"),ki(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Mo(t),{host:s,port:a}=function(e){const t=Mo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fo(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Uo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function jo(e,t){return Mi(e,"POST","/v1/accounts:resetPassword",Li(e,t))}async function Vo(e,t){return Mi(e,"POST","/v1/accounts:signUp",t)}async function zo(e,t){return Ui(e,"POST","/v1/accounts:signInWithPassword",Li(e,t))}async function Bo(e,t){return Mi(e,"POST","/v1/accounts:sendOobCode",Li(e,t))}async function qo(e,t){return Bo(e,t)}async function Ko(e,t){return Bo(e,t)}class Ho extends Uo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ho(e,t,"password")}static _fromEmailAndCode(e,t){return new Ho(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Do(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zo);case"emailLink":return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithEmailLink",Li(e,t))}(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Do(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vo);case"emailLink":return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithEmailLink",Li(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(e,t){return Ui(e,"POST","/v1/accounts:signInWithIdp",Li(e,t))}class Wo extends Uo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ii(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Wo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Go(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Go(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sn(t)}return e}}const Qo={USER_NOT_FOUND:"user-not-found"};class Yo extends Uo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,t));if(n.temporaryProof)throw Bi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Qo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Jo{constructor(e){var t,n,r,i,o,s;const a=an(cn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ki(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=an(cn(e)).link,n=t?an(cn(t)).deep_link_id:null,r=an(cn(e)).deep_link_id;return(r?an(cn(r)).link:null)||r||n||t||e}(e);try{return new Jo(t)}catch(n){return null}}}class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return Ho._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Jo.parseLink(t);return ki(n,"argument-error"),Ho._fromEmailAndCode(e,n.code,n.tenantId)}}Xo.PROVIDER_ID="password",Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $o{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends Zo{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ki("providerId"in t&&"signInMethod"in t,"argument-error"),Wo._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ki(e.idToken||e.accessToken,"argument-error"),Wo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return es.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return es.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new es(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(_N){return null}}}class ts extends Zo{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch(n){return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com",ts.PROVIDER_ID="facebook.com";class ns extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ns.credential(n,r)}catch(i){return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com",ns.PROVIDER_ID="google.com";class rs extends Zo{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch(n){return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com",rs.PROVIDER_ID="github.com";class is extends Uo{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Go(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Go(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new is(n,i):null}static _create(e,t){return new is(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class os extends $o{constructor(e){ki(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return os.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return os.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=is.fromJSON(e);return ki(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return is._create(r,n)}catch(_N){return null}}}class ss extends Zo{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ss.credential(n,r)}catch(i){return null}}}async function as(e,t){return Ui(e,"POST","/v1/accounts:signUp",Li(e,t))}ss.TWITTER_SIGN_IN_METHOD="twitter.com",ss.PROVIDER_ID="twitter.com";class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await oo._fromIdTokenResponse(e,n,r),o=ls(n);return new cs({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ls(n);return new cs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ls(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class us extends Zt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,us.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new us(e,t,n,r)}}function ds(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw us._fromErrorAndOperation(e,n,t,r);throw n}))}function hs(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function fs(e,t){const n=hn(e);await ms(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Mi(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=hs(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $i(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cs._forOperation(e,"link",r)}async function ms(e,t,n){await to(t);const r=!1===e?"provider-already-linked":"no-such-provider";ki(hs(t.providerData).has(n)===e,t.auth,r)}async function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Sr(r.app))return Promise.reject(_i(r));const i="reauthenticate";try{const o=await $i(e,ds(r,i,t,e),n);ki(o.idToken,r,"internal-error");const s=Ji(o.idToken);ki(s,r,"internal-error");const{sub:a}=s;return ki(e.uid===a,r,"user-mismatch"),cs._forOperation(e,i,o)}catch(_N){throw(null===_N||void 0===_N?void 0:_N.code)==="auth/".concat("user-not-found")&&yi(r,"user-mismatch"),_N}}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sr(e.app))return Promise.reject(_i(e));const r="signIn",i=await ds(e,r,t),o=await cs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ys(e,t){return vs(So(e),t)}async function bs(e,t){const n=hn(e);return await ms(!1,n,t.providerId),ps(n,t)}async function ws(e,t){return gs(hn(e),t)}async function _s(e,t){if(Sr(e.app))return Promise.reject(_i(e));const n=So(e),r=await async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithCustomToken",Li(e,t))}(n,{token:t,returnSecureToken:!0}),i=await cs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Es{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ts._fromServerResponse(e,t):"totpInfo"in t?ks._fromServerResponse(e,t):yi(e,"internal-error")}}class Ts extends Es{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ts(t)}}class ks extends Es{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ks(t)}}function Is(e,t,n){var r;ki((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ki("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ki(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ki(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xs(e){const t=So(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ss(e,t){await async function(e,t){return Mi(e,"POST","/v1/accounts:update",Li(e,t))}(hn(e),{oobCode:t})}async function Cs(e,t){const n=hn(e),r=await jo(n,{oobCode:t}),i=r.requestType;switch(ki(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ki(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ki(r.mfaInfo,n,"internal-error");default:ki(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Es._fromServerResponse(So(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function As(e,t){const n={identifier:t,continueUri:Ci()?Si():"http://localhost"},{signinMethods:r}=await async function(e,t){return Mi(e,"POST","/v1/accounts:createAuthUri",Li(e,t))}(hn(e),n);return r||[]}async function Ns(e,t){const n=hn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Is(n.auth,r,t);const{email:i}=await async function(e,t){return Bo(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ps(e,t,n){const r=hn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Is(r.auth,i,n);const{email:o}=await async function(e,t){return Bo(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Rs(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=hn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await $i(i,async function(e,t){return Mi(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Os(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await $i(e,async function(e,t){return Mi(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Ds{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ls extends Ds{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ms extends Ds{constructor(e,t){super(e,"facebook.com",t)}}class Fs extends Ls{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Us extends Ds{constructor(e,t){super(e,"google.com",t)}}class js extends Ls{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Vs(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ji(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ds(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ms(o,i);case"github.com":return new Fs(o,i);case"google.com":return new Us(o,i);case"twitter.com":return new js(o,i,e.screenName||null);case"custom":case"anonymous":return new Ds(o,null);default:return new Ds(o,r,i)}}(n)}class zs{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new zs("enroll",e,t)}static _fromMfaPendingCredential(e){return new zs("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return zs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return zs._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Bs{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=So(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Es._fromServerResponse(n,e)));ki(r.mfaPendingCredential,n,"internal-error");const o=zs._fromMfaPendingCredential(r.mfaPendingCredential);return new Bs(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await cs._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ki(t.user,n,"internal-error"),cs._forOperation(t.user,t.operationType,s);default:yi(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class qs{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Es._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new qs(e)}async getSession(){return zs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await $i(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await $i(this.user,function(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Li(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(_N){throw _N}}}const Ks=new WeakMap;const Hs="__sak";class Gs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hs,"1"),this.storage.removeItem(Hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ws extends Gs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ht();return mo(e)||_o(e)}()&&function(){try{return!(!window||window===window.top)}catch(_N){return!1}}(),this.fallbackToPolling=Eo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Jt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ws.type="LOCAL";const Qs=Ws;class Ys extends Gs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ys.type="SESSION";const Js=Ys;class Xs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xs.receivers=[];class Zs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=$s("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ea(){return window}function ta(){return"undefined"!==typeof ea().WorkerGlobalScope&&"function"===typeof ea().importScripts}const na="firebaseLocalStorageDb",ra="firebaseLocalStorage",ia="fbase_key";class oa{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function sa(e,t){return e.transaction([ra],t?"readwrite":"readonly").objectStore(ra)}function aa(){const e=indexedDB.open(na,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ra,{keyPath:ia})}catch(_N){n(_N)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ra)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(na);return new oa(e).toPromise()}(),t(await aa()))}))}))}async function ca(e,t,n){const r=sa(e,!0).put({[ia]:t,value:n});return new oa(r).toPromise()}function la(e,t){const n=sa(e,!0).delete(t);return new oa(n).toPromise()}class ua{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await aa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(_N){if(t++>3)throw _N;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ta()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xs._getInstance(ta()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Zs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aa();return await ca(e,Hs,"1"),await la(e,Hs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ca(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=sa(e,!1).get(t),r=await new oa(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>la(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=sa(e,!1).getAll();return new oa(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ua.type="LOCAL";const da=ua;const ha=1e12;class fa{constructor(e){this.auth=e,this.counter=ha,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new pa(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ha;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ha;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ha;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class pa{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ki(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(_N){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(_N){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ma=Po("rcb"),ga=new Ni(3e4,6e4);class va{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ea().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ki(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&qi(ea().grecaptcha)?Promise.resolve(ea().grecaptcha):new Promise(((n,r)=>{const i=ea().setTimeout((()=>{r(bi(e,"network-request-failed"))}),ga.get());ea()[ma]=()=>{ea().clearTimeout(i),delete ea()[ma];const o=ea().grecaptcha;if(!o||!qi(o))return void r(bi(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};No("".concat(Ao.recaptchaV2Script,"?").concat(sn({onload:ma,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(bi(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ea().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ya{async load(e){return new fa(e)}clearedOneInstance(){}}const ba="recaptcha",wa={theme:"light",type:"image"};class _a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},wa);this.parameters=n,this.type=ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=So(e),this.isInvisible="invisible"===this.parameters.size,ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ki(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ya:new va,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(_N){return Promise.reject(_N)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ki(!this.parameters.sitekey,this.auth,"argument-error"),ki(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ea()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ki(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ki(Ci()&&!ta(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Mi(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ki(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ki(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ea{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Yo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ta(e,t,n){var r;const i=await n.verify();try{let o;if(ki("string"===typeof i,e,"argument-error"),ki(n.type===ba,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ki("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:start",Li(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ki("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ki(n,e,"missing-multi-factor-info");const s=await function(e,t){return Mi(e,"POST","/v2/accounts/mfaSignIn:start",Li(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Mi(e,"POST","/v1/accounts:sendVerificationCode",Li(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ka{constructor(e){this.providerId=ka.PROVIDER_ID,this.auth=So(e)}verifyPhoneNumber(e,t){return Ta(this.auth,e,hn(t))}static credential(e,t){return Yo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ka.credentialFromTaggedObject(t)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Yo._fromTokenResponse(n,r):null}}function Ia(e,t){return t?ao(t):(ki(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ka.PROVIDER_ID="phone",ka.PHONE_SIGN_IN_METHOD="phone";class xa extends Uo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sa(e){return vs(e.auth,new xa(e),e.bypassAuthState)}function Ca(e){const{auth:t,user:n}=e;return ki(n,t,"internal-error"),gs(n,new xa(e),e.bypassAuthState)}async function Aa(e){const{auth:t,user:n}=e;return ki(n,t,"internal-error"),ps(n,new xa(e),e.bypassAuthState)}class Na{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(_N){this.reject(_N)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(_N){this.reject(_N)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Aa;case"reauthViaPopup":case"reauthViaRedirect":return Ca;default:yi(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pa=new Ni(2e3,1e4);class Ra extends Na{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ki(e,this.auth,"internal-error"),e}async onExecution(){xi(1===this.filter.length,"Popup operations only handle one event");const e=$s();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(bi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Pa.get())};e()}}Ra.currentPopupAction=null;const Oa="pendingRedirect",Da=new Map;class La extends Na{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Da.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ja(t),r=Ua(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(_N){e=()=>Promise.reject(_N)}Da.set(this.auth._key(),e)}return this.bypassAuthState||Da.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ma(e,t){return Ua(e)._set(ja(t),"true")}function Fa(e,t){Da.set(e._key(),t)}function Ua(e){return ao(e._redirectPersistence)}function ja(e){return uo(Oa,e.config.apiKey,e.name)}function Va(e,t,n){return async function(e,t,n){if(Sr(e.app))return Promise.reject(_i(e));const r=So(e);Ei(e,t,$o),await r._initializationPromise;const i=Ia(r,n);return await Ma(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function za(e,t,n){return async function(e,t,n){const r=hn(e);if(Ei(r.auth,t,$o),Sr(r.auth.app))return Promise.reject(_i(r.auth));await r.auth._initializationPromise;const i=Ia(r.auth,n);await Ma(i,r.auth);const o=await Ka(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Ba(e,t,n){return async function(e,t,n){const r=hn(e);Ei(r.auth,t,$o),await r.auth._initializationPromise;const i=Ia(r.auth,n);await ms(!1,r,t.providerId),await Ma(i,r.auth);const o=await Ka(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sr(e.app))return Promise.reject(_i(e));const r=So(e),i=Ia(r,t),o=new La(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Ka(e){const t=$s("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ha{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Wa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(e))}saveEventToCache(e){this.cachedEventUids.add(Ga(e)),this.lastProcessedEventTime=Date.now()}}function Ga(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Wa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Qa(e){return Mi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;function Xa(e){const t=Si(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ja.test(n))return!1;if(Ya.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $a=new Ni(3e4,6e4);function Za(){const e=ea().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ec(e){return new Promise(((t,n)=>{var r,i,o;function s(){Za(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Za(),n(bi(e,"network-request-failed"))},timeout:$a.get()})}if(null===(i=null===(r=ea().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ea().gapi)||void 0===o?void 0:o.load)){const t=Po("iframefcb");return ea()[t]=()=>{gapi.load?s():n(bi(e,"network-request-failed"))},No("".concat(Ao.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw tc=null,e}))}let tc=null;const nc=new Ni(5e3,15e3),rc="__/auth/iframe",ic="emulator/auth/iframe",oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ac(e){const t=e.config;ki(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pi(t,ic):"https://".concat(e.config.authDomain,"/").concat(rc),r={apiKey:t.apiKey,appName:e.name,v:Rr},i=sc.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(sn(r).slice(1))}async function cc(e){const t=await function(e){return tc=tc||ec(e),tc}(e),n=ea().gapi;return ki(n,e,"internal-error"),t.open({where:document.body,url:ac(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bi(e,"network-request-failed"),o=ea().setTimeout((()=>{r(i)}),nc.get());function s(){ea().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const lc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_N){}}}function dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},lc),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ht().toLowerCase();n&&(a=go(l)?"_blank":n),po(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return _o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new uc(null);const d=window.open(t||"",a,u);ki(d,e,"popup-blocked");try{d.focus()}catch(_N){}return new uc(d)}const hc="__/auth/handler",fc="emulator/auth/handler",pc=encodeURIComponent("fac");async function mc(e,t,n,r,i,o){ki(e.config.authDomain,e,"auth-domain-config-required"),ki(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rr,eventId:i};if(t instanceof $o){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Zo){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(pc,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hc);return Pi(t,fc)}(e),"?").concat(sn(a).slice(1)).concat(l)}const gc="webStorageSupport";const vc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Js,this._completeRedirectFn=qa,this._overrideRedirectResult=Fa}async _openPopup(e,t,n,r){var i;xi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return dc(e,await mc(e,t,n,Si(),r),$s())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ea().location.href=e}(await mc(e,t,n,Si(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await cc(e),n=new Ha(e);return t.register("authEvent",(t=>{ki(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gc,{type:gc},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[gc];void 0!==i&&t(!!i),yi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Qa(e);for(const r of t)try{if(Xa(r))return}catch(n){}yi(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Eo()||mo()||_o()}};class yc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ii("unexpected MultiFactorSessionType")}}}class bc extends yc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bc(e)}_finalizeEnroll(e,t,n){return function(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Li(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Mi(e,"POST","/v2/accounts/mfaSignIn:finalize",Li(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class wc{constructor(){}static assertion(e){return bc._fromCredential(e)}}wc.FACTOR_ID="phone";var _c="@firebase/auth",Ec="1.7.4";class Tc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ki(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=zt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var kc;function Ic(){return window}!function(e){Ao=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),kc="Browser",Tr(new fn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ki(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:kc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:To(kc)},l=new xo(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ao);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Tr(new fn("auth-internal",(e=>(e=>new Tc(e))(So(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(_c,Ec,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(kc)),Ur(_c,Ec,"esm2017");async function xc(e,t,n){var r;const{BuildInfo:i}=Ic();xi(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(xi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return _o()?s.ibi=i.packageName:yo()?s.apn=i.packageName:yi(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,mc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Sc(e){const{cordova:t}=Ic();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Cc=20;class Ac extends Ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Nc(e){const t=await Oc()._get(Dc(e));return t&&await Oc()._remove(Dc(e)),t}function Pc(e,t){var n,r;const i=function(e){const t=Lc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Lc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Lc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Lc(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(_N){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?bi(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Rc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Cc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Oc(){return ao(Qs)}function Dc(e){return uo("authEvent",e.config.apiKey,e.name)}function Lc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return an(n.join("?"))}const Mc=class{constructor(){this._redirectPersistence=Js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qa,this._overrideRedirectResult=Fa}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ac(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){yi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const d=Ic();ki("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ki("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ki("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(c=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(u=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Da.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Rc(),postBody:null,tenantId:e.tenantId,error:bi(e,"no-auth-event")}}(e,n,r);await function(e,t){return Oc()._set(Dc(e),t)}(e,o);const s=await xc(e,o,t);return async function(e,t,n){const{cordova:r}=Ic();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(bi(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),yo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Sc(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ic(),n={};_o()?n.iosBundleId=t.packageName:yo()?n.androidPackageName=t.packageName:yi(e,"operation-not-supported-in-this-environment"),await Qa(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ic(),o=setTimeout((async()=>{await Nc(e),t.onEvent(Fc())}),500),s=async n=>{clearTimeout(o);const r=await Nc(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Pc(r,n.url)),t.onEvent(i||Fc())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");Ic().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(_N){console.error(_N)}}}};function Fc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bi("no-auth-event")}}function Uc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return!("file:"!==Uc()&&"ionic:"!==Uc()&&"capacitor:"!==Uc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return Jt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht();return/Edge\/\d+/.test(e)}(e)}function zc(){try{const e=self.localStorage,t=$s();if(e)return e.setItem(t,"1"),e.removeItem(t),!Vc()||$t()}catch(_N){return Bc()&&$t()}return!1}function Bc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qc(){return("http:"===Uc()||"https:"===Uc()||Qt()||jc())&&!(Yt()||Gt())&&zc()&&!Bc()}function Kc(){return jc()&&"undefined"!==typeof document}const Hc={LOCAL:"local",NONE:"none",SESSION:"session"},Gc=ki,Wc="persistence";async function Qc(e){await e._initializationPromise;const t=Yc(),n=uo(Wc,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Yc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(_N){return null}}const Jc=ki;class Xc{constructor(){this.browserResolver=ao(vc),this.cordovaResolver=ao(Mc),this.underlyingResolver=null,this._redirectPersistence=Js,this._completeRedirectFn=qa,this._overrideRedirectResult=Fa}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Kc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jc(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Kc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function $c(e){return e.unwrap()}function Zc(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new rl(e,function(e,t){var n;const r=hn(e),i=t;return ki(t.customData.operationType,r,"argument-error"),ki(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bs._fromError(r,i)}(e,t))}else if(r){const e=el(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function el(e){const{_tokenResponse:t}=e instanceof Zt?e.customData:e;if(!t)return null;if(!(e instanceof Zt)&&"temporaryProof"in t&&"phoneNumber"in t)return ka.credentialFromResult(e);const n=t.providerId;if(!n||n===oi.PASSWORD)return null;let r;switch(n){case oi.GOOGLE:r=ns;break;case oi.FACEBOOK:r=ts;break;case oi.GITHUB:r=rs;break;case oi.TWITTER:r=ss;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?is._create(n,s):Wo._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new es(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Zt?r.credentialFromError(e):r.credentialFromResult(e)}function tl(e,t){return t.catch((t=>{throw t instanceof Zt&&Zc(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,el(r)),additionalUserInfo:Vs(e),user:il.getOrCreate(n)};var r}))}async function nl(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>tl(e,n.confirm(t))}}class rl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tl($c(this.auth),this.resolver.resolveSignIn(e))}}class il{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=hn(e);return Ks.has(t)||Ks.set(t,qs._fromUser(t)),Ks.get(t)}(e)}static getOrCreate(e){return il.USER_MAP.has(e)||il.USER_MAP.set(e,new il(e)),il.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tl(this.auth,bs(this._delegate,e))}async linkWithPhoneNumber(e,t){return nl(this.auth,async function(e,t,n){const r=hn(e);await ms(!1,r,"phone");const i=await Ta(r.auth,t,hn(n));return new Ea(i,(e=>bs(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return tl(this.auth,async function(e,t,n){const r=hn(e);Ei(r.auth,t,$o);const i=Ia(r.auth,n);return new Ra(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Xc))}async linkWithRedirect(e){return await Qc(So(this.auth)),Ba(this._delegate,e,Xc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tl(this.auth,ws(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return nl(this.auth,async function(e,t,n){const r=hn(e);if(Sr(r.auth.app))return Promise.reject(_i(r.auth));const i=await Ta(r.auth,t,hn(n));return new Ea(i,(e=>ws(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return tl(this.auth,async function(e,t,n){const r=hn(e);if(Sr(r.auth.app))return Promise.reject(bi(r.auth,"operation-not-supported-in-this-environment"));Ei(r.auth,t,$o);const i=Ia(r.auth,n);return new Ra(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Xc))}async reauthenticateWithRedirect(e){return await Qc(So(this.auth)),za(this._delegate,e,Xc)}sendEmailVerification(e){return Ns(this._delegate,e)}async unlink(e){return await fs(this._delegate,e),this}updateEmail(e){return function(e,t){const n=hn(e);return Sr(n.auth.app)?Promise.reject(_i(n.auth)):Os(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Os(hn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=hn(e);if(Sr(n.auth.app))return Promise.reject(_i(n.auth));await ps(n,t)}(this._delegate,e)}updateProfile(e){return Rs(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ps(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}il.USER_MAP=new WeakMap;const ol=ki;class sl{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ol(n,"invalid-api-key",{appName:e.name}),ol(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Xc:void 0;this._delegate=t.initialize({options:{persistence:cl(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(fi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?il.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Lo(this._delegate,e,t)}applyActionCode(e){return Ss(this._delegate,e)}checkActionCode(e){return Cs(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await jo(hn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xs(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tl(this._delegate,async function(e,t,n){if(Sr(e.app))return Promise.reject(_i(e));const r=So(e),i=Do(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xs(e),t})),s=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return As(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Jo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){ol(qc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await So(e)._initializationPromise,qa(e,t,!1)}(this._delegate,Xc);return e?tl(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){So(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=al(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=al(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=So(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ki(t.handleCodeInApp,r,"argument-error"),t&&Is(r,e,t)}(i,n),await Do(r,i,"getOobCode",Ko)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=So(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Is(r,i,n),await Do(r,i,"getOobCode",qo)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Gc(Object.values(Hc).includes(t),e,"invalid-persistence-type"),Yt()?Gc(t!==Hc.SESSION,e,"unsupported-persistence-type"):Gt()?Gc(t===Hc.NONE,e,"unsupported-persistence-type"):Bc()?Gc(t===Hc.NONE||t===Hc.LOCAL&&$t(),e,"unsupported-persistence-type"):Gc(t===Hc.NONE||zc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Hc.SESSION:t=Js;break;case Hc.LOCAL:t=await ao(da)._isAvailable()?da:Qs;break;case Hc.NONE:t=lo;break;default:return yi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tl(this._delegate,async function(e){var t;if(Sr(e.app))return Promise.reject(_i(e));const n=So(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new cs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await as(n,{returnSecureToken:!0}),i=await cs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return tl(this._delegate,ys(this._delegate,e))}signInWithCustomToken(e){return tl(this._delegate,_s(this._delegate,e))}signInWithEmailAndPassword(e,t){return tl(this._delegate,function(e,t,n){return Sr(e.app)?Promise.reject(_i(e)):ys(hn(e),Xo.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xs(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return tl(this._delegate,async function(e,t,n){if(Sr(e.app))return Promise.reject(_i(e));const r=hn(e),i=Xo.credentialWithLink(t,n||Si());return ki(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ys(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return nl(this._delegate,async function(e,t,n){if(Sr(e.app))return Promise.reject(_i(e));const r=So(e),i=await Ta(r,t,hn(n));return new Ea(i,(e=>ys(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return ol(qc(),this._delegate,"operation-not-supported-in-this-environment"),tl(this._delegate,async function(e,t,n){if(Sr(e.app))return Promise.reject(bi(e,"operation-not-supported-in-this-environment"));const r=So(e);Ei(e,t,$o);const i=Ia(r,n);return new Ra(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Xc))}async signInWithRedirect(e){return ol(qc(),this._delegate,"operation-not-supported-in-this-environment"),await Qc(this._delegate),Va(this._delegate,e,Xc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Cs(hn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function al(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&il.getOrCreate(e)),error:t,complete:n}}function cl(e,t){const n=function(e,t){const n=Yc();if(!n)return[];const r=uo(Wc,e,t);switch(n.getItem(r)){case Hc.NONE:return[lo];case Hc.LOCAL:return[da,Js];case Hc.SESSION:return[Js];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(da)||n.push(da),"undefined"!==typeof window)for(const r of[Qs,Js])n.includes(r)||n.push(r);return n.includes(lo)||n.push(lo),n}sl.Persistence=Hc;class ll{constructor(){this.providerId="phone",this._delegate=new ka($c(ri.auth()))}static credential(e,t){return ka.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ll.PHONE_SIGN_IN_METHOD=ka.PHONE_SIGN_IN_METHOD,ll.PROVIDER_ID=ka.PROVIDER_ID;const ul=ki;class dl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.app();var r;ul(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new _a(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var hl;(hl=ri).INTERNAL.registerComponent(new fn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:ai,RECOVER_EMAIL:ci,REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:di}},EmailAuthProvider:Xo,FacebookAuthProvider:ts,GithubAuthProvider:rs,GoogleAuthProvider:ns,OAuthProvider:es,SAMLAuthProvider:os,PhoneAuthProvider:ll,PhoneMultiFactorGenerator:wc,RecaptchaVerifier:dl,TwitterAuthProvider:ss,Auth:sl,AuthCredential:Uo,Error:Zt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),hl.registerVersion("@firebase/auth-compat","0.5.9");var fl,pl,ml="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gl={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),c=o(1),l=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(c)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var l=o.add(r);0>=l.l(e)&&(i=i.add(n),o=l),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(o=s(n)).j(t);d(l)||0<l.l(e);)l=(o=s(n-=r)).j(t);u(o)&&(o=c),i=i.add(o),e=f(e,l)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(l)&&0>e.l(l))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var c=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=c*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=c*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,pl=gl.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+c),n);8>c?(c=s(Math.pow(n,c)),i=i.j(c).add(s(l))):i=(i=i.j(r)).add(s(l))}return i},fl=gl.Integer=r}).apply("undefined"!==typeof ml?ml:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var vl,yl,bl,wl,_l,El,Tl,kl,Il,xl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sl={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof xl&&xl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new x),(e=>e.reset()));class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let S,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);S=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){T(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=q(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new j(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),H={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,c=Z(e);if(c||(e[K]=c=new z(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[K]=null)):V(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[K])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;_(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){R.call(this),this.h=e,this.g={}}d(ce,R);var le=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),ue(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}d(ye,O),d(be,O);var we={},_e=null;function Ee(){return _e=_e||new ne}function Te(e){O.call(this,we.La,e)}function ke(e){const t=Ee();re(t,new Te(t))}function Ie(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=Ee();re(t,new Ie(t,e))}function Se(e,t){O.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Te,O),we.STAT_EVENT="statevent",d(Ie,O),we.Ma="timingevent",d(Se,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},Ue={};function je(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(le[0]=i.toString()),i=le);for(var o=0;o<i.length;o++){var s=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Ke(e,e.I)}function Ke(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(l(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||cn(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),xe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(l(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,c=r.L;c&&(a.I=c),a.B&&(He(a),qe(a)),r.g=s}else nn(r);0<n.i.length&&$t(n)}else"stop"!=l[0]&&"close"!=l[0]||un(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?un(n,7):Yt(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}ke()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var o=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var u=c;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),We(this),Ge(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==h&&(this.s=4,xe(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,xe(15),Ne(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,xe(11))}}else Ne(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),Ge(this)}else Ne(this.i,this.l,a,null),Qe(this,a);4==h&&We(this),this.o&&!this.J&&(4==h?cn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),We(this),Ge(this)}}}catch(kS){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),xe(17)),We(this),this.s=2,Ge(this)):Ke(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),ct(this,t[4]),this.l=ht(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){Et(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Et(e),t=xt(e,t),e.g.has(t)}function It(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ct(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_N){throw t.push(r+"type="+encodeURIComponent("_badmap")),_N}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,kt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var Ut=/^https?$/i,jt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Ut.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Kt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(_N){}}}function Kt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Nl){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(uS){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Jt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;S||N(),C||(S(),C=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),je(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{At(a,e,"req"+n+"_")}catch(kS){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;S||N(),C||(S(),C=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(l(e.Fa,e),ln(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Se(r,n)),$t(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(l(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ct(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&ct(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),_(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,je(i,n,null)):je(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Jt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Il=Sl.createWebChannelTransport=function(){return new mn},kl=Sl.getStatEventTarget=function(){return Ee()},Tl=Sl.Event=we,El=Sl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,_l=Sl.ErrorCode=Re,Oe.COMPLETE="complete",wl=Sl.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,bl=Sl.WebChannel=ge,yl=Sl.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,vl=Sl.XhrIo=Ft}).apply("undefined"!==typeof xl?xl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Cl="@firebase/firestore";class Al{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");let Nl="10.12.1";const Pl=new Tn("@firebase/firestore");function Rl(){return Pl.logLevel}function Ol(e){if(Pl.logLevel<=yn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ml);Pl.debug("Firestore (".concat(Nl,"): ").concat(e),...i)}}function Dl(e){if(Pl.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ml);Pl.error("Firestore (".concat(Nl,"): ").concat(e),...i)}}function Ll(e){if(Pl.logLevel<=yn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ml);Pl.warn("Firestore (".concat(Nl,"): ").concat(e),...i)}}function Ml(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Fl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Nl,") INTERNAL ASSERTION FAILED: ")+e;throw Dl(t),new Error(t)}function Ul(e,t){e||Fl()}function jl(e,t){return e}const Vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zl extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Bl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ql{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Kl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Al.UNAUTHENTICATED)))}shutdown(){}}class Hl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gl{constructor(e){this.t=e,this.currentUser=Al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Bl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bl,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ol("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ol("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bl)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ol("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ul("string"==typeof t.accessToken),new ql(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ul(null===e||"string"==typeof e),new Al(e)}}class Wl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Al.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ql{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Wl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Al.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ol("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ol("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ol("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ol("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ul("string"==typeof e.token),this.R=e.token,new Yl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class $l{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Zl(e,t){return e<t?-1:e>t?1:0}function eu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function tu(e){return e+"\0"}class nu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zl(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zl(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zl(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zl(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nu.fromMillis(Date.now())}static fromDate(e){return nu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new nu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zl(this.nanoseconds,e.nanoseconds):Zl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ru{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ru(e)}static min(){return new ru(new nu(0,0))}static max(){return new ru(new nu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class iu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fl(),void 0===n?n=e.length-t:n>e.length-t&&Fl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===iu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ou extends iu{construct(e,t,n){return new ou(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new zl(Vl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ou(e)}static emptyPath(){return new ou([])}}const su=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class au extends iu{construct(e,t,n){return new au(e,t,n)}static isValidIdentifier(e){return su.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),au.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new au(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new zl(Vl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new zl(Vl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new zl(Vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new zl(Vl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new au(t)}static emptyPath(){return new au([])}}class cu{constructor(e){this.path=e}static fromPath(e){return new cu(ou.fromString(e))}static fromName(e){return new cu(ou.fromString(e).popFirst(5))}static empty(){return new cu(ou.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ou.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ou.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cu(new ou(e.slice()))}}class lu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function uu(e){return e.fields.find((e=>2===e.kind))}function du(e){return e.fields.filter((e=>2!==e.kind))}lu.UNKNOWN_ID=-1;class hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class fu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fu(0,gu.min())}}function pu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ru.fromTimestamp(1e9===r?new nu(n+1,0):new nu(n,r));return new gu(i,cu.empty(),t)}function mu(e){return new gu(e.readTime,e.key,-1)}class gu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gu(ru.min(),cu.empty(),-1)}static max(){return new gu(ru.max(),cu.empty(),-1)}}function vu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cu.comparator(e.documentKey,t.documentKey),0!==n?n:Zl(e.largestBatchId,t.largestBatchId))}const yu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wu(e){if(e.code!==Vl.FAILED_PRECONDITION||e.message!==yu)throw e;Ol("LocalStore","Unexpectedly lost primary lease")}class _u{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _u(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof _u?t:_u.resolve(t)}catch(e){return _u.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.reject(t)}static resolve(e){return new _u(((t,n)=>{t(e)}))}static reject(e){return new _u(((t,n)=>{n(e)}))}static waitFor(e){return new _u(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=_u.resolve(!1);for(const n of e)t=t.next((e=>e?_u.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new _u(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new _u(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Eu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Bl,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new xu(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Pu(t.target.error);this.V.reject(new xu(e,n))}}static open(e,t,n,r){try{return new Eu(t,e.transaction(r,n))}catch(e){throw new xu(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ol("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Cu(t)}}class Tu{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Tu.S(Ht())&&Dl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ol("SimpleDb","Removing database:",e),Au(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$t())return!1;if(Tu.C())return!0;const e=Ht(),t=Tu.S(e),n=0<t&&t<10,r=ku(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ol("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new zl(Vl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new zl(Vl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new xu(e,r))},r.onupgradeneeded=e=>{Ol("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Ol("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=Eu.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),_u.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ol("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ku(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Iu{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Au(this.B.delete())}}class xu extends zl{constructor(e,t){super(Vl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Su(e){return"IndexedDbTransactionError"===e.name}class Cu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ol("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ol("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Au(n)}add(e){return Ol("SimpleDb","ADD",this.store.name,e,e),Au(this.store.add(e))}get(e){return Au(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ol("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ol("SimpleDb","DELETE",this.store.name,e),Au(this.store.delete(e))}count(){return Ol("SimpleDb","COUNT",this.store.name),Au(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new _u(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new _u(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Ol("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new _u(((n,r)=>{t.onerror=e=>{const t=Pu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new _u(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Iu(i),s=t(i.primaryKey,i.value,o);if(s instanceof _u){const e=s.catch((e=>(o.done(),_u.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>_u.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Au(e){return new _u(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Pu(e.target.error);n(t)}}))}let Nu=!1;function Pu(e){const t=Tu.S(Ht());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new zl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Nu||(Nu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ru{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Ol("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ol("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Su(e)?Ol("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await wu(e)}await this.X(6e4)}))}}class Ou{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return _u.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ol("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Ol("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=mu(t);vu(r,n)>0&&(n=r)})),new gu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Du{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Lu(e){return null==e}function Mu(e){return 0===e&&1/e==-1/0}function Fu(e){return"number"==typeof e&&Number.isInteger(e)&&!Mu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Uu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vu(t)),t=ju(e.get(n),t);return Vu(t)}function ju(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Vu(e){return e+"\x01\x01"}function zu(e){const t=e.length;if(Ul(t>=2),2===t)return Ul("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ou.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Fl(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Fl()}o=t+2}return new ou(r)}Du.oe=-1;const Bu=["userId","batchId"];function qu(e,t){return[e,Uu(t)]}function Ku(e,t,n){return[e,Uu(t),n]}const Hu={},Gu=["prefixPath","collectionGroup","readTime","documentId"],Wu=["prefixPath","collectionGroup","documentId"],Qu=["collectionGroup","readTime","prefixPath","documentId"],Yu=["canonicalId","targetId"],Ju=["targetId","path"],Xu=["path","targetId"],$u=["collectionId","parent"],Zu=["indexId","uid"],ed=["uid","sequenceNumber"],td=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nd=["indexId","uid","orderedDocumentKey"],rd=["userId","collectionPath","documentId"],id=["userId","collectionPath","largestBatchId"],od=["userId","collectionGroup","largestBatchId"],sd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ad=[...sd,"documentOverlays"],cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ld=cd,ud=[...ld,"indexConfiguration","indexState","indexEntries"],dd=ud;class hd extends bu{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function fd(e,t){const n=jl(e);return Tu.F(n._e,t)}function pd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function md(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vd{constructor(e,t){this.comparator=e,this.root=t||bd.EMPTY}insert(e,t){return new vd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bd.BLACK,null,null))}remove(e){return new vd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bd.RED,this.left=null!=r?r:bd.EMPTY,this.right=null!=i?i:bd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new bd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fl();if(this.right.isRed())throw Fl();const e=this.left.check();if(e!==this.right.check())throw Fl();return e+(this.isRed()?0:1)}}bd.EMPTY=null,bd.RED=!0,bd.BLACK=!1,bd.EMPTY=new class{constructor(){this.size=0}get key(){throw Fl()}get value(){throw Fl()}get color(){throw Fl()}get left(){throw Fl()}get right(){throw Fl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new bd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wd{constructor(e){this.comparator=e,this.data=new vd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _d(this.data.getIterator())}getIteratorFrom(e){return new _d(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof wd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wd(this.comparator);return t.data=e,t}}class _d{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ed(e){return e.hasNext()?e.getNext():void 0}class Td{constructor(e){this.fields=e,e.sort(au.comparator)}static empty(){return new Td([])}unionWith(e){let t=new wd(au.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Td(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class kd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Id{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new kd("Invalid base64 string: "+e):e}}(e);return new Id(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Id(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Id.EMPTY_BYTE_STRING=new Id("");const xd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sd(e){if(Ul(!!e),"string"==typeof e){let t=0;const n=xd.exec(e);if(Ul(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cd(e.seconds),nanos:Cd(e.nanos)}}function Cd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ad(e){return"string"==typeof e?Id.fromBase64String(e):Id.fromUint8Array(e)}function Nd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pd(e){const t=e.mapValue.fields.__previous_value__;return Nd(t)?Pd(t):t}function Rd(e){const t=Sd(e.mapValue.fields.__local_write_time__.timestampValue);return new nu(t.seconds,t.nanos)}class Od{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Dd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}const Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Md={nullValue:"NULL_VALUE"};function Fd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nd(e)?4:Xd(e)?9007199254740991:10:Fl()}function Ud(e,t){if(e===t)return!0;const n=Fd(e);if(n!==Fd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rd(e).isEqual(Rd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Sd(e.timestampValue),r=Sd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ad(e.bytesValue).isEqual(Ad(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cd(e.geoPointValue.latitude)===Cd(t.geoPointValue.latitude)&&Cd(e.geoPointValue.longitude)===Cd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cd(e.integerValue)===Cd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cd(e.doubleValue),r=Cd(t.doubleValue);return n===r?Mu(n)===Mu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return eu(e.arrayValue.values||[],t.arrayValue.values||[],Ud);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pd(n)!==pd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ud(n[i],r[i])))return!1;return!0}(e,t);default:return Fl()}}function jd(e,t){return void 0!==(e.values||[]).find((e=>Ud(e,t)))}function Vd(e,t){if(e===t)return 0;const n=Fd(e),r=Fd(t);if(n!==r)return Zl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cd(e.integerValue||e.doubleValue),r=Cd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zd(e.timestampValue,t.timestampValue);case 4:return zd(Rd(e),Rd(t));case 5:return Zl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ad(e),r=Ad(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zl(n[i],r[i]);if(0!==e)return e}return Zl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zl(Cd(e.latitude),Cd(t.latitude));return 0!==n?n:Zl(Cd(e.longitude),Cd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Vd(n[i],r[i]);if(e)return e}return Zl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ld.mapValue&&t===Ld.mapValue)return 0;if(e===Ld.mapValue)return 1;if(t===Ld.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Zl(r[s],o[s]);if(0!==e)return e;const t=Vd(n[r[s]],i[o[s]]);if(0!==t)return t}return Zl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fl()}}function zd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zl(e,t);const n=Sd(e),r=Sd(t),i=Zl(n.seconds,r.seconds);return 0!==i?i:Zl(n.nanos,r.nanos)}function Bd(e){return qd(e)}function qd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Sd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ad(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return cu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qd(e.fields[i]));return n+"}"}(e.mapValue):Fl()}function Kd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hd(e){return!!e&&"integerValue"in e}function Gd(e){return!!e&&"arrayValue"in e}function Wd(e){return!!e&&"nullValue"in e}function Qd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yd(e){return!!e&&"mapValue"in e}function Jd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return md(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Jd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Xd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function $d(e){return"nullValue"in e?Md:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kd(Dd.empty(),cu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Fl()}function Zd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kd(Dd.empty(),cu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ld:Fl()}function eh(e,t){const n=Vd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function th(e,t){const n=Vd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class nh{constructor(e){this.value=e}static empty(){return new nh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jd(t)}setAll(e){let t=au.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ud(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){md(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new nh(Jd(this.value))}}function rh(e){const t=[];return md(e.fields,((e,n)=>{const r=new au([e]);if(Yd(n)){const e=rh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Td(t)}class ih{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ih(e,0,ru.min(),ru.min(),ru.min(),nh.empty(),0)}static newFoundDocument(e,t,n,r){return new ih(e,1,t,ru.min(),n,r,0)}static newNoDocument(e,t){return new ih(e,2,t,ru.min(),ru.min(),nh.empty(),0)}static newUnknownDocument(e,t){return new ih(e,3,t,ru.min(),ru.min(),nh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ru.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ru.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ih&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ih(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class oh{constructor(e,t){this.position=e,this.inclusive=t}}function sh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?cu.comparator(cu.fromName(s.referenceValue),n.key):Vd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ud(e.position[n],t.position[n]))return!1;return!0}class ch{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function lh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class uh{}class dh extends uh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _h(e,t,n):"array-contains"===t?new Ih(e,n):"in"===t?new xh(e,n):"not-in"===t?new Sh(e,n):"array-contains-any"===t?new Ch(e,n):new dh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Eh(e,n):new Th(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vd(t,this.value)):null!==t&&Fd(this.value)===Fd(t)&&this.matchesComparison(Vd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hh extends uh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new hh(e,t)}matches(e){return fh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fh(e){return"and"===e.op}function ph(e){return"or"===e.op}function mh(e){return gh(e)&&fh(e)}function gh(e){for(const t of e.filters)if(t instanceof hh)return!1;return!0}function vh(e){if(e instanceof dh)return e.field.canonicalString()+e.op.toString()+Bd(e.value);if(mh(e))return e.filters.map((e=>vh(e))).join(",");{const t=e.filters.map((e=>vh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function yh(e,t){return e instanceof dh?function(e,t){return t instanceof dh&&e.op===t.op&&e.field.isEqual(t.field)&&Ud(e.value,t.value)}(e,t):e instanceof hh?function(e,t){return t instanceof hh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&yh(n,t.filters[r])),!0)}(e,t):void Fl()}function bh(e,t){const n=e.filters.concat(t);return hh.create(n,e.op)}function wh(e){return e instanceof dh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bd(e.value))}(e):e instanceof hh?function(e){return e.op.toString()+" {"+e.getFilters().map(wh).join(" ,")+"}"}(e):"Filter"}class _h extends dh{constructor(e,t,n){super(e,t,n),this.key=cu.fromName(n.referenceValue)}matches(e){const t=cu.comparator(e.key,this.key);return this.matchesComparison(t)}}class Eh extends dh{constructor(e,t){super(e,"in",t),this.keys=kh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Th extends dh{constructor(e,t){super(e,"not-in",t),this.keys=kh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>cu.fromName(e.referenceValue)))}class Ih extends dh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gd(t)&&jd(t.arrayValue,this.value)}}class xh extends dh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jd(this.value.arrayValue,t)}}class Sh extends dh{constructor(e,t){super(e,"not-in",t)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jd(this.value.arrayValue,t)}}class Ch extends dh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jd(this.value.arrayValue,e)))}}class Ah{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function Nh(e){return new Ah(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ph(e){const t=jl(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>vh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Lu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Bd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Bd(e))).join(",")),t.ue=e}return t.ue}function Rh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ah(e.startAt,t.startAt)&&ah(e.endAt,t.endAt)}function Oh(e){return cu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Dh(e,t){return e.filters.filter((e=>e instanceof dh&&e.field.isEqual(t)))}function Lh(e,t,n){let r=Md,i=!0;for(const o of Dh(e,t)){let e=Md,t=!0;switch(o.op){case"<":case"<=":e=$d(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Md}eh({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];eh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Mh(e,t,n){let r=Ld,i=!0;for(const o of Dh(e,t)){let e=Ld,t=!0;switch(o.op){case">=":case">":e=Zd(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Ld}th({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];th({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Fh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Uh(e,t,n,r,i,o,s,a){return new Fh(e,t,n,r,i,o,s,a)}function jh(e){return new Fh(e)}function Vh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zh(e){return null!==e.collectionGroup}function Bh(e){const t=jl(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new wd(au.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ch(r,n))})),e.has(au.keyField().canonicalString())||t.ce.push(new ch(au.keyField(),n))}return t.ce}function qh(e){const t=jl(e);return t.le||(t.le=Kh(t,Bh(e))),t.le}function Kh(e,t){if("F"===e.limitType)return Nh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ch(e.field,t)}));const n=e.endAt?new oh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oh(e.startAt.position,e.startAt.inclusive):null;return Nh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hh(e,t){const n=e.filters.concat([t]);return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gh(e,t,n){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wh(e,t){return Rh(qh(e),qh(t))&&e.limitType===t.limitType}function Qh(e){return"".concat(Ph(qh(e)),"|lt:").concat(e.limitType)}function Yh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>wh(e))).join(", "),"]")),Lu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Bd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Bd(e))).join(",")),"Target(".concat(t,")")}(qh(e)),"; limitType=").concat(e.limitType,")")}function Jh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bh(e),t))&&!(e.endAt&&!function(e,t,n){const r=sh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bh(e),t))}(e,t)}function Xh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $h(e){return(t,n)=>{let r=!1;for(const i of Bh(e)){const e=Zh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zh(e,t,n){const r=e.field.isKeyField()?cu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vd(r,i):Fl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fl()}}class ef{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){md(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return gd(this.inner)}size(){return this.innerSize}}const tf=new vd(cu.comparator);function nf(){return tf}const rf=new vd(cu.comparator);function of(){let e=rf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function sf(e){let t=rf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function af(){return lf()}function cf(){return lf()}function lf(){return new ef((e=>e.toString()),((e,t)=>e.isEqual(t)))}const uf=new vd(cu.comparator),df=new wd(cu.comparator);function hf(){let e=df;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ff=new wd(Zl);function pf(){return ff}function mf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(t)?"-0":t}}function gf(e){return{integerValue:""+e}}function vf(e,t){return Fu(t)?gf(t):mf(e,t)}class yf{constructor(){this._=void 0}}function bf(e,t,n){return e instanceof Ef?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nd(t)&&(t=Pd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tf?kf(e,t):e instanceof If?xf(e,t):function(e,t){const n=_f(e,t),r=Cf(n)+Cf(e.Pe);return Hd(n)&&Hd(e.Pe)?gf(r):mf(e.serializer,r)}(e,t)}function wf(e,t,n){return e instanceof Tf?kf(e,t):e instanceof If?xf(e,t):n}function _f(e,t){return e instanceof Sf?function(e){return Hd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ef extends yf{}class Tf extends yf{constructor(e){super(),this.elements=e}}function kf(e,t){const n=Af(t);for(const r of e.elements)n.some((e=>Ud(e,r)))||n.push(r);return{arrayValue:{values:n}}}class If extends yf{constructor(e){super(),this.elements=e}}function xf(e,t){let n=Af(t);for(const r of e.elements)n=n.filter((e=>!Ud(e,r)));return{arrayValue:{values:n}}}class Sf extends yf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Cf(e){return Cd(e.integerValue||e.doubleValue)}function Af(e){return Gd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Nf{constructor(e,t){this.field=e,this.transform=t}}class Pf{constructor(e,t){this.version=e,this.transformResults=t}}class Rf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rf}static exists(e){return new Rf(void 0,e)}static updateTime(e){return new Rf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Df{}function Lf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hf(e.key,Rf.none()):new Vf(e.key,e.data,Rf.none());{const n=e.data,r=nh.empty();let i=new wd(au.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new zf(e.key,r,new Td(i.toArray()),Rf.none())}}function Mf(e,t,n){e instanceof Vf?function(e,t,n){const r=e.value.clone(),i=qf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zf?function(e,t,n){if(!Of(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ff(e,t,n,r){return e instanceof Vf?function(e,t,n,r){if(!Of(e.precondition,t))return n;const i=e.value.clone(),o=Kf(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zf?function(e,t,n,r){if(!Of(e.precondition,t))return n;const i=Kf(e.fieldTransforms,r,t),o=t.data;return o.setAll(Bf(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Of(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_f(r.transform,e||null);null!=i&&(null===n&&(n=nh.empty()),n.set(r.field,i))}return n||null}function jf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&eu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tf&&t instanceof Tf||e instanceof If&&t instanceof If?eu(e.elements,t.elements,Ud):e instanceof Sf&&t instanceof Sf?Ud(e.Pe,t.Pe):e instanceof Ef&&t instanceof Ef}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vf extends Df{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zf extends Df{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qf(e,t,n){const r=new Map;Ul(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,wf(s,a,n[i]))}return r}function Kf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,bf(e,o,t))}return r}class Hf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Mf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ff(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ff(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cf();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Lf(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ru.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),hf())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,((e,t)=>jf(e,t)))&&eu(this.baseMutations,e.baseMutations,((e,t)=>jf(e,t)))}}class Qf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ul(e.mutations.length===n.length);let r=uf;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Qf(e,t,n,r)}}class Yf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xf,$f;function Zf(e){switch(e){default:return Fl();case Vl.CANCELLED:case Vl.UNKNOWN:case Vl.DEADLINE_EXCEEDED:case Vl.RESOURCE_EXHAUSTED:case Vl.INTERNAL:case Vl.UNAVAILABLE:case Vl.UNAUTHENTICATED:return!1;case Vl.INVALID_ARGUMENT:case Vl.NOT_FOUND:case Vl.ALREADY_EXISTS:case Vl.PERMISSION_DENIED:case Vl.FAILED_PRECONDITION:case Vl.ABORTED:case Vl.OUT_OF_RANGE:case Vl.UNIMPLEMENTED:case Vl.DATA_LOSS:return!0}}function ep(e){if(void 0===e)return Dl("GRPC error has no .code"),Vl.UNKNOWN;switch(e){case Xf.OK:return Vl.OK;case Xf.CANCELLED:return Vl.CANCELLED;case Xf.UNKNOWN:return Vl.UNKNOWN;case Xf.DEADLINE_EXCEEDED:return Vl.DEADLINE_EXCEEDED;case Xf.RESOURCE_EXHAUSTED:return Vl.RESOURCE_EXHAUSTED;case Xf.INTERNAL:return Vl.INTERNAL;case Xf.UNAVAILABLE:return Vl.UNAVAILABLE;case Xf.UNAUTHENTICATED:return Vl.UNAUTHENTICATED;case Xf.INVALID_ARGUMENT:return Vl.INVALID_ARGUMENT;case Xf.NOT_FOUND:return Vl.NOT_FOUND;case Xf.ALREADY_EXISTS:return Vl.ALREADY_EXISTS;case Xf.PERMISSION_DENIED:return Vl.PERMISSION_DENIED;case Xf.FAILED_PRECONDITION:return Vl.FAILED_PRECONDITION;case Xf.ABORTED:return Vl.ABORTED;case Xf.OUT_OF_RANGE:return Vl.OUT_OF_RANGE;case Xf.UNIMPLEMENTED:return Vl.UNIMPLEMENTED;case Xf.DATA_LOSS:return Vl.DATA_LOSS;default:return Fl()}}($f=Xf||(Xf={}))[$f.OK=0]="OK",$f[$f.CANCELLED=1]="CANCELLED",$f[$f.UNKNOWN=2]="UNKNOWN",$f[$f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$f[$f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$f[$f.NOT_FOUND=5]="NOT_FOUND",$f[$f.ALREADY_EXISTS=6]="ALREADY_EXISTS",$f[$f.PERMISSION_DENIED=7]="PERMISSION_DENIED",$f[$f.UNAUTHENTICATED=16]="UNAUTHENTICATED",$f[$f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$f[$f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$f[$f.ABORTED=10]="ABORTED",$f[$f.OUT_OF_RANGE=11]="OUT_OF_RANGE",$f[$f.UNIMPLEMENTED=12]="UNIMPLEMENTED",$f[$f.INTERNAL=13]="INTERNAL",$f[$f.UNAVAILABLE=14]="UNAVAILABLE",$f[$f.DATA_LOSS=15]="DATA_LOSS";let tp=null;function np(){return new TextEncoder}const rp=new fl([4294967295,4294967295],0);function ip(e){const t=np().encode(e),n=new pl;return n.update(t),new Uint8Array(n.digest())}function op(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new fl([n,r],0),new fl([i,o],0)]}class sp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ap("Invalid padding: ".concat(t));if(n<0)throw new ap("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ap("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ap("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=fl.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(fl.fromNumber(n)));return 1===r.compare(rp)&&(r=new fl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=ip(e),[n,r]=op(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sp(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=ip(e),[n,r]=op(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ap extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cp(ru.min(),r,new vd(Zl),nf(),hf())}}class lp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lp(n,t,hf(),hf(),hf())}}class up{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class dp{constructor(e,t){this.targetId=e,this.me=t}}class hp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Id.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fp{constructor(){this.fe=0,this.ge=gp(),this.pe=Id.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=hf(),t=hf(),n=hf();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fl()}})),new lp(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=gp()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ul(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pp{constructor(e){this.Le=e,this.Be=new Map,this.ke=nf(),this.qe=mp(),this.Qe=new vd(Zl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Fl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Oh(i))if(0===n){const e=new cu(i.path);this.Ue(t,e,ih.newNoDocument(e,ru.min()))}else Ul(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==tp||tp.et(function(e,t,n,r,i){var o,s,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Ad(n).toUint8Array()}catch(e){if(e instanceof kd)return Ll("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new sp(o,r,i)}catch(e){return Ll(e instanceof ap?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Oh(i.target)){const t=new cu(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,ih.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=hf();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new cp(e,t,this.Qe,this.ke,n);return this.ke=nf(),this.qe=mp(),this.Qe=new vd(Zl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new fp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new wd(Zl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ol("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fp),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function mp(){return new vd(cu.comparator)}function gp(){return new vd(cu.comparator)}const vp={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bp={and:"AND",or:"OR"};class wp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(e,t){return e.useProto3Json||Lu(t)?t:{value:t}}function Ep(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kp(e,t){return Ep(e,t.toTimestamp())}function Ip(e){return Ul(!!e),ru.fromTimestamp(function(e){const t=Sd(e);return new nu(t.seconds,t.nanos)}(e))}function xp(e,t){return Sp(e,t).canonicalString()}function Sp(e,t){const n=function(e){return new ou(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cp(e){const t=ou.fromString(e);return Ul(Jp(t)),t}function Ap(e,t){return xp(e.databaseId,t.path)}function Np(e,t){const n=Cp(t);if(n.get(1)!==e.databaseId.projectId)throw new zl(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zl(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cu(Dp(n))}function Pp(e,t){return xp(e.databaseId,t)}function Rp(e){const t=Cp(e);return 4===t.length?ou.emptyPath():Dp(t)}function Op(e){return new ou(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dp(e){return Ul(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lp(e,t,n){return{name:Ap(e,t),fields:n.value.mapValue.fields}}function Mp(e,t,n){const r=Np(e,t.name),i=Ip(t.updateTime),o=t.createTime?Ip(t.createTime):ru.min(),s=new nh({mapValue:{fields:t.fields}}),a=ih.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Fp(e,t){let n;if(t instanceof Vf)n={update:Lp(e,t.key,t.value)};else if(t instanceof Hf)n={delete:Ap(e,t.key)};else if(t instanceof zf)n={update:Lp(e,t.key,t.data),updateMask:Yp(t.fieldMask)};else{if(!(t instanceof Gf))return Fl();n={verify:Ap(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ef)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof If)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sf)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Fl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fl()}(e,t.precondition)),n}function Up(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Rf.updateTime(Ip(e.updateTime)):void 0!==e.exists?Rf.exists(e.exists):Rf.none()}(t.currentDocument):Rf.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ul("REQUEST_TIME"===t.setToServerValue),n=new Ef;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Tf(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new If(e)}else"increment"in t?n=new Sf(e,t.increment):Fl();const r=au.fromServerFormat(t.fieldPath);return new Nf(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Np(e,t.update.name),o=new nh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Td(t.map((e=>au.fromServerFormat(e))))}(t.updateMask);return new zf(i,o,e,n,r)}return new Vf(i,o,n,r)}if(t.delete){const r=Np(e,t.delete);return new Hf(r,n)}if(t.verify){const r=Np(e,t.verify);return new Gf(r,n)}return Fl()}function jp(e,t){return{documents:[Pp(e,t.path)]}}function Vp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pp(e,i);const o=function(e){if(0!==e.length)return Qp(hh.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Gp(e.field),direction:qp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=_p(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function zp(e){let t=Rp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ul(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Bp(e);return t instanceof hh&&mh(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ch(Wp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Lu(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new oh(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new oh(n,t)}(n.endAt)),Uh(t,i,s,o,a,"F",c,l)}function Bp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wp(e.unaryFilter.field);return dh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wp(e.unaryFilter.field);return dh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wp(e.unaryFilter.field);return dh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wp(e.unaryFilter.field);return dh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fl()}}(e):void 0!==e.fieldFilter?function(e){return dh.create(Wp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hh.create(e.compositeFilter.filters.map((e=>Bp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fl()}}(e.compositeFilter.op))}(e):Fl()}function qp(e){return vp[e]}function Kp(e){return yp[e]}function Hp(e){return bp[e]}function Gp(e){return{fieldPath:e.canonicalString()}}function Wp(e){return au.fromServerFormat(e.fieldPath)}function Qp(e){return e instanceof dh?function(e){if("=="===e.op){if(Qd(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NAN"}};if(Wd(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qd(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NOT_NAN"}};if(Wd(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gp(e.field),op:Kp(e.op),value:e.value}}}(e):e instanceof hh?function(e){const t=e.getFilters().map((e=>Qp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hp(e.op),filters:t}}}(e):Fl()}function Yp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ru.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ru.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Id.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Xp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $p{constructor(e){this.ct=e}}function Zp(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:em(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ap(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ep(e,t.version.toTimestamp()),createTime:Ep(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:tm(t.version)};else{if(!t.isUnknownDocument())return Fl();r.unknownDocument={path:n.path.toArray(),version:tm(t.version)}}return r}function em(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tm(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nm(e){const t=new nu(e.seconds,e.nanoseconds);return ru.fromTimestamp(t)}function rm(e,t){const n=(t.baseMutations||[]).map((t=>Up(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Up(e.ct,t))),i=nu.fromMillis(t.localWriteTimeMs);return new Wf(t.batchId,i,n,r)}function im(e){const t=nm(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?nm(e.lastLimboFreeSnapshotVersion):ru.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Ul(1===e.documents.length),qh(jh(Rp(e.documents[0])))}(e.query):function(e){return qh(zp(e))}(e.query),new Xp(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Id.fromBase64String(e.resumeToken))}function om(e,t){const n=tm(t.snapshotVersion),r=tm(t.lastLimboFreeSnapshotVersion);let i;i=Oh(t.target)?jp(e.ct,t.target):Vp(e.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ph(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function sm(e){const t=zp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gh(t,t.limit,"L"):t}function am(e,t){return new Yf(t.largestBatchId,Up(e.ct,t.overlayMutation))}function cm(e,t){const n=t.path.lastSegment();return[e,Uu(t.path.popLast()),n]}function lm(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:tm(r.readTime),documentKey:Uu(r.documentKey.path),largestBatchId:r.largestBatchId}}class um{getBundleMetadata(e,t){return dm(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:nm(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return dm(e).put(function(e){return{bundleId:e.id,createTime:tm(Ip(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return hm(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:sm(e.bundledQuery),readTime:nm(e.readTime)}}(e)}))}saveNamedQuery(e,t){return hm(e).put(function(e){return{name:e.name,readTime:tm(Ip(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function dm(e){return fd(e,"bundles")}function hm(e){return fd(e,"namedQueries")}class fm{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new fm(e,n)}getOverlay(e,t){return pm(e).get(cm(this.userId,t)).next((e=>e?am(this.serializer,e):null))}getOverlays(e,t){const n=af();return _u.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Yf(t,i);r.push(this.ht(e,o))})),_u.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Uu(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(pm(e).j("collectionPathOverlayIndex",r))})),_u.waitFor(i)}getOverlaysForCollection(e,t,n){const r=af(),i=Uu(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return pm(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=am(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=af();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pm(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=am(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return pm(e).put(function(e,t,n){const[r,i,o]=cm(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fp(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function pm(e){return fd(e,"documentOverlays")}class mm{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Cd(e.integerValue));else if("doubleValue"in e){const n=Cd(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Mu(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Sd(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ad(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Xd(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Fl()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),cu.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function gm(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function vm(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=gm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mm.bt=new mm;class ym{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=vm(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=vm(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class bm{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class wm{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class _m{constructor(){this.Gt=new ym,this.zt=new bm(this.Gt),this.jt=new wm(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Em{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Em(this.indexId,this.documentKey,this.arrayValue,n)}}function Tm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=km(e.arrayValue,t.arrayValue),0!==n?n:(n=km(e.directionalValue,t.directionalValue),0!==n?n:cu.comparator(e.documentKey,t.documentKey)))}function km(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Im{constructor(e){this.Yt=new wd(((e,t)=>au.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Ul(e.collectionGroup===this.collectionId),this.en)return!1;const t=uu(e);if(void 0!==t&&!this.nn(t))return!1;const n=du(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new wd(au.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new hu(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new hu(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new hu(n.field,"asc"===n.dir?0:1)));return new lu(lu.UNKNOWN_ID,this.collectionId,t,fu.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xm(e){var t,n;if(Ul(e instanceof dh||e instanceof hh),e instanceof dh){if(e instanceof xh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>dh.create(e.field,"==",t))))||[];return hh.create(r,"or")}return e}const r=e.filters.map((e=>xm(e)));return hh.create(r,e.op)}function Sm(e){if(0===e.getFilters().length)return[];const t=Pm(xm(e));return Ul(Nm(t)),Cm(t)||Am(t)?[t]:t.getFilters()}function Cm(e){return e instanceof dh}function Am(e){return e instanceof hh&&mh(e)}function Nm(e){return Cm(e)||Am(e)||function(e){if(e instanceof hh&&ph(e)){for(const t of e.getFilters())if(!Cm(t)&&!Am(t))return!1;return!0}return!1}(e)}function Pm(e){if(Ul(e instanceof dh||e instanceof hh),e instanceof dh)return e;if(1===e.filters.length)return Pm(e.filters[0]);const t=e.filters.map((e=>Pm(e)));let n=hh.create(t,e.op);return n=Dm(n),Nm(n)?n:(Ul(n instanceof hh),Ul(fh(n)),Ul(n.filters.length>1),n.filters.reduce(((e,t)=>Rm(e,t))))}function Rm(e,t){let n;return Ul(e instanceof dh||e instanceof hh),Ul(t instanceof dh||t instanceof hh),n=e instanceof dh?t instanceof dh?function(e,t){return hh.create([e,t],"and")}(e,t):Om(e,t):t instanceof dh?Om(t,e):function(e,t){if(Ul(e.filters.length>0&&t.filters.length>0),fh(e)&&fh(t))return bh(e,t.getFilters());const n=ph(e)?e:t,r=ph(e)?t:e,i=n.filters.map((e=>Rm(e,r)));return hh.create(i,"or")}(e,t),Dm(n)}function Om(e,t){if(fh(t))return bh(t,e.getFilters());{const n=t.filters.map((t=>Rm(e,t)));return hh.create(n,"or")}}function Dm(e){if(Ul(e instanceof dh||e instanceof hh),e instanceof dh)return e;const t=e.getFilters();if(1===t.length)return Dm(t[0]);if(gh(e))return e;const n=t.map((e=>Dm(e))),r=[];return n.forEach((t=>{t instanceof dh?r.push(t):t instanceof hh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:hh.create(r,e.op)}class Lm{constructor(){this._n=new Mm}addToCollectionParentIndex(e,t){return this._n.add(t),_u.resolve()}getCollectionParents(e,t){return _u.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return _u.resolve()}deleteFieldIndex(e,t){return _u.resolve()}deleteAllFieldIndexes(e){return _u.resolve()}createTargetIndexes(e,t){return _u.resolve()}getDocumentsMatchingTarget(e,t){return _u.resolve(null)}getIndexType(e,t){return _u.resolve(0)}getFieldIndexes(e,t){return _u.resolve([])}getNextCollectionGroupToUpdate(e){return _u.resolve(null)}getMinOffset(e,t){return _u.resolve(gu.min())}getMinOffsetFromCollectionGroup(e,t){return _u.resolve(gu.min())}updateCollectionGroup(e,t,n){return _u.resolve()}updateIndexEntries(e,t){return _u.resolve()}}class Mm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wd(ou.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new wd(ou.comparator)).toArray()}}const Fm=new Uint8Array(0);class Um{constructor(e,t){this.databaseId=t,this.an=new Mm,this.un=new ef((e=>Ph(e)),((e,t)=>Rh(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Uu(r)};return jm(e).put(i)}return _u.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[tu(t),""],!1,!0);return jm(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(zu(r.parent))}return n}))}addFieldIndex(e,t){const n=zm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Bm(e);return i.next((e=>{n.put(lm(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=zm(e),r=Bm(e),i=Vm(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=zm(e),n=Vm(e),r=Bm(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return _u.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Im(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Vm(e);let r=!0;const i=new Map;return _u.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=hf();const r=[];return _u.forEach(i,((i,o)=>{Ol("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ph(t)));const s=function(e,t){const n=uu(t);if(void 0===n)return null;for(const r of Dh(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of du(t))for(const t of Dh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of du(t)){const t=0===i.kind?Lh(e,i.fieldPath,e.startAt):Mh(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new oh(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of du(t)){const t=0===i.kind?Mh(e,i.fieldPath,e.endAt):Lh(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new oh(n,r)}(o,i),u=this.hn(i,o,c),d=this.hn(i,o,l),h=this.Pn(i,o,a),f=this.In(i.indexId,s,u,c.inclusive,d,l.inclusive,h);return _u.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=cu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return _u.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Sm(hh.create(e.filters,"and")).map((t=>Nh(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/c]):Fm,d=this.En(e,a,n[u%c],r),h=this.dn(e,a,i[u%c],o),f=s.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}En(e,t,n,r){const i=new Em(e,cu.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Em(e,cu.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Im(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return _u.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new wd(au.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new _m;for(const r of du(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);mm.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new _m;return mm.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new _m;return mm.bt.Pt(Kd(this.databaseId,t),n.Ht(function(e){const t=du(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new _m);let i=0;for(const o of du(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Gd(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);mm.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new _m;n.seed(e.Wt()),mm.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof dh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=zm(e),r=Bm(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return _u.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new fu(t.sequenceNumber,new gu(nm(t.readTime),new cu(zu(t.documentKey)),t.largestBatchId)):fu.empty(),r=e.fields.map((e=>{let[t,n]=e;return new hu(au.fromServerFormat(t),n)}));return new lu(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Zl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=zm(e),i=Bm(e);return this.gn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>_u.forEach(t,(t=>i.put(lm(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return _u.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?_u.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),_u.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?_u.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Vm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Vm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Vm(e);let i=new wd(Tm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Em(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new wd(Tm);const r=this.An(t,e);if(null==r)return n;const i=uu(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Gd(o))for(const i of o.arrayValue.values||[])n=n.add(new Em(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Em(t.indexId,e.key,Fm,r));return n}wn(e,t,n,r,i){Ol("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ed(o),c=Ed(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Ed(s)):t?(i(a),a=Ed(o)):(a=Ed(o),c=Ed(s))}}(r,i,Tm,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),_u.waitFor(o)}gn(e){let t=1;return Bm(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Tm(e,t))).filter(((e,t,n)=>!t||0!==Tm(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Tm(o,e),i=Tm(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Fm,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Fm,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Tm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qm)}getMinOffset(e,t){return _u.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Fl())))).next(qm)}}function jm(e){return fd(e,"collectionParents")}function Vm(e){return fd(e,"indexEntries")}function zm(e){return fd(e,"indexConfiguration")}function Bm(e){return fd(e,"indexState")}function qm(e){Ul(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;vu(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gu(t.readTime,t.documentKey,n)}const Km={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hm(e,Hm.DEFAULT_COLLECTION_PERCENTILE,Hm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gm(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{Ul(1===a)})));const l=[];for(const u of n.mutations){const e=Ku(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return _u.waitFor(o).next((()=>l))}function Wm(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fl();t=e.noDocument}return JSON.stringify(t).length}Hm.DEFAULT_COLLECTION_PERCENTILE=10,Hm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hm.DEFAULT=new Hm(41943040,Hm.DEFAULT_COLLECTION_PERCENTILE,Hm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hm.DISABLED=new Hm(-1,0,0);class Qm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Ul(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Qm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jm(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Xm(e),o=Jm(e);return o.add({}).next((s=>{Ul("number"==typeof s);const a=new Wf(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Fp(e.ct,t))),i=n.mutations.map((t=>Fp(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new wd(((e,t)=>Zl(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ku(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,Hu))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),_u.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return Jm(e).get(t).next((e=>e?(Ul(e.userId===this.userId),rm(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?_u.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Jm(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Ul(t.batchId>=n),i=rm(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Jm(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jm(e).U("userMutationsIndex",t).next((e=>e.map((e=>rm(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=qu(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Xm(e).J({range:r},((n,r,o)=>{const[s,a,c]=n,l=zu(a);if(s===this.userId&&t.path.isEqual(l))return Jm(e).get(c).next((e=>{if(!e)throw Fl();Ul(e.userId===this.userId),i.push(rm(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wd(Zl);const r=[];return t.forEach((t=>{const i=qu(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Xm(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,c=zu(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),_u.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=qu(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new wd(Zl);return Xm(e).J({range:o},((e,t,i)=>{const[o,a,c]=e,l=zu(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Jm(e).get(t).next((e=>{if(null===e)throw Fl();Ul(e.userId===this.userId),n.push(rm(this.serializer,e))})))})),_u.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Gm(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),_u.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return _u.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Xm(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=zu(e[1]);r.push(t)}else n.done()})).next((()=>{Ul(0===r.length)}))}))}containsKey(e,t){return Ym(e,this.userId,t)}xn(e){return $m(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ym(e,t,n){const r=qu(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Xm(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Jm(e){return fd(e,"mutations")}function Xm(e){return fd(e,"documentMutations")}function $m(e){return fd(e,"mutationQueues")}class Zm{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zm(0)}static Ln(){return new Zm(-1)}}class eg{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Zm(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>ru.fromTimestamp(new nu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>tg(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Ul(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return tg(e).J(((o,s)=>{const a=im(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>_u.waitFor(i))).next((()=>r))}forEachTarget(e,t){return tg(e).J(((e,n)=>{const r=im(n);t(r)}))}Bn(e){return ng(e).get("targetGlobalKey").next((e=>(Ul(null!==e),e)))}kn(e,t){return ng(e).put("targetGlobalKey",t)}qn(e,t){return tg(e).put(om(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ph(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return tg(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=im(n);Rh(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=rg(e);return t.forEach((t=>{const o=Uu(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),_u.waitFor(r)}removeMatchingKeys(e,t,n){const r=rg(e);return _u.forEach(t,(t=>{const i=Uu(t.path);return _u.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=rg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rg(e);let i=hf();return r.J({range:n,H:!0},((e,t,n)=>{const r=zu(e[1]),o=new cu(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Uu(t.path),r=IDBKeyRange.bound([n],[tu(n)],!1,!0);let i=0;return rg(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return tg(e).get(t).next((e=>e?im(e):null))}}function tg(e){return fd(e,"targets")}function ng(e){return fd(e,"targetGlobal")}function rg(e){return fd(e,"targetDocuments")}function ig(e,t){let[n,r]=e,[i,o]=t;const s=Zl(n,i);return 0===s?Zl(r,o):s}class og{constructor(e){this.Kn=e,this.buffer=new wd(ig),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ig(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Ol("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Su(e)?Ol("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await wu(e)}await this.zn(3e5)}))}}class ag{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return _u.resolve(Du.oe);const n=new og(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; disabled"),_u.resolve(Km)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Km):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ol("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Rl()<=yn.DEBUG&&Ol("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),_u.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function cg(e,t){return new ag(e,t)}class lg{constructor(e,t){this.db=e,this.garbageCollector=cg(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return ug(e,n)}removeReference(e,t,n){return ug(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ug(e,t)}er(e,t){return function(e,t){let n=!1;return $m(e).Y((r=>Ym(e,r,t).next((e=>(e&&(n=!0),_u.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,ru.min()),rg(e).delete(function(e){return[0,Uu(e.path)]}(o)))))}));r.push(t)}})).next((()=>_u.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ug(e,t)}Xn(e,t){const n=rg(e);let r,i=Du.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==Du.oe&&t(new cu(zu(r)),i),i=c,r=a):i=Du.oe})).next((()=>{i!==Du.oe&&t(new cu(zu(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ug(e,t){return rg(e).put(function(e,t){return{targetId:0,path:Uu(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class dg{constructor(){this.changes=new ef((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ih.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_u.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return gg(e).put(n)}removeEntry(e,t,n){return gg(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],em(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=ih.newInvalidDocument(t);return gg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vg(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:ih.newInvalidDocument(t)};return gg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vg(t))},((e,r)=>{n={document:this.nr(t,r),size:Wm(r)}})).next((()=>n))}getEntries(e,t){let n=nf();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=nf(),r=new vd(cu.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Wm(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return _u.resolve();let r=new wd(bg);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(vg(r.first()),vg(r.last())),o=r.getIterator();let s=o.getNext();return gg(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=cu.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&bg(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(vg(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),em(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gg(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=nf();for(const i of e){const e=this.nr(cu.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Jh(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=nf();const o=yg(t,n),s=yg(t,gu.max());return gg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(cu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new pg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return mg(e).get("remoteDocumentGlobalKey").next((e=>(Ul(!!e),e)))}tr(e,t){return mg(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Mp(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=cu.fromSegments(t.noDocument.path),r=nm(t.noDocument.readTime);n=ih.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fl();{const e=cu.fromSegments(t.unknownDocument.path),r=nm(t.unknownDocument.version);n=ih.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new nu(e[0],e[1]);return ru.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ru.min()))return e}return ih.newInvalidDocument(e)}}function fg(e){return new hg(e)}class pg extends dg{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ef((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new wd(((e,t)=>Zl(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Zp(this.ar.serializer,o);r=r.add(i.path.popLast());const c=Wm(a);n+=c-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Zp(this.ar.serializer,o.convertToNoDocument(ru.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),_u.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function mg(e){return fd(e,"remoteDocumentGlobal")}function gg(e){return fd(e,"remoteDocumentsV14")}function vg(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yg(e,t){const n=t.documentKey.path.toArray();return[e,em(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bg(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Zl(n[o],r[o]),i)return i;return i=Zl(n.length,r.length),i||(i=Zl(n[n.length-2],r[r.length-2]),i||Zl(n[n.length-1],r[r.length-1]))}class wg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _g{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ff(n.mutation,e,Td.empty(),nu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,hf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hf();const r=af();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=of();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=af();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,hf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=nf();const o=lf(),s=lf();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof zf)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ff(s.mutation,t,s.mutation.getFieldMask(),nu.now())):o.set(t.key,Td.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new wg(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=lf();let r=new vd(((e,t)=>e-t)),i=hf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Td.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||hf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=cf();c.forEach((e=>{if(!i.has(e)){const r=Lf(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return _u.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return cu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_u.resolve(af());let s=-1,a=i;return o.next((t=>_u.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?_u.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,hf()))).next((e=>({batchId:s,changes:sf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cu(t)).next((e=>{let t=of();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=of();return this.indexManager.getCollectionParents(e,i).next((s=>_u.forEach(s,(s=>{const a=function(e,t){return new Fh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ih.newInvalidDocument(r)))}));let n=of();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Ff(o.mutation,r,Td.empty(),nu.now()),Jh(t,r)&&(n=n.insert(e,r))})),n}))}}class Eg{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return _u.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ip(e.createTime)}}(t)),_u.resolve()}getNamedQuery(e,t){return _u.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:sm(e.bundledQuery),readTime:Ip(e.readTime)}}(t)),_u.resolve()}}class Tg{constructor(){this.overlays=new vd(cu.comparator),this.hr=new Map}getOverlay(e,t){return _u.resolve(this.overlays.get(t))}getOverlays(e,t){const n=af();return _u.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),_u.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),_u.resolve()}getOverlaysForCollection(e,t,n){const r=af(),i=t.length+1,o=new cu(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _u.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vd(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=af(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=af(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return _u.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Yf(t,n));let i=this.hr.get(t);void 0===i&&(i=hf(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class kg{constructor(){this.Pr=new wd(Ig.Ir),this.Tr=new wd(Ig.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Ig(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Ig(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new cu(new ou([])),n=new Ig(t,e),r=new Ig(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new cu(new ou([])),n=new Ig(t,e),r=new Ig(t,e+1);let i=hf();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ig(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ig{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return cu.comparator(e.key,t.key)||Zl(e.pr,t.pr)}static Er(e,t){return Zl(e.pr,t.pr)||cu.comparator(e.key,t.key)}}class xg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new wd(Ig.Ir)}checkEmpty(e){return _u.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Wf(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new Ig(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return _u.resolve(o)}lookupMutationBatch(e,t){return _u.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return _u.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _u.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return _u.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ig(t,0),r=new Ig(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),_u.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wd(Zl);return t.forEach((e=>{const t=new Ig(e,0),r=new Ig(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),_u.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cu.isDocumentKey(i)||(i=i.child(""));const o=new Ig(new cu(i),0);let s=new wd(Zl);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),_u.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ul(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return _u.forEach(t.mutations,(r=>{const i=new Ig(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Ig(t,0),r=this.wr.firstAfterOrEqual(n);return _u.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_u.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sg{constructor(e){this.vr=e,this.docs=new vd(cu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _u.resolve(n?n.document.mutableCopy():ih.newInvalidDocument(t))}getEntries(e,t){let n=nf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ih.newInvalidDocument(e))})),_u.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=nf();const o=t.path,s=new cu(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||vu(mu(s),n)<=0||(r.has(s.key)||Jh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return _u.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Fl()}Fr(e,t){return _u.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Cg(this)}getSize(e){return _u.resolve(this.size)}}class Cg extends dg{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),_u.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Ag{constructor(e){this.persistence=e,this.Mr=new ef((e=>Ph(e)),Rh),this.lastRemoteSnapshotVersion=ru.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kg,this.targetCount=0,this.Lr=Zm.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),_u.resolve()}getLastRemoteSnapshotVersion(e){return _u.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _u.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),_u.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),_u.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Zm(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,_u.resolve()}updateTargetData(e,t){return this.qn(t),_u.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,_u.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),_u.waitFor(i).next((()=>r))}getTargetCount(e){return _u.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return _u.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),_u.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),_u.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),_u.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return _u.resolve(n)}containsKey(e,t){return _u.resolve(this.Nr.containsKey(t))}}class Ng{constructor(e,t){this.Br={},this.overlays={},this.kr=new Du(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ag(this),this.indexManager=new Lm,this.remoteDocumentCache=function(e){return new Sg(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new $p(t),this.$r=new Eg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new xg(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Ol("MemoryPersistence","Starting transaction:",e);const r=new Pg(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return _u.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Pg extends bu{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.zr=new kg,this.jr=null}static Hr(e){return new Rg(e)}get Jr(){if(this.jr)return this.jr;throw Fl()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),_u.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),_u.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),_u.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _u.forEach(this.Jr,(n=>{const r=cu.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ru.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return _u.or([()=>_u.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Og{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Eu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bu,{unique:!0}),e.createObjectStore("documentMutations")}(e),Dg(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=_u.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Dg(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ru.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bu,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return _u.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:rd});t.createIndex("collectionPathOverlayIndex",id,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",od,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Gu});t.createIndex("documentKeyIndex",Wu),t.createIndex("collectionGroupIndex",Qu)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Zu}).createIndex("sequenceNumberIndex",ed,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:td}).createIndex("documentKeyIndex",nd,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Wm(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>_u.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>_u.forEach(n,(n=>{Ul(n.userId===t.userId);const r=rm(this.serializer,n);return Gm(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new ou(n),s=function(e){return[0,Uu(e)]}(o);r.push(t.get(s).next((n=>n?_u.resolve():(n=>t.put({targetId:0,path:Uu(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>_u.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:$u});const n=t.store("collectionParents"),r=new Mm,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Uu(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new ou(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=zu(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const r=im(n),i=om(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new cu(ou.fromString(e.document.name).popFirst(5)):e.noDocument?cu.fromSegments(e.noDocument.path):e.unknownDocument?cu.fromSegments(e.unknownDocument.path):Fl()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>_u.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=fg(this.serializer),i=new Ng(Rg.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:hf();rm(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),_u.forEach(n,((e,n)=>{const o=new Al(n),s=fm.lt(this.serializer,o),a=i.getIndexManager(o),c=Qm.lt(o,this.serializer,a,i.referenceDelegate);return new _g(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new hd(t,Du.oe),e).next()}))}))}}function Dg(e){e.createObjectStore("targetDocuments",{keyPath:Ju}).createIndex("documentTargetsIndex",Xu,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yu,{unique:!0}),e.createObjectStore("targetGlobal")}const Lg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mg{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Mg.D())throw new zl(Vl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lg(this,r),this.Ti=t+"main",this.serializer=new $p(a),this.Ei=new Tu(this.Ti,this.ui,new Og(this.serializer)),this.Qr=new eg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fg(this.serializer),this.$r=new um,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Dl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zl(Vl.FAILED_PRECONDITION,Lg);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Du(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ug(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Su(e))return Ol("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ol("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Fg(e).get("owner").next((e=>_u.resolve(this.Si(e))))}bi(e){return Ug(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=fd(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return _u.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?_u.resolve(!0):Fg(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new zl(Vl.FAILED_PRECONDITION,Lg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ug(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ol("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new hd(e,Du.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Ug(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Qm.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Um(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return fm.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Ol("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?dd:15===e?ud:14===e?ld:13===e?cd:12===e?ad:11===e?sd:void Fl()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new hd(r,this.kr?this.kr.next():Du.oe),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Dl("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new zl(Vl.FAILED_PRECONDITION,yu);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Fg(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new zl(Vl.FAILED_PRECONDITION,Lg)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fg(e).put("owner",t)}static D(){return Tu.D()}yi(e){const t=Fg(e);return t.get("owner").next((e=>this.Si(e)?(Ol("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_u.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Dl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Xt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Ol("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Dl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(_N){Dl("Failed to set zombie client id.",_N)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(_N){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Fg(e){return fd(e,"owner")}function Ug(e){return fd(e,"clientMetadata")}function jg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Vg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=hf(),r=hf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vg(e,t.fromCache,n,r)}}class zg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bg{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Xt()?8:ku(Ht())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new zg;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Rl()<=yn.DEBUG&&Ol("QueryEngine","SDK will not create cache indexes for query:",Yh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),_u.resolve()):(Rl()<=yn.DEBUG&&Ol("QueryEngine","Query:",Yh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Rl()<=yn.DEBUG&&Ol("QueryEngine","The SDK decides to create cache indexes for query:",Yh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qh(t))):_u.resolve())}ji(e,t){if(Vh(t))return _u.resolve(null);let n=qh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Gh(t,null,"F"),n=qh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=hf(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Gh(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Vh(t)||r.isEqual(ru.min())?_u.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?_u.resolve(null):(Rl()<=yn.DEBUG&&Ol("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yh(t)),this.es(e,o,t,pu(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new wd($h(e));return t.forEach(((t,r)=>{Jh(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Rl()<=yn.DEBUG&&Ol("QueryEngine","Using full collection scan to execute query:",Yh(t)),this.zi.getDocumentsMatchingQuery(e,t,gu.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class qg{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new vd(Zl),this.rs=new ef((e=>Ph(e)),Rh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _g(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Kg(e,t,n,r){return new qg(e,t,n,r)}async function Hg(e,t){const n=jl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=hf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Gg(e){const t=jl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Wg(e,t,n){let r=hf(),i=hf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=nf();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ru.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Qg(e,t){const n=jl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Yg(e,t){const n=jl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,_u.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Xp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Jg(e,t,n){const r=jl(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Su(e))throw e;Ol("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Xg(e,t,n){const r=jl(e);let i=ru.min(),o=hf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=jl(e),i=r.rs.get(n);return void 0!==i?_u.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,qh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:ru.min(),n?o:hf()))).next((e=>(ev(r,Xh(t),e),{documents:e,hs:o})))))}function $g(e,t){const n=jl(e),r=jl(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function Zg(e,t){const n=jl(e),r=n.ss.get(t)||ru.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,pu(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(ev(n,t,e),e)))}function ev(e,t,n){let r=e.ss.get(t)||ru.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function tv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hf();const r=await Yg(e,qh(sm(t.bundledQuery))),i=jl(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Ip(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(Id.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function nv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rv(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function iv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class ov{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new zl(r.error.code,r.error.message))),o?new ov(e,t,r.state,i):(Dl("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sv{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new zl(n.error.code,n.error.message))),i?new sv(e,n.state,r):(Dl("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class av{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=pf();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Fu(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new av(e,i):(Dl("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class cv{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cv(t.clientId,t.onlineState):(Dl("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class lv{constructor(){this.activeTargetIds=pf()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uv{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new vd(Zl),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=nv(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new lv),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(nv(this.persistenceKey,n));if(e){const t=av.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(iv(this.persistenceKey,e));if(n){const r=sv.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iv(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ol("SharedClientState","READ",e,t),t}setItem(e,t){Ol("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ol("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Ol("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Dl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Du.oe;if(null!=e)try{const n=JSON.parse(e);Ul("number"==typeof n),t=n}catch(e){Dl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Du.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new ov(this.currentUser,e,t,n),i=rv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=rv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=iv(this.persistenceKey,e),i=new sv(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return av.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ov.Es(new Al(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return sv.Es(r,t)}xs(e){return cv.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Ol("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=pf();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class dv{constructor(){this.no=new lv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new lv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hv{io(e){}shutdown(){}}class fv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pv=null;function mv(){return null===pv?pv=268435456+Math.round(2147483648*Math.random()):pv++,"0x"+pv.toString(16)}const gv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vv{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const yv="WebChannelConnection";class bv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const o=mv(),s=this.vo(e,t.toUriEncodedString());Ol("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,s,a,n).then((t=>(Ol("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Ll("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}xo(e,t,n,r,i,o){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=gv[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=mv();return new Promise(((o,s)=>{const a=new vl;a.setWithCredentials(!0),a.listenOnce(wl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _l.NO_ERROR:const t=a.getResponseJson();Ol(yv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case _l.TIMEOUT:Ol(yv,"RPC '".concat(e,"' ").concat(i," timed out")),s(new zl(Vl.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:const n=a.getStatus();if(Ol(yv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vl).indexOf(t)>=0?t:Vl.UNKNOWN}(t.status);s(new zl(e,t.message))}else s(new zl(Vl.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new zl(Vl.UNAVAILABLE,"Connection failed."));break;default:Fl()}}finally{Ol(yv,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Ol(yv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Oo(e,t,n){const r=mv(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Il(),s=kl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new yl({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Ol(yv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let d=!1,h=!1;const f=new vv({lo:t=>{h?Ol(yv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ol(yv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ol(yv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,bl.EventType.OPEN,(()=>{h||(Ol(yv,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,bl.EventType.CLOSE,(()=>{h||(h=!0,Ol(yv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,bl.EventType.ERROR,(t=>{h||(h=!0,Ll(yv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new zl(Vl.UNAVAILABLE,"The operation could not be completed")))})),p(u,bl.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Ul(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ol(yv,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Xf[e];if(void 0!==t)return ep(t)}(t),i=s.message;void 0===n&&(n=Vl.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.po(new zl(n,i)),u.close()}else Ol(yv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(s,Tl.STAT_EVENT,(t=>{t.stat===El.PROXY?Ol(yv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===El.NOPROXY&&Ol(yv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function wv(){return"undefined"!=typeof window?window:null}function _v(){return"undefined"!=typeof document?document:null}function Ev(e){return new wp(e,!0)}class Tv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&Ol("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class kv{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Tv(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===Vl.RESOURCE_EXHAUSTED?(Dl(t.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===Vl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new zl(Vl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return Ol("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(Ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Iv extends kv{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ul(void 0===t||"string"==typeof t),Id.fromBase64String(t||"")):(Ul(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Id.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Vl.UNKNOWN:ep(e.code);return new zl(t,e.message||"")}(s);n=new hp(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Np(e,r.document.name),o=Ip(r.document.updateTime),s=r.document.createTime?Ip(r.document.createTime):ru.min(),a=new nh({mapValue:{fields:r.document.fields}}),c=ih.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new up(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Np(e,r.document),o=r.readTime?Ip(r.readTime):ru.min(),s=ih.newNoDocument(i,o),a=r.removedTargetIds||[];n=new up([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Np(e,r.document),o=r.removedTargetIds||[];n=new up([],o,i,null)}else{if(!("filter"in t))return Fl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Jf(r,i),s=e.targetId;n=new dp(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ru.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ru.min():t.readTime?Ip(t.readTime):ru.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=Op(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Oh(r)?{documents:jp(e,r)}:{query:Vp(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tp(e,t.resumeToken);const r=_p(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ru.min())>0){n.readTime=Ep(e,t.snapshotVersion.toTimestamp());const r=_p(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=Op(this.serializer),t.removeTarget=e,this.i_(t)}}class xv extends kv{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Ul(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(Ul(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ip(e.updateTime):Ip(t);return n.isEqual(ru.min())&&(n=Ip(t)),new Pf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ip(e.commitTime);return this.listener.A_(n,t)}return Ul(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Op(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Fp(this.serializer,e)))};this.i_(t)}}class Sv extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new zl(Vl.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,Sp(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zl(Vl.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.xo(e,Sp(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zl(Vl.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Cv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Dl(t),this.y_=!1):Ol("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Av{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Uv(this)&&(Ol("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=jl(e);t.M_.add(4),await Pv(t),t.N_.set("Unknown"),t.M_.delete(4),await Nv(t)}(this))}))})),this.N_=new Cv(n,r)}}async function Nv(e){if(Uv(e))for(const t of e.x_)await t(!0)}async function Pv(e){for(const t of e.x_)await t(!1)}function Rv(e,t){const n=jl(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Fv(n)?Mv(n):ry(n).Xo()&&Dv(n,t))}function Ov(e,t){const n=jl(e),r=ry(n);n.F_.delete(t),r.Xo()&&Lv(n,t),0===n.F_.size&&(r.Xo()?r.n_():Uv(n)&&n.N_.set("Unknown"))}function Dv(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ru.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ry(e).P_(t)}function Lv(e,t){e.L_.xe(t),ry(e).I_(t)}function Mv(e){e.L_=new pp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ry(e).start(),e.N_.w_()}function Fv(e){return Uv(e)&&!ry(e).Zo()&&e.F_.size>0}function Uv(e){return 0===jl(e).M_.size}function jv(e){e.L_=void 0}async function Vv(e){e.N_.set("Online")}async function zv(e){e.F_.forEach(((t,n)=>{Dv(e,t)}))}async function Bv(e,t){jv(e),Fv(e)?(e.N_.D_(t),Mv(e)):e.N_.set("Unknown")}async function qv(e,t,n){if(e.N_.set("Online"),t instanceof hp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Ol("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Kv(e,n)}else if(t instanceof up?e.L_.Ke(t):t instanceof dp?e.L_.He(t):e.L_.We(t),!n.isEqual(ru.min()))try{const t=await Gg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Id.EMPTY_BYTE_STRING,r.snapshotVersion)),Lv(e,t);const i=new Xp(r.target,t,n,r.sequenceNumber);Dv(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ol("RemoteStore","Failed to raise snapshot:",t),await Kv(e,t)}}async function Kv(e,t,n){if(!Su(t))throw t;e.M_.add(1),await Pv(e),e.N_.set("Offline"),n||(n=()=>Gg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ol("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Nv(e)}))}function Hv(e,t){return t().catch((n=>Kv(e,n,t)))}async function Gv(e){const t=jl(e),n=iy(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Wv(t);)try{const e=await Qg(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Qv(t,e)}catch(e){await Kv(t,e)}Yv(t)&&Jv(t)}function Wv(e){return Uv(e)&&e.v_.length<10}function Qv(e,t){e.v_.push(t);const n=iy(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Yv(e){return Uv(e)&&!iy(e).Zo()&&e.v_.length>0}function Jv(e){iy(e).start()}async function Xv(e){iy(e).V_()}async function $v(e){const t=iy(e);for(const n of e.v_)t.d_(n.mutations)}async function Zv(e,t,n){const r=e.v_.shift(),i=Qf.from(r,t,n);await Hv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Gv(e)}async function ey(e,t){t&&iy(e).E_&&await async function(e,t){if(function(e){return Zf(e)&&e!==Vl.ABORTED}(t.code)){const n=e.v_.shift();iy(e).t_(),await Hv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Gv(e)}}(e,t),Yv(e)&&Jv(e)}async function ty(e,t){const n=jl(e);n.asyncQueue.verifyOperationInProgress(),Ol("RemoteStore","RemoteStore received new credentials");const r=Uv(n);n.M_.add(3),await Pv(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Nv(n)}async function ny(e,t){const n=jl(e);t?(n.M_.delete(2),await Nv(n)):t||(n.M_.add(2),await Pv(n),n.N_.set("Unknown"))}function ry(e){return e.B_||(e.B_=function(e,t,n){const r=jl(e);return r.f_(),new Iv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Vv.bind(null,e),To:zv.bind(null,e),Ao:Bv.bind(null,e),h_:qv.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Fv(e)?Mv(e):e.N_.set("Unknown")):(await e.B_.stop(),jv(e))}))),e.B_}function iy(e){return e.k_||(e.k_=function(e,t,n){const r=jl(e);return r.f_(),new xv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Xv.bind(null,e),Ao:ey.bind(null,e),R_:$v.bind(null,e),A_:Zv.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Gv(e)):(await e.k_.stop(),e.v_.length>0&&(Ol("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class oy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new oy(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zl(Vl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(e,t){if(Dl("AsyncQueue","".concat(t,": ").concat(e)),Su(e))return new zl(Vl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ay{constructor(e){this.comparator=e?(t,n)=>e(t,n)||cu.comparator(t.key,n.key):(e,t)=>cu.comparator(e.key,t.key),this.keyedMap=of(),this.sortedSet=new vd(this.comparator)}static emptySet(e){return new ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ay))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ay;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cy{constructor(){this.q_=new vd(cu.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Fl():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ly{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ly(e,t,ay.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class uy{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class dy{constructor(){this.queries=new ef((e=>Qh(e)),Wh),this.onlineState="Unknown",this.z_=new Set}}async function hy(e,t){const n=jl(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new uy,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=sy(e,"Initialization of query '".concat(Yh(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&gy(n)}async function fy(e,t){const n=jl(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function py(e,t){const n=jl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&gy(n)}function my(e,t,n){const r=jl(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function gy(e){e.z_.forEach((e=>{e.next()}))}var vy,yy;(yy=vy||(vy={})).J_="default",yy.Cache="cache";class by{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ly(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==vy.Cache}}class wy{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class _y{constructor(e){this.serializer=e}Ps(e){return Np(this.serializer,e)}Is(e){return e.metadata.exists?Mp(this.serializer,e.document,!1):ih.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ip(e)}}class Ey{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ty(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=ou.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new _y(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||hf()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=jl(e);let o=hf(),s=nf();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(o=o.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await Yg(i,function(e){return qh(jh(ou.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Wg(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new _y(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await tv(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function Ty(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ky{constructor(e){this.key=e}}class Iy{constructor(e){this.key=e}}class xy{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=hf(),this.mutatedKeys=hf(),this.Ia=$h(e),this.Ta=new ay(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new cy,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Jh(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ra(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||c&&this.Ia(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Xi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fl()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==o.length||c?{snapshot:new ly(this.query,e.Ta,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new cy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=hf(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new Iy(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new ky(n))})),t}pa(e){this.la=e.hs,this.Pa=hf();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return ly.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Sy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cy{constructor(e){this.key=e,this.wa=!1}}class Ay{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ef((e=>Qh(e)),Wh),this.Da=new Map,this.Ca=new Set,this.va=new vd(cu.comparator),this.Fa=new Map,this.Ma=new kg,this.xa={},this.Oa=new Map,this.Na=Zm.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Ny(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ob(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Ry(r,t,n,!0),i}async function Py(e,t){const n=ob(e);await Ry(n,t,!0,!1)}async function Ry(e,t,n,r){const i=await Yg(e.localStore,qh(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Oy(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Rv(e.remoteStore,i),a}async function Oy(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await Xg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Hy(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await Xg(e.localStore,t,!0),s=new xy(t,o.hs),a=s.da(o.documents),c=lp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Hy(e,n,l.fa);const u=new Sy(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function Dy(e,t,n){const r=jl(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!Wh(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ov(r.remoteStore,i.targetId),qy(r,i.targetId)})).catch(wu)):(qy(r,i.targetId),await Jg(r.localStore,i.targetId,!0))}async function Ly(e,t){const n=jl(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(n.remoteStore,r.targetId))}async function My(e,t){const n=jl(e);try{const e=await function(e,t){const n=jl(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Id.EMPTY_BYTE_STRING,ru.min()).withLastLimboFreeSnapshotVersion(ru.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Qr.updateTargetData(e,l))}));let a=nf(),c=hf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Wg(e,o,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(ru.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return _u.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Ul(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Ul(r.wa):e.removedDocuments.size>0&&(Ul(r.wa),r.wa=!1))})),await Qy(n,e,t)}catch(e){await wu(e)}}function Fy(e,t,n){const r=jl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=jl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&gy(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Uy(e,t,n){const r=jl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new vd(cu.comparator);e=e.insert(o,ih.newNoDocument(o,ru.min()));const n=hf().add(o),i=new cp(ru.min(),new Map,new vd(Zl),e,n);await My(r,i),r.va=r.va.remove(o),r.Fa.delete(t),Wy(r)}else await Jg(r.localStore,t,!1).then((()=>qy(r,t,n))).catch(wu)}async function jy(e,t){const n=jl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=jl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=_u.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ul(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);By(n,r,null),zy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qy(n,e)}catch(e){await wu(e)}}async function Vy(e,t,n){const r=jl(e);try{const e=await function(e,t){const n=jl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ul(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);By(r,t,n),zy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qy(r,e)}catch(n){await wu(n)}}function zy(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function By(e,t,n){const r=jl(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Ky(e,t)}))}function Ky(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Ov(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Wy(e))}function Hy(e,t,n){for(const r of n)r instanceof ky?(e.Ma.addReference(r.key,t),Gy(e,r)):r instanceof Iy?(Ol("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Ky(e,r.key)):Fl()}function Gy(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ol("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Wy(e))}function Wy(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new cu(ou.fromString(t)),r=e.Na.next();e.Fa.set(r,new Cy(n)),e.va=e.va.insert(n,r),Rv(e.remoteStore,new Xp(qh(jh(n.path)),r,"TargetPurposeLimboResolution",Du.oe))}}async function Qy(e,t,n){const r=jl(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Vg.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.h_(i),await async function(e,t){const n=jl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>_u.forEach(t,(t=>_u.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>_u.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Su(e))throw e;Ol("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Yy(e,t){const n=jl(e);if(!n.currentUser.isEqual(t)){Ol("SyncEngine","User change. New user:",t.toKey());const e=await Hg(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new zl(Vl.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Qy(n,e.us)}}function Jy(e,t){const n=jl(e),r=n.Fa.get(t);if(r&&r.wa)return hf().add(r.key);{let e=hf();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function Xy(e,t){const n=jl(e),r=await Xg(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&Hy(n,t.targetId,i.fa),i}async function $y(e,t){const n=jl(e);return Zg(n.localStore,t).then((e=>Qy(n,e)))}async function Zy(e,t,n,r){const i=jl(e),o=await function(e,t){const n=jl(e),r=jl(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):_u.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Gv(i.remoteStore):"acknowledged"===n||"rejected"===n?(By(i,t,r||null),zy(i,t),function(e,t){jl(jl(e).mutationQueue).Mn(t)}(i.localStore,t)):Fl(),await Qy(i,o)):Ol("SyncEngine","Cannot apply mutation batch with id: "+t)}async function eb(e,t,n){const r=jl(e),i=[],o=[];for(const s of t){let e;const t=r.Da.get(s);if(t&&0!==t.length){e=await Yg(r.localStore,qh(t[0]));for(const e of t){const t=r.ba.get(e),n=await Xy(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await $g(r.localStore,s);e=await Yg(r.localStore,t),await Oy(r,tb(t),s,!1,e.resumeToken)}i.push(e)}return r.Sa.h_(o),i}function tb(e){return Uh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nb(e){return function(e){return jl(jl(e).persistence).Bi()}(jl(e).localStore)}async function rb(e,t,n,r){const i=jl(e);if(i.La)return void Ol("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Zg(i.localStore,Xh(o[0])),r=cp.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Id.EMPTY_BYTE_STRING);await Qy(i,e,r);break}case"rejected":await Jg(i.localStore,t,!0),qy(i,t,r);break;default:Fl()}}async function ib(e,t,n){const r=ob(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Ol("SyncEngine","Adding an already active target "+e);continue}const t=await $g(r.localStore,e),n=await Yg(r.localStore,t);await Oy(r,tb(t),n.targetId,!1,n.resumeToken),Rv(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Jg(r.localStore,e,!1).then((()=>{Ov(r.remoteStore,e),qy(r,e)})).catch(wu)}}function ob(e){const t=jl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=My.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uy.bind(null,t),t.Sa.h_=py.bind(null,t.eventManager),t.Sa.ka=my.bind(null,t.eventManager),t}function sb(e){const t=jl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vy.bind(null,t),t}class ab{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ev(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kg(this.persistence,new Bg,e.initialUser,this.serializer)}createPersistence(e){return new Ng(Rg.Hr,this.serializer)}createSharedClientState(e){return new dv}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cb extends ab{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await sb(this.Qa.syncEngine),await Gv(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Kg(this.persistence,new Bg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new sg(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ou(t,this.persistence);return new Ru(e.asyncQueue,n)}createPersistence(e){const t=jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hm.withCacheSize(this.cacheSizeBytes):Hm.DEFAULT;return new Mg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wv(),_v(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dv}}class lb extends cb{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof uv&&(this.sharedClientState.syncEngine={Zs:Zy.bind(null,t),Xs:rb.bind(null,t),eo:ib.bind(null,t),Bi:nb.bind(null,t),Ys:$y.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=jl(e);if(ob(n),sb(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await eb(n,e.toArray());n.La=!0,await ny(n.remoteStore,!0);for(const r of t)Rv(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(qy(n,i),Jg(n.localStore,i,!0)))),Ov(n.remoteStore,i)})),await t,await eb(n,e),function(e){const t=jl(e);t.Fa.forEach(((e,n)=>{Ov(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new vd(cu.comparator)}(n),n.La=!1,await ny(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=wv();if(!uv.D(t))throw new zl(Vl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ub{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yy.bind(null,this.syncEngine),await ny(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dy}createDatastore(e){const t=Ev(e.databaseInfo.databaseId),n=function(e){return new bv(e)}(e.databaseInfo);return function(e,t,n,r){return new Sv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Av(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Fy(this.syncEngine,e,0)),fv.D()?new fv:new hv)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Ay(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=jl(e);Ol("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Pv(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function db(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Dl("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class fb{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Bl,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new wy(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class pb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new zl(Vl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=jl(e),r={documents:t.map((e=>Ap(n.serializer,e)))},i=await n.xo("BatchGetDocuments",n.serializer.databaseId,ou.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ul(!!t.found),t.found.name,t.found.updateTime;const n=Np(e,t.found.name),r=Ip(t.found.updateTime),i=t.found.createTime?Ip(t.found.createTime):ru.min(),o=new nh({mapValue:{fields:t.found.fields}});return ih.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Ul(!!t.missing),Ul(!!t.readTime);const n=Np(e,t.missing),r=Ip(t.readTime);return ih.newNoDocument(n,r)}(e,t):Fl()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Ul(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=cu.fromPath(t);this.mutations.push(new Gf(n,this.precondition(n)))})),await async function(e,t){const n=jl(e),r={writes:t.map((e=>Fp(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,ou.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fl();t=ru.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new zl(Vl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ru.min())?Rf.exists(!1):Rf.updateTime(t):Rf.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ru.min()))throw new zl(Vl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rf.updateTime(t)}return Rf.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mb{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Yo=new Tv(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new pb(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Zf(t)}return!1}}class gb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Al.UNAUTHENTICATED,this.clientId=$l.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ol("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ol("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zl(Vl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vb(e,t){e.asyncQueue.verifyOperationInProgress(),Ol("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Hg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wb(e);Ol("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ty(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ty(t.remoteStore,n))),e._onlineComponents=t}function bb(e){return"FirebaseError"===e.name?e.code===Vl.FAILED_PRECONDITION||e.code===Vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function wb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ol("FirestoreClient","Using user provided OfflineComponentProvider");try{await vb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bb(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await vb(e,new ab)}}else Ol("FirestoreClient","Using default OfflineComponentProvider"),await vb(e,new ab);return e._offlineComponents}async function _b(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ol("FirestoreClient","Using user provided OnlineComponentProvider"),await yb(e,e._uninitializedComponentsProvider._online)):(Ol("FirestoreClient","Using default OnlineComponentProvider"),await yb(e,new ub))),e._onlineComponents}function Eb(e){return wb(e).then((e=>e.persistence))}function Tb(e){return wb(e).then((e=>e.localStore))}function kb(e){return _b(e).then((e=>e.remoteStore))}function Ib(e){return _b(e).then((e=>e.syncEngine))}function xb(e){return _b(e).then((e=>e.datastore))}async function Sb(e){const t=await _b(e),n=t.eventManager;return n.onListen=Ny.bind(null,t.syncEngine),n.onUnlisten=Dy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Py.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ly.bind(null,t.syncEngine),n}function Cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new hb({next:o=>{t.enqueueAndForget((()=>fy(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new zl(Vl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new zl(Vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new by(jh(n.path),o,{includeMetadataChanges:!0,ra:!0});return hy(e,s)}(await Sb(e),e.asyncQueue,t,n,r))),r.promise}function Ab(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new hb({next:n=>{t.enqueueAndForget((()=>fy(e,s))),n.fromCache&&"server"===r.source?i.reject(new zl(Vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new by(n,o,{includeMetadataChanges:!0,ra:!0});return hy(e,s)}(await Sb(e),e.asyncQueue,t,n,r))),r.promise}function Nb(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?np().encode(e):e,function(e,t){return new fb(e,t)}(function(e,t){if(e instanceof Uint8Array)return db(e,t);if(e instanceof ArrayBuffer)return db(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ev(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=jl(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=jl(e),r=Ip(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ty(r));const i=new Ey(r,e.localStore,t.serializer);let o=await t.qa();for(;o;){const e=await i._a(o);e&&n._updateProgress(e),o=await t.qa()}const s=await i.complete();return await Qy(e,s.ca,void 0),await function(e,t){const n=jl(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ua)}catch(e){return Ll("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Ib(e),i,r)}))}function Pb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Rb=new Map;function Ob(e,t,n){if(!n)throw new zl(Vl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Db(e,t,n,r){if(!0===t&&!0===r)throw new zl(Vl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Lb(e){if(!cu.isDocumentKey(e))throw new zl(Vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mb(e){if(cu.isDocumentKey(e))throw new zl(Vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Fl()}function Ub(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zl(Vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fb(e);throw new zl(Vl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jb(e,t){if(t<=0)throw new zl(Vl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Vb{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new zl(Vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zl(Vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Db("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new zl(Vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new zl(Vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new zl(Vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zl(Vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zl(Vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kl;switch(e.type){case"firstParty":return new Ql(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zl(Vl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rb.get(e);t&&(Ol("ComponentProvider","Removing Datastore"),Rb.delete(e),t.terminate())}(this),Promise.resolve()}}function Bb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Ub(e,zb))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Al.MOCK_USER;else{t=Kt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new zl(Vl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Al(o)}e._authCredentials=new Hl(new ql(t,n))}}class qb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qb(this.firestore,e,this._query)}}class Kb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kb(this.firestore,e,this._key)}}class Hb extends qb{constructor(e,t,n){super(e,t,jh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kb(this.firestore,null,new cu(e))}withConverter(e){return new Hb(this.firestore,e,this._path)}}function Gb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hn(e),Ob("collection","path",t),e instanceof zb){const n=ou.fromString(t,...r);return Mb(n),new Hb(e,null,n)}{if(!(e instanceof Kb||e instanceof Hb))throw new zl(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ou.fromString(t,...r));return Mb(n),new Hb(e.firestore,null,n)}}function Wb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hn(e),1===arguments.length&&(t=$l.newId()),Ob("doc","path",t),e instanceof zb){const n=ou.fromString(t,...r);return Lb(n),new Kb(e,null,new cu(n))}{if(!(e instanceof Kb||e instanceof Hb))throw new zl(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ou.fromString(t,...r));return Lb(n),new Kb(e.firestore,e instanceof Hb?e.converter:null,new cu(n))}}function Qb(e,t){return e=hn(e),t=hn(t),(e instanceof Kb||e instanceof Hb)&&(t instanceof Kb||t instanceof Hb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yb(e,t){return e=hn(e),t=hn(t),e instanceof qb&&t instanceof qb&&e.firestore===t.firestore&&Wh(e._query,t._query)&&e.converter===t.converter}class Jb{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Tv(this,"async_queue_retry"),this.hu=()=>{const e=_v();e&&Ol("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=_v();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=_v();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Bl;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(_N){if(!Su(_N))throw _N;Ol("AsyncQueue","Operation failed with retryable error: "+_N)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dl("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=oy.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Fl()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Xb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class $b{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zb extends zb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Jb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tw(this),this._firestoreClient.terminate()}}function ew(e){return e._firestoreClient||tw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tw(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Od(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Pb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gb(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function nw(e,t,n){const r=new Bl;return e.asyncQueue.enqueue((async()=>{try{await vb(e,n),await yb(e,t),r.resolve()}catch(e){const n=e;if(!bb(n))throw n;Ll("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function rw(e){return function(e){const t=new Bl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=jl(e);Uv(n.remoteStore)||Ol("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=jl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=sy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Ib(e),t))),t.promise}(ew(e=Ub(e,Zb)))}function iw(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Eb(e),n=await kb(e);return t.setNetworkEnabled(!0),function(e){const t=jl(e);return t.M_.delete(0),Nv(t)}(n)}))}(ew(e=Ub(e,Zb)))}function ow(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Eb(e),n=await kb(e);return t.setNetworkEnabled(!1),async function(e){const t=jl(e);t.M_.add(0),await Pv(t),t.N_.set("Offline")}(n)}))}(ew(e=Ub(e,Zb)))}function sw(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=jl(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await Tb(e),t)))}(ew(e=Ub(e,Zb)),t).then((t=>t?new qb(e,null,t.query):null))}function aw(e){if(e._initialized||e._terminated)throw new zl(Vl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cw(Id.fromBase64String(e))}catch(e){throw new zl(Vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cw(Id.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new zl(Vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new au(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uw{constructor(e){this._methodName=e}}class dw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zl(Vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zl(Vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zl(this._lat,e._lat)||Zl(this._long,e._long)}}const hw=/^__.*__$/;class fw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class pw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fl()}}class gw{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new gw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Mw(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(mw(this.fu)&&hw.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class vw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ev(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gw({fu:e,methodName:t,vu:n,path:au.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yw(e){const t=e._freezeSettings(),n=Ev(e._databaseId);return new vw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bw(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);Rw("Data must be an object, but it was:",s,r);const a=Nw(r,s);let c,l;if(o.merge)c=new Td(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ow(t,r,n);if(!s.contains(i))throw new zl(Vl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Fw(e,i)||e.push(i)}c=new Td(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new fw(new nh(a),c,l)}class ww extends uw{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ww}}function _w(e,t,n){return new gw({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ew extends uw{_toFieldTransform(e){return new Nf(e.path,new Ef)}isEqual(e){return e instanceof Ew}}class Tw extends uw{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=_w(this,e,!0),n=this.Mu.map((e=>Aw(e,t))),r=new Tf(n);return new Nf(e.path,r)}isEqual(e){return e instanceof Tw&&rn(this.Mu,e.Mu)}}class kw extends uw{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=_w(this,e,!0),n=this.Mu.map((e=>Aw(e,t))),r=new If(n);return new Nf(e.path,r)}isEqual(e){return e instanceof kw&&rn(this.Mu,e.Mu)}}class Iw extends uw{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Sf(e.serializer,vf(e.serializer,this.xu));return new Nf(e.path,t)}isEqual(e){return e instanceof Iw&&this.xu===e.xu}}function xw(e,t,n,r){const i=e.Fu(1,t,n);Rw("Data must be an object, but it was:",i,r);const o=[],s=nh.empty();md(r,((e,r)=>{const a=Lw(t,e,n);r=hn(r);const c=i.Su(a);if(r instanceof ww)o.push(a);else{const e=Aw(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Td(o);return new pw(s,a,i.fieldTransforms)}function Sw(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[Ow(t,r,n)],c=[i];if(o.length%2!=0)throw new zl(Vl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(Ow(t,o[h])),c.push(o[h+1]);const l=[],u=nh.empty();for(let h=a.length-1;h>=0;--h)if(!Fw(l,a[h])){const e=a[h];let t=c[h];t=hn(t);const n=s.Su(e);if(t instanceof ww)l.push(e);else{const r=Aw(t,n);null!=r&&(l.push(e),u.set(e,r))}}const d=new Td(l);return new pw(u,d,s.fieldTransforms)}function Cw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Aw(n,e.Fu(r?4:3,t))}function Aw(e,t){if(Pw(e=hn(e)))return Rw("Unsupported field value:",t,e),Nw(e,t);if(e instanceof uw)return function(e,t){if(!mw(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Aw(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=hn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=nu.fromDate(e);return{timestampValue:Ep(t.serializer,n)}}if(e instanceof nu){const n=new nu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ep(t.serializer,n)}}if(e instanceof dw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cw)return{bytesValue:Tp(t.serializer,e._byteString)};if(e instanceof Kb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:xp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(Fb(e)))}(e,t)}function Nw(e,t){const n={};return gd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):md(e,((e,r)=>{const i=Aw(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nu||e instanceof dw||e instanceof cw||e instanceof Kb||e instanceof uw)}function Rw(e,t,n){if(!Pw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Fb(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Ow(e,t,n){if((t=hn(t))instanceof lw)return t._internalPath;if("string"==typeof t)return Lw(e,t);throw Mw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dw=new RegExp("[~\\*/\\[\\]]");function Lw(e,t,n){if(t.search(Dw)>=0)throw Mw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new lw(...t.split("."))._internalPath}catch(r){throw Mw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mw(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new zl(Vl.INVALID_ARGUMENT,a+e+c)}function Fw(e,t){return e.some((e=>e.isEqual(t)))}class Uw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jw extends Uw{data(){return super.data()}}function Vw(e,t){return"string"==typeof t?Lw(e,t):t instanceof lw?t._internalPath:t._delegate._internalPath}function zw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zl(Vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bw{}class qw extends Bw{}function Kw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Bw&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Gw)).length,n=e.filter((e=>e instanceof Hw)).length;if(t>1||t>0&&n>0)throw new zl(Vl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Hw extends qw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hw(e,t,n)}_apply(e){const t=this._parse(e);return e_(e._query,t),new qb(e.firestore,e.converter,Hh(e._query,t))}_parse(e){const t=yw(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new zl(Vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Zw(s,o);const t=[];for(const n of s)t.push($w(r,e,n));a={arrayValue:{values:t}}}else a=$w(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zw(s,o),a=Cw(n,t,s,"in"===o||"not-in"===o);return dh.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Gw extends Bw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:hh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)e_(n,i),n=Hh(n,i)}(e._query,t),new qb(e.firestore,e.converter,Hh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ww extends qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ww(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ch(t,n)}(e._query,this._field,this._direction);return new qb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Fh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Qw extends qw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Qw(e,t,n)}_apply(e){return new qb(e.firestore,e.converter,Gh(e._query,this._limit,this._limitType))}}class Yw extends qw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Yw(e,t,n)}_apply(e){const t=Xw(e,this.type,this._docOrFields,this._inclusive);return new qb(e.firestore,e.converter,function(e,t){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Jw extends qw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Jw(e,t,n)}_apply(e){const t=Xw(e,this.type,this._docOrFields,this._inclusive);return new qb(e.firestore,e.converter,function(e,t){return new Fh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Xw(e,t,n,r){if(n[0]=hn(n[0]),n[0]instanceof Uw)return function(e,t,n,r,i){if(!r)throw new zl(Vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Bh(e))if(s.field.isKeyField())o.push(Kd(t,r.key));else{const e=r.data.field(s.field);if(Nd(e))throw new zl(Vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new oh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=yw(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new zl(Vl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!zh(e)&&-1!==o.indexOf("/"))throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(ou.fromString(o));if(!cu.isDocumentKey(n))throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new cu(n);a.push(Kd(t,i))}else{const e=Cw(n,r,o);a.push(e)}}return new oh(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function $w(e,t,n){if("string"==typeof(n=hn(n))){if(""===n)throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zh(t)&&-1!==n.indexOf("/"))throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ou.fromString(n));if(!cu.isDocumentKey(r))throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kd(e,new cu(r))}if(n instanceof Kb)return Kd(e,n._key);throw new zl(Vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Fb(n),"."))}function Zw(e,t){if(!Array.isArray(e)||0===e.length)throw new zl(Vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function e_(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new zl(Vl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zl(Vl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class t_{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ad(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return md(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new dw(Cd(e.latitude),Cd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const t=Sd(e);return new nu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ou.fromString(e);Ul(Jp(n));const r=new Dd(n.get(1),n.get(3)),i=new cu(n.popFirst(5));return r.isEqual(t)||Dl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function n_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class r_ extends t_{constructor(e){super(),this.firestore=e}convertBytes(e){return new cw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kb(this.firestore,null,t)}}class i_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o_ extends Uw{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new s_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class s_ extends o_{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class a_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new i_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new s_(this._firestore,this._userDataWriter,n.key,n,new i_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zl(Vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new s_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new i_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new s_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new i_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:c_(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function c_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fl()}}function l_(e,t){return e instanceof o_&&t instanceof o_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof a_&&t instanceof a_&&e._firestore===t._firestore&&Yb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class u_ extends t_{constructor(e){super(),this.firestore=e}convertBytes(e){return new cw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kb(this.firestore,null,t)}}function d_(e){e=Ub(e,Kb);const t=Ub(e.firestore,Zb),n=ew(t),r=new u_(t);return function(e,t){const n=new Bl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=jl(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new zl(Vl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=sy(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Tb(e),t,n))),n.promise}(n,e._key).then((n=>new o_(t,r,e._key,n,new i_(null!==n&&n.hasLocalMutations,!0),e.converter)))}function h_(e){e=Ub(e,qb);const t=Ub(e.firestore,Zb),n=ew(t),r=new u_(t);return function(e,t){const n=new Bl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Xg(e,t,!0),i=new xy(t,r.hs),o=i.da(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=sy(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Tb(e),t,n))),n.promise}(n,e._query).then((n=>new a_(t,r,e,n)))}function f_(e,t,n){e=Ub(e,Kb);const r=Ub(e.firestore,Zb),i=n_(e.converter,t,n);return v_(r,[bw(yw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rf.none())])}function p_(e,t,n){e=Ub(e,Kb);const r=Ub(e.firestore,Zb),i=yw(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=hn(t))||t instanceof lw?Sw(i,"updateDoc",e._key,t,n,a):xw(i,"updateDoc",e._key,t),v_(r,[o.toMutation(e._key,Rf.exists(!0))])}function m_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=hn(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Xb(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Xb(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Kb)d=Ub(e.firestore,Zb),h=jh(e._key.path),u={next:t=>{n[c]&&n[c](y_(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Ub(e,qb);d=Ub(t.firestore,Zb),h=t._query;const r=new u_(d);u={next:e=>{n[c]&&n[c](new a_(d,r,t,e))},error:n[c+1],complete:n[c+2]},zw(e._query)}return function(e,t,n,r){const i=new hb(r),o=new by(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>hy(await Sb(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>fy(await Sb(e),o)))}}(ew(d),h,l,u)}function g_(e,t){return function(e,t){const n=new hb(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){jl(e).z_.add(t),t.next()}(await Sb(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){jl(e).z_.delete(t)}(await Sb(e),n)))}}(ew(e=Ub(e,Zb)),Xb(t)?t:{next:t})}function v_(e,t){return function(e,t){const n=new Bl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=sb(e);try{const e=await function(e,t){const n=jl(e),r=nu.now(),i=t.reduce(((e,t)=>e.add(t.key)),hf());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=nf(),c=hf();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Uf(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new zf(e.key,t,rh(t.value.mapValue),Rf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:sf(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new vd(Zl)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Qy(r,e.changes),await Gv(r.remoteStore)}catch(e){const t=sy(e,"Failed to persist write");n.reject(t)}}(await Ib(e),t,n))),n.promise}(ew(e),t)}function y_(e,t,n){const r=n.docs.get(t._key),i=new u_(e);return new o_(e,i,t._key,r,new i_(n.hasPendingWrites,n.fromCache),t.converter)}const b_={maxAttempts:5};class w_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yw(e)}set(e,t,n){this._verifyNotCommitted();const r=__(e,this._firestore),i=n_(r.converter,t,n),o=bw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Rf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=__(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=hn(t))||t instanceof lw?Sw(this._dataReader,"WriteBatch.update",r._key,t,n,s):xw(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Rf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=__(e,this._firestore);return this._mutations=this._mutations.concat(new Hf(t._key,Rf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zl(Vl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __(e,t){if((e=hn(e)).firestore!==t)throw new zl(Vl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class E_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yw(e)}get(e){const t=__(e,this._firestore),n=new r_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Fl();const r=e[0];if(r.isFoundDocument())return new Uw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Uw(this._firestore,n,t._key,null,t.converter);throw Fl()}))}set(e,t,n){const r=__(e,this._firestore),i=n_(r.converter,t,n),o=bw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=__(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=hn(t))||t instanceof lw?Sw(this._dataReader,"Transaction.update",r._key,t,n,s):xw(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=__(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=__(e,this._firestore),n=new u_(this._firestore);return super.get(e).then((e=>new o_(this._firestore,n,t._key,e._document,new i_(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nl=e}(Rr),Tr(new fn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Zb(new Gl(e.getProvider("auth-internal")),new Jl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zl(Vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ur(Cl,"4.6.3",e),Ur(Cl,"4.6.3","esm2017")}();function T_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function k_(){if("undefined"===typeof Uint8Array)throw new zl("unimplemented","Uint8Arrays are not available in this environment.")}function I_(){if("undefined"==typeof atob)throw new zl("unimplemented","Blobs are unavailable in Firestore in this environment.")}class x_{constructor(e){this._delegate=e}static fromBase64String(e){return I_(),new x_(cw.fromBase64String(e))}static fromUint8Array(e){return k_(),new x_(cw.fromUint8Array(e))}toBase64(){return I_(),this._delegate.toBase64()}toUint8Array(){return k_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function S_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class C_{enableIndexedDbPersistence(e,t){return function(e,t){aw(e=Ub(e,Zb));const n=ew(e);if(n._uninitializedComponentsProvider)throw new zl(Vl.FAILED_PRECONDITION,"SDK cache is already specified.");Ll("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ub;return nw(n,i,new cb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){aw(e=Ub(e,Zb));const t=ew(e);if(t._uninitializedComponentsProvider)throw new zl(Vl.FAILED_PRECONDITION,"SDK cache is already specified.");Ll("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new ub;return nw(t,r,new lb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new zl(Vl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Bl;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Tu.D())return Promise.resolve();const t=e+"main";await Tu.delete(t)}(jg(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class A_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ll("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bb(this._delegate,e,t,n)}enableNetwork(){return iw(this._delegate)}disableNetwork(){return ow(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Db("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rw(this._delegate)}onSnapshotsInSync(e){return g_(this._delegate,e)}get app(){if(!this._appCompat)throw new zl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new q_(this,Gb(this._delegate,e))}catch(_N){throw L_(_N,"collection()","Firestore.collection()")}}doc(e){try{return new D_(this,Wb(this._delegate,e))}catch(_N){throw L_(_N,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new V_(this,function(e,t){if(e=Ub(e,zb),Ob("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zl(Vl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qb(e,null,function(e){return new Fh(ou.emptyPath(),e)}(t))}(this._delegate,e))}catch(_N){throw L_(_N,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Ub(e,Zb);const r=Object.assign(Object.assign({},b_),n);return function(e){if(e.maxAttempts<1)throw new zl(Vl.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Bl;return e.asyncQueue.enqueueAndForget((async()=>{const i=await xb(e);new mb(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(ew(e),(n=>t(new E_(e,n))),r)}(this._delegate,(t=>e(new P_(this,t))))}batch(){return ew(this._delegate),new R_(new w_(this._delegate,(e=>v_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ew(e=Ub(e,Zb)),r=new $b;return Nb(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return sw(this._delegate,e).then((e=>e?new V_(this,e):null))}}class N_ extends t_{constructor(e){super(),this.firestore=e}convertBytes(e){return new x_(new cw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return D_.forKey(t,this.firestore,null)}}class P_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new N_(e)}get(e){const t=K_(e);return this._delegate.get(t).then((e=>new U_(this._firestore,new o_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=K_(e);return n?(T_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=K_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=K_(e);return this._delegate.delete(t),this}}class R_{constructor(e){this._delegate=e}set(e,t,n){const r=K_(e);return n?(T_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=K_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=K_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class O_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new s_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new j_(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=O_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new O_(e,new N_(e),t),r.set(t,i)),i}}O_.INSTANCES=new WeakMap;class D_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new N_(e)}static forPath(e,t,n){if(e.length%2!==0)throw new zl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new D_(t,new Kb(t._delegate,n,new cu(e)))}static forKey(e,t,n){return new D_(t,new Kb(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new q_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new q_(this.firestore,Gb(this._delegate,e))}catch(_N){throw L_(_N,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=hn(e))instanceof Kb&&Qb(this._delegate,e)}set(e,t){t=T_("DocumentReference.set",t);try{return t?f_(this._delegate,e,t):f_(this._delegate,e)}catch(_N){throw L_(_N,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?p_(this._delegate,e):p_(this._delegate,e,t,...r)}catch(_N){throw L_(_N,"updateDoc()","DocumentReference.update()")}}delete(){return v_(Ub((e=this._delegate).firestore,Zb),[new Hf(e._key,Rf.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=M_(t),i=F_(t,(e=>new U_(this.firestore,new o_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return m_(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?d_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ub(e,Kb);const t=Ub(e.firestore,Zb);return Cb(ew(t),e._key,{source:"server"}).then((n=>y_(t,e,n)))}(this._delegate):function(e){e=Ub(e,Kb);const t=Ub(e.firestore,Zb);return Cb(ew(t),e._key).then((n=>y_(t,e,n)))}(this._delegate),t.then((e=>new U_(this.firestore,new o_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new D_(this.firestore,e?this._delegate.withConverter(O_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function L_(e,t,n){return e.message=e.message.replace(t,n),e}function M_(e){for(const t of e)if("object"===typeof t&&!S_(t))return t;return{}}function F_(e,t){var n,r;let i;return i=S_(e[0])?e[0]:S_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class U_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new D_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return l_(this._delegate,e._delegate)}}class j_ extends U_{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Fl(),t}}class V_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new N_(e)}where(e,t,n){try{return new V_(this.firestore,Kw(this._delegate,function(e,t,n){const r=t,i=Vw("where",e);return Hw._create(i,r,n)}(e,t,n)))}catch(_N){throw L_(_N,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new V_(this.firestore,Kw(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Vw("orderBy",e);return Ww._create(n,t)}(e,t)))}catch(_N){throw L_(_N,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new V_(this.firestore,Kw(this._delegate,(jb("limit",t=e),Qw._create("limit",t,"F"))))}catch(t){throw L_(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new V_(this.firestore,Kw(this._delegate,(jb("limitToLast",t=e),Qw._create("limitToLast",t,"L"))))}catch(t){throw L_(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new V_(this.firestore,Kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yw._create("startAt",t,!0)}(...arguments)))}catch(_N){throw L_(_N,"startAt()","Query.startAt()")}}startAfter(){try{return new V_(this.firestore,Kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yw._create("startAfter",t,!1)}(...arguments)))}catch(_N){throw L_(_N,"startAfter()","Query.startAfter()")}}endBefore(){try{return new V_(this.firestore,Kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jw._create("endBefore",t,!1)}(...arguments)))}catch(_N){throw L_(_N,"endBefore()","Query.endBefore()")}}endAt(){try{return new V_(this.firestore,Kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jw._create("endAt",t,!0)}(...arguments)))}catch(_N){throw L_(_N,"endAt()","Query.endAt()")}}isEqual(e){return Yb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?h_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ub(e,qb);const t=Ub(e.firestore,Zb),n=ew(t),r=new u_(t);return Ab(n,e._query,{source:"server"}).then((n=>new a_(t,r,e,n)))}(this._delegate):function(e){e=Ub(e,qb);const t=Ub(e.firestore,Zb),n=ew(t),r=new u_(t);return zw(e._query),Ab(n,e._query).then((n=>new a_(t,r,e,n)))}(this._delegate),t.then((e=>new B_(this.firestore,new a_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=M_(t),i=F_(t,(e=>new B_(this.firestore,new a_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return m_(this._delegate,r,i)}withConverter(e){return new V_(this.firestore,e?this._delegate.withConverter(O_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class z_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new j_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new V_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new j_(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new z_(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new j_(this._firestore,n))}))}isEqual(e){return l_(this._delegate,e._delegate)}}class q_ extends V_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new D_(this.firestore,e):null}doc(e){try{return new D_(this.firestore,void 0===e?Wb(this._delegate):Wb(this._delegate,e))}catch(_N){throw L_(_N,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Ub(e.firestore,Zb),r=Wb(e),i=n_(e.converter,t);return v_(n,[bw(yw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rf.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new D_(this.firestore,e)))}isEqual(e){return Qb(this._delegate,e._delegate)}withConverter(e){return new q_(this.firestore,e?this._delegate.withConverter(O_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function K_(e){return Ub(e,Kb)}class H_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new lw(...t)}static documentId(){return new H_(au.keyField().canonicalString())}isEqual(e){return(e=hn(e))instanceof lw&&this._delegate._internalPath.isEqual(e._internalPath)}}class G_{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ew("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new G_(e)}static delete(){const e=new ww("deleteField");return e._methodName="FieldValue.delete",new G_(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tw("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new G_(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kw("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new G_(e)}static increment(e){const t=new Iw("increment",e);return t._methodName="FieldValue.increment",new G_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const W_={Firestore:A_,GeoPoint:dw,Timestamp:nu,Blob:x_,Transaction:P_,WriteBatch:R_,DocumentReference:D_,DocumentSnapshot:U_,Query:V_,QueryDocumentSnapshot:j_,QuerySnapshot:B_,CollectionReference:q_,FieldPath:H_,FieldValue:G_,setLogLevel:function(e){var t;t=e,Pl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},W_)))}(e,((e,t)=>new A_(e,t,new C_))),e.registerVersion("@firebase/firestore-compat","0.3.32")}(ri);const Q_="firebasestorage.googleapis.com",Y_="storageBucket";class J_ extends Zt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Z_(e),"Firebase Storage: ".concat(t," (").concat(Z_(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J_.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Z_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var X_,$_;function Z_(e){return"storage/"+e}function eE(){return new J_(X_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tE(){return new J_(X_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nE(){return new J_(X_.CANCELED,"User canceled the upload/download.")}function rE(){return new J_(X_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iE(e){return new J_(X_.INVALID_ARGUMENT,e)}function oE(){return new J_(X_.APP_DELETED,"The Firebase app was deleted.")}function sE(e){return new J_(X_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aE(e,t){return new J_(X_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function cE(e){throw new J_(X_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(X_||(X_={}));class lE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lE.makeFromUrl(e,t)}catch(_N){return new lE(e,"")}if(""===n.path)return n;throw r=e,new J_(X_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Q_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new lE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new J_(X_.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class uE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function dE(e){return"string"===typeof e||e instanceof String}function hE(e){return fE()&&e instanceof Blob}function fE(){return"undefined"!==typeof Blob}function pE(e,t,n,r){if(r<t)throw iE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw iE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mE(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function gE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function vE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($_||($_={}));class yE{constructor(e,t,n,r,i,o,s,a,c,l,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new bE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===$_.NO_ERROR,i=n.getStatus();if(!t||vE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===$_.ABORT;return void e(!1,new bE(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new bE(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(_N){r(_N)}else if(null!==i){const e=eE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?oE():nE())}else{r(tE())}};this.canceled_?t(0,new bE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(l)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(c()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),l||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function wE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _E(){const e=wE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(fE())return new Blob(n);throw new J_(X_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function EE(e){if("undefined"===typeof atob)throw t="base-64",new J_(X_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const TE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kE{constructor(e,t){this.data=e,this.contentType=t||null}}function IE(e,t){switch(e){case TE.RAW:return new kE(xE(t));case TE.BASE64:case TE.BASE64URL:return new kE(SE(e,t));case TE.DATA_URL:return new kE(function(e){const t=new CE(e);return t.base64?SE(TE.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(_N){throw aE(TE.DATA_URL,"Malformed data URL.")}return xE(t)}(t.rest)}(t),new CE(t).contentType)}throw eE()}function xE(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function SE(e,t){switch(e){case TE.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw aE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case TE.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw aE(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EE(t)}catch(_N){if(_N.message.includes("polyfill"))throw _N;throw aE(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw aE(TE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class AE{constructor(e,t){let n=0,r="";hE(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(hE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new AE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new AE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(fE()){const e=t.map((e=>e instanceof AE?e.data_:e));return new AE(_E.apply(null,e))}{const e=t.map((e=>dE(e)?IE(TE.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new AE(r,!0)}}uploadData(){return this.data_}}function NE(e){let t;try{t=JSON.parse(e)}catch(_N){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function PE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function RE(e,t){return t}class OE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||RE}}let DE=null;function LE(){if(DE)return DE;const e=[];e.push(new OE("bucket")),e.push(new OE("generation")),e.push(new OE("metageneration")),e.push(new OE("name","fullPath",!0));const t=new OE("name");t.xform=function(e,t){return function(e){return!dE(e)||e.length<2?e:PE(e)}(t)},e.push(t);const n=new OE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new OE("timeCreated")),e.push(new OE("updated")),e.push(new OE("md5Hash",null,!0)),e.push(new OE("cacheControl",null,!0)),e.push(new OE("contentDisposition",null,!0)),e.push(new OE("contentEncoding",null,!0)),e.push(new OE("contentLanguage",null,!0)),e.push(new OE("contentType",null,!0)),e.push(new OE("metadata","customMetadata",!0)),DE=e,DE}function ME(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new lE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function FE(e,t,n){const r=NE(t);if(null===r)return null;return ME(e,r,n)}function UE(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const jE="prefixes",VE="items";function zE(e,t,n){const r=NE(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[jE])for(const i of n[jE]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new lE(t,n));r.prefixes.push(o)}if(n[VE])for(const i of n[VE]){const n=e._makeStorageReference(new lE(t,i.name));r.items.push(n)}return r}(e,t,r)}class BE{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qE(e){if(!e)throw eE()}function KE(e,t){return function(n,r){const i=FE(e,r,t);return qE(null!==i),i}}function HE(e,t){return function(n,r){const i=FE(e,r,t);return qE(null!==i),function(e,t,n,r){const i=NE(t);if(null===i)return null;if(!dE(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return mE("/b/"+s(i)+"/o/"+s(o),n,r)+gE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function GE(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new J_(X_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new J_(X_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new J_(X_.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new J_(X_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function WE(e){const t=GE(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new J_(X_.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function QE(e,t,n){const r=mE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new BE(r,"GET",KE(e,n),i);return o.errorHandler=WE(t),o}function YE(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=mE(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new BE(s,"GET",function(e,t){return function(n,r){const i=zE(e,t,r);return qE(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=GE(t),c}function JE(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function XE(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=JE(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+UE(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=AE.getBlob(l,r,u);if(null===d)throw rE();const h={name:c.fullPath},f=mE(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new BE(f,"POST",KE(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=GE(t),m}class $E{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function ZE(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(_N){qE(!1)}return qE(!!n&&-1!==(t||["active"]).indexOf(n)),n}const eT=262144;function tT(e,t,n,r,i,o,s,a){const c=new $E(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new J_(X_.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const d=c.current,h=d+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(d,h);if(null===m)throw rE();const g=t.maxUploadRetryTime,v=new BE(n,"POST",(function(e,n){const i=ZE(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?KE(t,o)(e,n):null,new $E(s,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=GE(e),v}const nT={STATE_CHANGED:"state_changed"},rT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iT(e){switch(e){case"running":case"pausing":case"canceling":return rT.RUNNING;case"paused":return rT.PAUSED;case"success":return rT.SUCCESS;case"canceled":return rT.CANCELED;default:return rT.ERROR}}class oT{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function sT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let aT=null;class cT{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$_.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=$_.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=$_.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw cE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(_N){return-1}}getResponse(){if(!this.sent_)throw cE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class lT extends cT{initXhr(){this.xhr_.responseType="text"}}function uT(){return aT?aT():new lT}class dT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=LE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(X_.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(vE(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=tE()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(X_.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=JE(t,r,i),a={name:s.fullPath},c=mE(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=UE(s,n),d=e.maxUploadRetryTime,h=new BE(c,"POST",(function(e){let t;ZE(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(_N){qE(!1)}return qE(dE(t)),t}),d);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=GE(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,uT,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new BE(n,"POST",(function(e){const t=ZE(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(_N){qE(!1)}n||qE(!1);const i=Number(n);return qE(!isNaN(i)),new $E(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=GE(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,uT,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=eT*this._chunkMultiplier,t=new $E(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=tT(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_N){return this._error=_N,void this._transition("error")}const s=this._ref.storage._makeRequest(o,uT,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(eT*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=QE(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,uT,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=XE(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,uT,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nE(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=iT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new oT(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(iT(this._state)){case rT.SUCCESS:sT(this._resolve.bind(null,this.snapshot))();break;case rT.CANCELED:case rT.ERROR:sT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(iT(this._state)){case rT.RUNNING:case rT.PAUSED:e.next&&sT(e.next.bind(e,this.snapshot))();break;case rT.SUCCESS:e.complete&&sT(e.complete.bind(e))();break;default:e.error&&sT(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hT{constructor(e,t){this._service=e,this._location=t instanceof lE?t:lE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hT(e,t)}get root(){const e=new lE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new lE(this._location.bucket,e);return new hT(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw sE(e)}}function fT(e){const t={prefixes:[],items:[]};return pT(e,t).then((()=>t))}async function pT(e,t,n){const r={pageToken:n},i=await mT(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await pT(e,t,i.nextPageToken)}function mT(e,t){null!=t&&"number"===typeof t.maxResults&&pE("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=YE(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,uT)}function gT(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=mE(t.fullServerUrl(),e.host,e._protocol),o=UE(n,r),s=e.maxOperationRetryTime,a=new BE(i,"PATCH",KE(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=WE(t),a}(e.storage,e._location,t,LE());return e.storage.makeRequestWithTokens(n,uT)}function vT(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=mE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new BE(r,"GET",HE(e,n),i);return o.errorHandler=WE(t),o}(e.storage,e._location,LE());return e.storage.makeRequestWithTokens(t,uT).then((e=>{if(null===e)throw new J_(X_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function yT(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=mE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new BE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=WE(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,uT)}function bT(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new lE(e._location.bucket,n);return new hT(e.storage,r)}function wT(e,t){if(e instanceof TT){const n=e;if(null==n._bucket)throw new J_(X_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Y_+"' property when initializing the app?");const r=new hT(n,n._bucket);return null!=t?wT(r,t):r}return void 0!==t?bT(e,t):e}function _T(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof TT)return new hT(e,t);throw iE("To use ref(service, url), the first argument must be a Storage instance.")}return wT(e,t)}function ET(e,t){const n=null===t||void 0===t?void 0:t[Y_];return null==n?null:lE.makeFromBucketSpec(n,e)}class TT{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Q_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lE.makeFromBucketSpec(r,this._host):ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=lE.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hT(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new uE(oE());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=gE(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new yE(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const kT="@firebase/storage",IT="0.12.5",xT="storage";function ST(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new dT(e,new AE(t),n)}(e=hn(e),t,n)}function CT(e){return function(e){e._throwIfRoot("getMetadata");const t=QE(e.storage,e._location,LE());return e.storage.makeRequestWithTokens(t,uT)}(e=hn(e))}function AT(e,t){return _T(e=hn(e),t)}function NT(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Kt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function PT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new TT(r,i,o,n,Rr)}Tr(new fn(xT,PT,"PUBLIC").setMultipleInstances(!0)),Ur(kT,IT,""),Ur(kT,IT,"esm2017");class RT{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class OT{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new RT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new RT(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new RT(e,this,this._ref)):{next:t.next?e=>t.next(new RT(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class DT{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new LT(e,this._service)))}get items(){return this._delegate.items.map((e=>new LT(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class LT{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return bT(e,t)}(this._delegate,e);return new LT(t,this.storage)}get root(){return new LT(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new LT(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new OT(ST(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=IE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new OT(new dT(this._delegate,new AE(r.data,!0),i),this)}listAll(){return function(e){return fT(e=hn(e))}(this._delegate).then((e=>new DT(e,this.storage)))}list(e){return function(e,t){return mT(e=hn(e),t)}(this._delegate,e||void 0).then((e=>new DT(e,this.storage)))}getMetadata(){return CT(this._delegate)}updateMetadata(e){return function(e,t){return gT(e=hn(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return vT(e=hn(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return yT(e=hn(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw sE(e)}}class MT{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(FT(e))throw iE("ref() expected a child path but got a URL, use refFromURL instead.");return new LT(AT(this._delegate,e),this)}refFromURL(e){if(!FT(e))throw iE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lE.makeFromUrl(e,this._delegate.host)}catch(_N){throw iE("refFromUrl() expected a valid full URL but got an invalid one.")}return new LT(AT(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};NT(this._delegate,e,t,n)}}function FT(e){return/^[A-Za-z]+:\/\//.test(e)}function UT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new MT(r,i)}!function(e){const t={TaskState:rT,TaskEvent:nT,StringFormat:TE,Storage:MT,Reference:LT};e.INTERNAL.registerComponent(new fn("storage-compat",UT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.8")}(ri);const jT=ri.initializeApp({apiKey:"AIzaSyByBlhcJjCyvmaoth1K2-m9xU-6W75iKos",authDomain:"drop-drive-development.firebaseapp.com",databaseURL:{NODE_ENV:"production",PUBLIC_URL:"/drop-drive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyByBlhcJjCyvmaoth1K2-m9xU-6W75iKos",REACT_APP_FIREBASE_AUTH_DOMAIN:"drop-drive-development.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"drop-drive-development",REACT_APP_FIREBASE_STORAGE_BUCKET:"drop-drive-development.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"649883189718",REACT_APP_FIREBASE_APP_ID:"1:649883189718:web:4939b607a0739b49c5a477"}.REACT_APP_FIREBASE_DATABASE_URL,projectId:"drop-drive-development",storageBucket:"drop-drive-development.appspot.com",messagingSenderId:"649883189718",appId:"1:649883189718:web:4939b607a0739b49c5a477"}),VT=jT.firestore(),zT={folders:VT.collection("folders"),files:VT.collection("files"),formatDoc:e=>({id:e.id,...e.data()}),getCurrentTimestamp:ri.firestore.FieldValue.serverTimestamp},BT=jT.storage(),qT=jT.auth();var KT=n(579);const HT=t.createContext();function GT(){return(0,t.useContext)(HT)}function WT(e){let{children:n}=e;const[r,i]=(0,t.useState)(),[o,s]=(0,t.useState)(!0);(0,t.useEffect)((()=>qT.onAuthStateChanged((e=>{i(e),s(!1)}))),[]);const a={currentUser:r,login:function(e,t){return qT.signInWithEmailAndPassword(e,t)},signup:function(e,t){return qT.createUserWithEmailAndPassword(e,t)},logout:function(){return qT.signOut()},resetPassword:function(e){return qT.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return(0,KT.jsx)(HT.Provider,{value:a,children:!o&&n})}var QT=n(688),YT=n(321),JT=n(404),XT=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,YT.createBrowserHistory)(t.props),t}return(0,z.A)(n,e),n.prototype.render=function(){return t.createElement(QT.Router,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var $T=function(e,t){return"function"===typeof e?e(t):e},ZT=function(e,t){return"string"===typeof e?(0,YT.createLocation)(e,null,null,t):e},ek=function(e){return e},tk=t.forwardRef;"undefined"===typeof tk&&(tk=ek);var nk=tk((function(e,n){var r=e.innerRef,s=e.navigate,a=e.onClick,c=(0,o.A)(e,["innerRef","navigate","onClick"]),l=c.target,u=(0,i.A)({},c,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),s())}});return u.ref=ek!==tk&&n||r,t.createElement("a",u)}));var rk=tk((function(e,n){var r=e.component,s=void 0===r?nk:r,a=e.replace,c=e.to,l=e.innerRef,u=(0,o.A)(e,["component","replace","to","innerRef"]);return t.createElement(QT.__RouterContext.Consumer,null,(function(e){e||(0,JT.A)(!1);var r=e.history,o=ZT($T(c,e.location),e.location),d=o?r.createHref(o):"",h=(0,i.A)({},u,{href:d,navigate:function(){var t=$T(c,e.location),n=(0,YT.createPath)(e.location)===(0,YT.createPath)(ZT(t));(a||n?r.replace:r.push)(t)}});return ek!==tk?h.ref=n||l:h.innerRef=l,t.createElement(s,h)}))})),ik=function(e){return e},ok=t.forwardRef;"undefined"===typeof ok&&(ok=ik);ok((function(e,n){var r=e["aria-current"],s=void 0===r?"page":r,a=e.activeClassName,c=void 0===a?"active":a,l=e.activeStyle,u=e.className,d=e.exact,h=e.isActive,f=e.location,p=e.sensitive,m=e.strict,g=e.style,v=e.to,y=e.innerRef,b=(0,o.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(QT.__RouterContext.Consumer,null,(function(e){e||(0,JT.A)(!1);var r=f||e.location,o=ZT($T(v,r),r),a=o.pathname,w=a&&a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?(0,QT.matchPath)(r.pathname,{path:w,exact:d,sensitive:p,strict:m}):null,E=!!(h?h(_,r):_),T="function"===typeof u?u(E):u,k="function"===typeof g?g(E):g;E&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,c),k=(0,i.A)({},k,l));var I=(0,i.A)({"aria-current":E&&s||null,className:T,style:k,to:o},b);return ik!==ok?I.ref=n||y:I.innerRef=y,t.createElement(rk,I)}))}));var sk=["bsPrefix","fluid","as","className"],ak=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.fluid,c=e.as,u=void 0===c?"div":c,d=e.className,h=(0,o.A)(e,sk),f=l(r,"container"),p="string"===typeof s?"-"+s:"-fluid";return t.createElement(u,(0,i.A)({ref:n},h,{className:a()(d,s?""+f+p:f)}))}));ak.displayName="Container",ak.defaultProps={fluid:!1};const ck=ak;function lk(e){let{children:t}=e;return(0,KT.jsx)(ck,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,KT.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:t})})}function uk(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{signup:i}=GT(),[o,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(!1),l=(0,QT.useHistory)();return(0,KT.jsxs)(lk,{children:[(0,KT.jsx)(R,{children:(0,KT.jsxs)(R.Body,{children:[(0,KT.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&(0,KT.jsx)(je,{variant:"danger",children:o}),(0,KT.jsxs)(Nt,{onSubmit:async function(t){if(t.preventDefault(),n.current.value!==r.current.value)return s("Passwords do not match");try{s(""),c(!0),await i(e.current.value,n.current.value),l.push("/")}catch{s("Failed to create an account")}c(!1)},children:[(0,KT.jsxs)(Nt.Group,{id:"email",children:[(0,KT.jsx)(Nt.Label,{children:"Email"}),(0,KT.jsx)(Nt.Control,{type:"email",ref:e,required:!0})]}),(0,KT.jsxs)(Nt.Group,{id:"password",children:[(0,KT.jsx)(Nt.Label,{children:"Password"}),(0,KT.jsx)(Nt.Control,{type:"password",ref:n,required:!0})]}),(0,KT.jsxs)(Nt.Group,{id:"password-confirm",children:[(0,KT.jsx)(Nt.Label,{children:"Password Confirmation"}),(0,KT.jsx)(Nt.Control,{type:"password",ref:r,required:!0})]}),(0,KT.jsx)(Ot,{disabled:a,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),(0,KT.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,KT.jsx)(rk,{to:"/login",children:"Log In"})]})]})}function dk(){const[e,n]=(0,t.useState)(""),{currentUser:r,logout:i}=GT(),o=(0,QT.useHistory)();return(0,KT.jsxs)(lk,{children:[(0,KT.jsx)(R,{children:(0,KT.jsxs)(R.Body,{children:[(0,KT.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),e&&(0,KT.jsx)(je,{variant:"danger",children:e}),(0,KT.jsx)("strong",{children:"Email:"})," ",r.email,(0,KT.jsx)(rk,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),(0,KT.jsx)("div",{className:"w-100 text-center mt-2",children:(0,KT.jsx)(Ot,{variant:"link",onClick:async function(){n("");try{await i(),o.push("/login")}catch{n("Failed to log out")}},children:"Log Out"})})]})}function hk(){const e=(0,t.useRef)(),n=(0,t.useRef)(),{login:r}=GT(),[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),c=(0,QT.useHistory)();return(0,KT.jsxs)(lk,{children:[(0,KT.jsx)(R,{children:(0,KT.jsxs)(R.Body,{children:[(0,KT.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),i&&(0,KT.jsx)(je,{variant:"danger",children:i}),(0,KT.jsxs)(Nt,{onSubmit:async function(t){t.preventDefault();try{o(""),a(!0),await r(e.current.value,n.current.value),c.push("/")}catch{o("Failed to log in")}a(!1)},children:[(0,KT.jsxs)(Nt.Group,{id:"email",children:[(0,KT.jsx)(Nt.Label,{children:"Email"}),(0,KT.jsx)(Nt.Control,{type:"email",ref:e,required:!0})]}),(0,KT.jsxs)(Nt.Group,{id:"password",children:[(0,KT.jsx)(Nt.Label,{children:"Password"}),(0,KT.jsx)(Nt.Control,{type:"password",ref:n,required:!0})]}),(0,KT.jsx)(Ot,{disabled:s,className:"w-100",type:"submit",children:"Log In"})]}),(0,KT.jsx)("div",{className:"w-100 text-center mt-3",children:(0,KT.jsx)(rk,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,KT.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,KT.jsx)(rk,{to:"/signup",children:"Sign Up"})]})]})}function fk(e){let{component:t,...n}=e;const{currentUser:r}=GT();return(0,KT.jsx)(QT.Route,{...n,render:e=>r?(0,KT.jsx)(t,{...e}):(0,KT.jsx)(QT.Redirect,{to:"/login"})})}function pk(){const e=(0,t.useRef)(),{resetPassword:n}=GT(),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(!1);return(0,KT.jsxs)(lk,{children:[(0,KT.jsx)(R,{children:(0,KT.jsxs)(R.Body,{children:[(0,KT.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&(0,KT.jsx)(je,{variant:"danger",children:r}),o&&(0,KT.jsx)(je,{variant:"success",children:o}),(0,KT.jsxs)(Nt,{onSubmit:async function(t){t.preventDefault();try{s(""),i(""),c(!0),await n(e.current.value),s("Check your inbox for further instructions")}catch{i("Failed to reset password")}c(!1)},children:[(0,KT.jsxs)(Nt.Group,{id:"email",children:[(0,KT.jsx)(Nt.Label,{children:"Email"}),(0,KT.jsx)(Nt.Control,{type:"email",ref:e,required:!0})]}),(0,KT.jsx)(Ot,{disabled:a,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,KT.jsx)("div",{className:"w-100 text-center mt-3",children:(0,KT.jsx)(rk,{to:"/login",children:"Login"})})]})}),(0,KT.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,KT.jsx)(rk,{to:"/signup",children:"Sign Up"})]})]})}function mk(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{currentUser:i,updatePassword:o,updateEmail:s}=GT(),[a,c]=(0,t.useState)(""),[l,u]=(0,t.useState)(!1),d=(0,QT.useHistory)();return(0,KT.jsxs)(lk,{children:[(0,KT.jsx)(R,{children:(0,KT.jsxs)(R.Body,{children:[(0,KT.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),a&&(0,KT.jsx)(je,{variant:"danger",children:a}),(0,KT.jsxs)(Nt,{onSubmit:function(t){if(t.preventDefault(),n.current.value!==r.current.value)return c("Passwords do not match");const a=[];u(!0),c(""),e.current.value!==i.email&&a.push(s(e.current.value)),n.current.value&&a.push(o(n.current.value)),Promise.all(a).then((()=>{d.push("/user")})).catch((()=>{c("Failed to update account")})).finally((()=>{u(!1)}))},children:[(0,KT.jsxs)(Nt.Group,{id:"email",children:[(0,KT.jsx)(Nt.Label,{children:"Email"}),(0,KT.jsx)(Nt.Control,{type:"email",ref:e,required:!0,defaultValue:i.email})]}),(0,KT.jsxs)(Nt.Group,{id:"password",children:[(0,KT.jsx)(Nt.Label,{children:"Password"}),(0,KT.jsx)(Nt.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),(0,KT.jsxs)(Nt.Group,{id:"password-confirm",children:[(0,KT.jsx)(Nt.Label,{children:"Password Confirmation"}),(0,KT.jsx)(Nt.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),(0,KT.jsx)(Ot,{disabled:l,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,KT.jsx)("div",{className:"w-100 text-center mt-2",children:(0,KT.jsx)(rk,{to:"/user",children:"Cancel"})})]})}var gk=["bsPrefix","className","as"],vk=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.as,u=(0,o.A)(e,gk);r=l(r,"navbar-brand");var d=c||(u.href?"a":"span");return t.createElement(d,(0,i.A)({},u,{ref:n,className:a()(s,r)}))}));vk.displayName="NavbarBrand";const yk=vk;var bk,wk=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],_k={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ek(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],r=_k[e];return n+parseInt(ie(t,r[0]),10)+parseInt(ie(t,r[1]),10)}var Tk=((bk={})[H]="collapse",bk[Q]="collapsing",bk[G]="collapsing",bk[W]="collapse show",bk),kk={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Ek},Ik=t.forwardRef((function(e,n){var r=e.onEnter,s=e.onEntering,c=e.onEntered,l=e.onExit,u=e.onExiting,d=e.className,h=e.children,f=e.dimension,p=void 0===f?"height":f,m=e.getDimensionValue,g=void 0===m?Ek:m,v=(0,o.A)(e,wk),y="function"===typeof p?p():p,b=(0,t.useMemo)((function(){return Ce((function(e){e.style[y]="0"}),r)}),[y,r]),w=(0,t.useMemo)((function(){return Ce((function(e){var t="scroll"+y[0].toUpperCase()+y.slice(1);e.style[y]=e[t]+"px"}),s)}),[y,s]),_=(0,t.useMemo)((function(){return Ce((function(e){e.style[y]=null}),c)}),[y,c]),E=(0,t.useMemo)((function(){return Ce((function(e){e.style[y]=g(y,e)+"px",ge(e)}),l)}),[l,g,y]),T=(0,t.useMemo)((function(){return Ce((function(e){e.style[y]=null}),u)}),[y,u]);return t.createElement(X,(0,i.A)({ref:n,addEndListener:me},v,{"aria-expanded":v.role?v.in:null,onEnter:b,onEntering:w,onEntered:_,onExit:E,onExiting:T}),(function(e,n){return t.cloneElement(h,(0,i.A)({},n,{className:a()(d,h.props.className,Tk[e],"width"===y&&"width")}))}))}));Ik.defaultProps=kk;const xk=Ik;var Sk=t.createContext(null);Sk.displayName="NavbarContext";const Ck=Sk;var Ak=["children","bsPrefix"],Nk=t.forwardRef((function(e,n){var r=e.children,s=e.bsPrefix,a=(0,o.A)(e,Ak);return s=l(s,"navbar-collapse"),t.createElement(Ck.Consumer,null,(function(e){return t.createElement(xk,(0,i.A)({in:!(!e||!e.expanded)},a),t.createElement("div",{ref:n,className:s},r))}))}));Nk.displayName="NavbarCollapse";const Pk=Nk;var Rk=["bsPrefix","className","children","label","as","onClick"],Ok=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.children,u=e.label,d=e.as,h=void 0===d?"button":d,f=e.onClick,p=(0,o.A)(e,Rk);r=l(r,"navbar-toggler");var m=(0,t.useContext)(Ck)||{},g=m.onToggle,v=m.expanded,y=V((function(e){f&&f(e),g&&g()}));return"button"===h&&(p.type="button"),t.createElement(h,(0,i.A)({},p,{ref:n,onClick:y,"aria-label":u,className:a()(s,r,!v&&"collapsed")}),c||t.createElement("span",{className:r+"-icon"}))}));Ok.displayName="NavbarToggle",Ok.defaultProps={label:"Toggle navigation"};const Dk=Ok;var Lk=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};const Mk=t.createContext(null);var Fk=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],Uk=f("navbar-text",{Component:"span"}),jk=t.forwardRef((function(e,n){var r=L(e,{expanded:"onToggle"}),s=r.bsPrefix,c=r.expand,u=r.variant,d=r.bg,h=r.fixed,f=r.sticky,p=r.className,m=r.children,g=r.as,v=void 0===g?"nav":g,y=r.expanded,b=r.onToggle,w=r.onSelect,_=r.collapseOnSelect,E=(0,o.A)(r,Fk),T=l(s,"navbar"),k=(0,t.useCallback)((function(){w&&w.apply(void 0,arguments),_&&y&&b&&b(!1)}),[w,_,y,b]);void 0===E.role&&"nav"!==v&&(E.role="navigation");var I=T+"-expand";"string"===typeof c&&(I=I+"-"+c);var x=(0,t.useMemo)((function(){return{onToggle:function(){return b&&b(!y)},bsPrefix:T,expanded:!!y}}),[T,y,b]);return t.createElement(Ck.Provider,{value:x},t.createElement(Mk.Provider,{value:k},t.createElement(v,(0,i.A)({ref:n},E,{className:a()(p,T,c&&I,u&&T+"-"+u,d&&"bg-"+d,f&&"sticky-"+f,h&&"fixed-"+h)}),m)))}));jk.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},jk.displayName="Navbar",jk.Brand=yk,jk.Toggle=Dk,jk.Collapse=Pk,jk.Text=Uk;const Vk=jk;var zk=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bk(e,t){return zk(e.querySelectorAll(t))}const qk=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Kk=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=qk(e),r=qk(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};var Hk=t.createContext(null);Hk.displayName="NavContext";const Gk=Hk;const Wk=t.createContext(null);var Qk=["as","onSelect","activeKey","role","onKeyDown"],Yk=function(){},Jk=t.forwardRef((function(e,n){var r,s,a=e.as,c=void 0===a?"ul":a,l=e.onSelect,u=e.activeKey,d=e.role,h=e.onKeyDown,f=(0,o.A)(e,Qk),p=function(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}(),m=(0,t.useRef)(!1),g=(0,t.useContext)(Mk),v=(0,t.useContext)(Wk);v&&(d=d||"tablist",u=v.activeKey,r=v.getControlledId,s=v.getControllerId);var y=(0,t.useRef)(null),b=function(e){var t=y.current;if(!t)return null;var n=Bk(t,"[data-rb-event-key]:not(.disabled)"),r=t.querySelector(".active");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},w=function(e,t){null!=e&&(l&&l(e,t),g&&g(e,t))};(0,t.useEffect)((function(){if(y.current&&m.current){var e=y.current.querySelector("[data-rb-event-key].active");e&&e.focus()}m.current=!1}));var _=Kk(n,y);return t.createElement(Mk.Provider,{value:w},t.createElement(Gk.Provider,{value:{role:d,activeKey:Lk(u),getControlledId:r||Yk,getControllerId:s||Yk}},t.createElement(c,(0,i.A)({},f,{onKeyDown:function(e){var t;switch(h&&h(e),e.key){case"ArrowLeft":case"ArrowUp":t=b(-1);break;case"ArrowRight":case"ArrowDown":t=b(1);break;default:return}t&&(e.preventDefault(),w(t.dataset.rbEventKey,e),m.current=!0,p())},ref:_,role:d}))))}));const Xk=Jk;var $k=["bsPrefix","className","children","as"],Zk=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.children,u=e.as,d=void 0===u?"div":u,h=(0,o.A)(e,$k);return r=l(r,"nav-item"),t.createElement(d,(0,i.A)({},h,{ref:n,className:a()(s,r)}),c)}));Zk.displayName="NavItem";const eI=Zk;var tI=["active","className","eventKey","onSelect","onClick","as"],nI=t.forwardRef((function(e,n){var r=e.active,s=e.className,c=e.eventKey,l=e.onSelect,u=e.onClick,d=e.as,h=(0,o.A)(e,tI),f=Lk(c,h.href),p=(0,t.useContext)(Mk),m=(0,t.useContext)(Gk),g=r;if(m){h.role||"tablist"!==m.role||(h.role="tab");var v=m.getControllerId(f),y=m.getControlledId(f);h["data-rb-event-key"]=f,h.id=v||h.id,h["aria-controls"]=y||h["aria-controls"],g=null==r&&null!=f?m.activeKey===f:r}"tab"===h.role&&(h.disabled&&(h.tabIndex=-1,h["aria-disabled"]=!0),h["aria-selected"]=g);var b=V((function(e){u&&u(e),null!=f&&(l&&l(f,e),p&&p(f,e))}));return t.createElement(d,(0,i.A)({},h,{ref:n,onClick:b,className:a()(s,g&&"active")}))}));nI.defaultProps={disabled:!1};const rI=nI;var iI=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],oI={disabled:!1,as:Re},sI=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.disabled,c=e.className,u=e.href,d=e.eventKey,h=e.onSelect,f=e.as,p=(0,o.A)(e,iI);return r=l(r,"nav-link"),t.createElement(rI,(0,i.A)({},p,{href:u,ref:n,eventKey:d,as:f,disabled:s,onSelect:h,className:a()(c,r,s&&"disabled")}))}));sI.displayName="NavLink",sI.defaultProps=oI;const aI=sI;var cI=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],lI=t.forwardRef((function(e,n){var r,s,c,u=L(e,{activeKey:"onSelect"}),d=u.as,h=void 0===d?"div":d,f=u.bsPrefix,p=u.variant,m=u.fill,v=u.justify,y=u.navbar,b=u.navbarScroll,w=u.className,_=u.children,E=u.activeKey,T=(0,o.A)(u,cI),k=l(f,"nav"),I=!1,x=(0,t.useContext)(Ck),S=(0,t.useContext)(g);return x?(s=x.bsPrefix,I=null==y||y):S&&(c=S.cardHeaderBsPrefix),t.createElement(Xk,(0,i.A)({as:h,ref:n,activeKey:E,className:a()(w,(r={},r[k]=!I,r[s+"-nav"]=I,r[s+"-nav-scroll"]=I&&b,r[c+"-"+p]=!!c,r[k+"-"+p]=!!p,r[k+"-fill"]=m,r[k+"-justified"]=v,r))},T),_)}));lI.displayName="Nav",lI.defaultProps={justify:!1,fill:!1},lI.Item=eI,lI.Link=aI;const uI=lI;function dI(){return(0,KT.jsxs)(Vk,{bg:"light",expand:"sm",children:[(0,KT.jsx)(Vk.Brand,{as:rk,to:"/",children:"Drop-Drive"}),(0,KT.jsx)(uI,{children:(0,KT.jsx)(uI.Link,{as:rk,to:"/user",children:"Profile"})})]})}var hI;function fI(e){if((!hI&&0!==hI||e)&&oe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),hI=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return hI}function pI(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function mI(e){void 0===e&&(e=$());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(_N){return e.body}}function gI(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function vI(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}function yI(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function bI(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wI(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=bI(e.className,t):e.setAttribute("class",bI(e.className&&e.className.baseVal||"",t))}function _I(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function EI(e){var t;return _I(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=_I(e)?$():$(e),n=_I(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var TI=["template","script","style"],kI=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===TI.indexOf(n.toLowerCase())}(e)&&n(e)}))};function II(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var xI=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=fI()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(ie(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),ie(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;kI(e,[n,r],(function(e){return II(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),r;var o={modals:[e],classes:n?n.split(/\s+/):[],overflowing:EI(t)};return this.handleContainerOverflow&&this.setContainerStyle(o,t),o.classes.forEach(yI.bind(null,t)),this.containers.push(t),this.data.push(o),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(wI.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;kI(e,[n,r],(function(e){return II(!1,e)}))}(i,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],s=o.backdrop;II(!1,o.dialog),II(!1,s)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();const SI=xI;var CI,AI=function(e){var t;return"undefined"===typeof document?null:null==e?$().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function NI(e){var n=e||(CI||(CI=new SI),CI),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,t){return n.add(r.current,e,t)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){r.current.backdrop=e}),[])})}var PI=(0,t.forwardRef)((function(e,n){var s=e.show,a=void 0!==s&&s,c=e.role,l=void 0===c?"dialog":c,u=e.className,d=e.style,h=e.children,f=e.backdrop,p=void 0===f||f,m=e.keyboard,g=void 0===m||m,v=e.onBackdropClick,y=e.onEscapeKeyDown,b=e.transition,w=e.backdropTransition,_=e.autoFocus,E=void 0===_||_,T=e.enforceFocus,k=void 0===T||T,I=e.restoreFocus,x=void 0===I||I,S=e.restoreFocusOptions,C=e.renderDialog,A=e.renderBackdrop,N=void 0===A?function(e){return t.createElement("div",e)}:A,P=e.manager,R=e.container,O=e.containerClassName,D=e.onShow,L=e.onHide,M=void 0===L?function(){}:L,F=e.onExit,U=e.onExited,j=e.onExiting,z=e.onEnter,B=e.onEntering,q=e.onEntered,K=(0,o.A)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),H=function(e,n){var r=(0,t.useState)((function(){return AI(e)})),i=r[0],o=r[1];if(!i){var s=AI(e);s&&o(s)}return(0,t.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,t.useEffect)((function(){var t=AI(e);t!==i&&o(t)}),[e,i]),i}(R),G=NI(P),W=vI(),Q=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(a),Y=(0,t.useState)(!a),J=Y[0],X=Y[1],$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return G}),[G]),oe&&!Q&&a&&($.current=mI()),b||a||J?a&&J&&X(!1):X(!0);var Z=V((function(){if(G.add(H,O),se.current=de(document,"keydown",re),ie.current=de(document,"focus",(function(){return setTimeout(te)}),!0),D&&D(),E){var e=mI(document);G.dialog&&e&&!gI(G.dialog,e)&&($.current=e,G.dialog.focus())}})),ee=V((function(){var e;(G.remove(),null==se.current||se.current(),null==ie.current||ie.current(),x)&&(null==(e=$.current)||null==e.focus||e.focus(S),$.current=null)}));(0,t.useEffect)((function(){a&&H&&Z()}),[a,H,Z]),(0,t.useEffect)((function(){J&&ee()}),[J,ee]),pI((function(){ee()}));var te=V((function(){if(k&&W()&&G.isTopModal()){var e=mI();G.dialog&&e&&!gI(G.dialog,e)&&G.dialog.focus()}})),ne=V((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===p&&M())})),re=V((function(e){g&&27===e.keyCode&&G.isTopModal()&&(null==y||y(e),e.defaultPrevented||M())})),ie=(0,t.useRef)(),se=(0,t.useRef)(),ae=b;if(!H||!(a||ae&&!J))return null;var ce=(0,i.A)({role:l,ref:G.setDialogRef,"aria-modal":"dialog"===l||void 0},K,{style:d,className:u,tabIndex:-1}),le=C?C(ce):t.createElement("div",ce,t.cloneElement(h,{role:"document"}));ae&&(le=t.createElement(ae,{appear:!0,unmountOnExit:!0,in:!!a,onExit:F,onExiting:j,onExited:function(){X(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==U||U.apply(void 0,t)},onEnter:z,onEntering:B,onEntered:q},le));var ue=null;if(p){var he=w;ue=N({ref:G.setBackdropRef,onClick:ne}),he&&(ue=t.createElement(he,{appear:!0,in:!!a},ue))}return t.createElement(t.Fragment,null,r.createPortal(t.createElement(t.Fragment,null,ue,le),H))})),RI={show:Te().bool,container:Te().any,onShow:Te().func,onHide:Te().func,backdrop:Te().oneOfType([Te().bool,Te().oneOf(["static"])]),renderDialog:Te().func,renderBackdrop:Te().func,onEscapeKeyDown:Te().func,onBackdropClick:Te().func,containerClassName:Te().string,keyboard:Te().bool,transition:Te().elementType,backdropTransition:Te().elementType,autoFocus:Te().bool,enforceFocus:Te().bool,restoreFocus:Te().bool,restoreFocusOptions:Te().shape({preventScroll:Te().bool}),onEnter:Te().func,onEntering:Te().func,onEntered:Te().func,onExit:Te().func,onExiting:Te().func,onExited:Te().func,manager:Te().instanceOf(SI)};PI.displayName="Modal",PI.propTypes=RI;const OI=Object.assign(PI,{Manager:SI});var DI=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",LI=".sticky-top",MI=".navbar-toggler",FI=function(e){function t(){return e.apply(this,arguments)||this}(0,z.A)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,i=t.style[e];t.dataset[e]=i,ie(t,((r={})[e]=parseFloat(ie(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],ie(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var i=fI();Bk(n,DI).forEach((function(e){return r.adjustAndStore("paddingRight",e,i)})),Bk(n,LI).forEach((function(e){return r.adjustAndStore("marginRight",e,-i)})),Bk(n,MI).forEach((function(e){return r.adjustAndStore("marginRight",e,i)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),Bk(n,DI).forEach((function(e){return r.restore("paddingRight",e)})),Bk(n,LI).forEach((function(e){return r.restore("marginRight",e)})),Bk(n,MI).forEach((function(e){return r.restore("marginRight",e)}))},t}(SI);const UI=f("modal-body");const jI=t.createContext({onHide:function(){}});var VI=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],zI=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.contentClassName,u=e.centered,d=e.size,h=e.children,f=e.scrollable,p=(0,o.A)(e,VI),m=(r=l(r,"modal"))+"-dialog";return t.createElement("div",(0,i.A)({},p,{ref:n,className:a()(m,s,d&&r+"-"+d,u&&m+"-centered",f&&m+"-scrollable")}),t.createElement("div",{className:a()(r+"-content",c)},h))}));zI.displayName="ModalDialog";const BI=zI,qI=f("modal-footer");var KI=["bsPrefix","closeLabel","closeButton","onHide","className","children"],HI=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.closeLabel,c=e.closeButton,u=e.onHide,d=e.className,h=e.children,f=(0,o.A)(e,KI);r=l(r,"modal-header");var p=(0,t.useContext)(jI),m=V((function(){p&&p.onHide(),u&&u()}));return t.createElement("div",(0,i.A)({ref:n},f,{className:a()(d,r)}),h,c&&t.createElement(Se,{label:s,onClick:m}))}));HI.displayName="ModalHeader",HI.defaultProps={closeLabel:"Close",closeButton:!1};const GI=HI;const WI=f("modal-title",{Component:p("h4")});var QI,YI=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],JI={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:BI};function XI(e){return t.createElement(_e,(0,i.A)({},e,{timeout:null}))}function $I(e){return t.createElement(_e,(0,i.A)({},e,{timeout:null}))}var ZI=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.style,u=e.dialogClassName,d=e.contentClassName,h=e.children,f=e.dialogAs,p=e["aria-labelledby"],m=e["aria-describedby"],g=e["aria-label"],v=e.show,y=e.animation,b=e.backdrop,w=e.keyboard,_=e.onEscapeKeyDown,E=e.onShow,T=e.onHide,k=e.container,I=e.autoFocus,x=e.enforceFocus,S=e.restoreFocus,C=e.restoreFocusOptions,A=e.onEntered,N=e.onExit,P=e.onExiting,R=e.onEnter,O=e.onEntering,D=e.onExited,L=e.backdropClassName,M=e.manager,F=(0,o.A)(e,YI),U=(0,t.useState)({}),j=U[0],z=U[1],B=(0,t.useState)(!1),q=B[0],K=B[1],H=(0,t.useRef)(!1),G=(0,t.useRef)(!1),W=(0,t.useRef)(null),Q=(0,t.useState)(null),Y=Q[0],J=Q[1],X=V(T);r=l(r,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return Y}}}),[Y]);var Z=(0,t.useMemo)((function(){return{onHide:X}}),[X]);function ee(){return M||(QI||(QI=new FI),QI)}function te(e){if(oe){var t=ee().isContainerOverflowing(Y),n=e.scrollHeight>$(e).documentElement.clientHeight;z({paddingRight:t&&!n?fI():void 0,paddingLeft:!t&&n?fI():void 0})}}var ne=V((function(){Y&&te(Y.dialog)}));pI((function(){ue(window,"resize",ne),W.current&&W.current()}));var re=function(){H.current=!0},ie=function(e){H.current&&Y&&e.target===Y.dialog&&(G.current=!0),H.current=!1},se=function(){K(!0),W.current=fe(Y.dialog,(function(){K(!1)}))},ae=function(e){"static"!==b?G.current||e.target!==e.currentTarget?G.current=!1:null==T||T():function(e){e.target===e.currentTarget&&se()}(e)},ce=(0,t.useCallback)((function(e){return t.createElement("div",(0,i.A)({},e,{className:a()(r+"-backdrop",L,!y&&"show")}))}),[y,L,r]),de=(0,i.A)({},c,j);y||(de.display="block");return t.createElement(jI.Provider,{value:Z},t.createElement(OI,{show:v,ref:J,backdrop:b,container:k,keyboard:!0,autoFocus:I,enforceFocus:x,restoreFocus:S,restoreFocusOptions:C,onEscapeKeyDown:function(e){w||"static"!==b?w&&_&&_(e):(e.preventDefault(),se())},onShow:E,onHide:T,onEnter:function(e,t){e&&(e.style.display="block",te(e)),null==R||R(e,t)},onEntering:function(e,t){null==O||O(e,t),le(window,"resize",ne)},onEntered:A,onExit:function(e){null==W.current||W.current(),null==N||N(e)},onExiting:P,onExited:function(e){e&&(e.style.display=""),null==D||D(e),ue(window,"resize",ne)},manager:ee(),containerClassName:r+"-open",transition:y?XI:void 0,backdropTransition:y?$I:void 0,renderBackdrop:ce,renderDialog:function(e){return t.createElement("div",(0,i.A)({role:"dialog"},e,{style:de,className:a()(s,r,q&&r+"-static"),onClick:b?ae:void 0,onMouseUp:ie,"aria-label":g,"aria-labelledby":p,"aria-describedby":m}),t.createElement(f,(0,i.A)({},F,{onMouseDown:re,className:u,contentClassName:d}),h))}}))}));ZI.displayName="Modal",ZI.defaultProps=JI,ZI.Body=UI,ZI.Header=GI,ZI.Title=WI,ZI.Footer=qI,ZI.Dialog=BI,ZI.TRANSITION_DURATION=300,ZI.BACKDROP_TRANSITION_DURATION=150;const ex=ZI;function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach((function(t){ox(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rx(e){return rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(e)}function ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ox(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||cx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ax(e){return function(e){if(Array.isArray(e))return lx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cx(e,t){if(e){if("string"===typeof e)return lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lx(e,t):void 0}}function lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ux=function(){},dx={},hx={},fx=null,px={mark:ux,measure:ux};try{"undefined"!==typeof window&&(dx=window),"undefined"!==typeof document&&(hx=document),"undefined"!==typeof MutationObserver&&(fx=MutationObserver),"undefined"!==typeof performance&&(px=performance)}catch(_N){}var mx,gx,vx,yx,bx,wx=(dx.navigator||{}).userAgent,_x=void 0===wx?"":wx,Ex=dx,Tx=hx,kx=fx,Ix=px,xx=(Ex.document,!!Tx.documentElement&&!!Tx.head&&"function"===typeof Tx.addEventListener&&"function"===typeof Tx.createElement),Sx=~_x.indexOf("MSIE")||~_x.indexOf("Trident/"),Cx="___FONT_AWESOME___",Ax=16,Nx="fa",Px="svg-inline--fa",Rx="data-fa-i2svg",Ox="data-fa-pseudo-element",Dx="data-fa-pseudo-element-pending",Lx="data-prefix",Mx="data-icon",Fx="fontawesome-i2svg",Ux="async",jx=["HTML","HEAD","STYLE","SCRIPT"],Vx=function(){try{return!0}catch(_N){return!1}}(),zx="classic",Bx="sharp",qx=[zx,Bx];function Kx(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[zx]}})}var Hx=Kx((ox(mx={},zx,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),ox(mx,Bx,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),mx)),Gx=Kx((ox(gx={},zx,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ox(gx,Bx,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),gx)),Wx=Kx((ox(vx={},zx,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ox(vx,Bx,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),vx)),Qx=Kx((ox(yx={},zx,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ox(yx,Bx,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),yx)),Yx=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,Jx="fa-layers-text",Xx=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$x=Kx((ox(bx={},zx,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ox(bx,Bx,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),bx)),Zx=[1,2,3,4,5,6,7,8,9,10],eS=Zx.concat([11,12,13,14,15,16,17,18,19,20]),tS=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nS={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rS=new Set;Object.keys(Gx[zx]).map(rS.add.bind(rS)),Object.keys(Gx[Bx]).map(rS.add.bind(rS));var iS=[].concat(qx,ax(rS),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nS.GROUP,nS.SWAP_OPACITY,nS.PRIMARY,nS.SECONDARY]).concat(Zx.map((function(e){return"".concat(e,"x")}))).concat(eS.map((function(e){return"w-".concat(e)}))),oS=Ex.FontAwesomeConfig||{};if(Tx&&"function"===typeof Tx.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=sx(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Tx.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(oS[r]=i)}))}var sS={styleDefault:"solid",familyDefault:"classic",cssPrefix:Nx,replacementClass:Px,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};oS.familyPrefix&&(oS.cssPrefix=oS.familyPrefix);var aS=nx(nx({},sS),oS);aS.autoReplaceSvg||(aS.observeMutations=!1);var cS={};Object.keys(sS).forEach((function(e){Object.defineProperty(cS,e,{enumerable:!0,set:function(t){aS[e]=t,lS.forEach((function(e){return e(cS)}))},get:function(){return aS[e]}})})),Object.defineProperty(cS,"familyPrefix",{enumerable:!0,set:function(e){aS.cssPrefix=e,lS.forEach((function(e){return e(cS)}))},get:function(){return aS.cssPrefix}}),Ex.FontAwesomeConfig=cS;var lS=[];var uS=Ax,dS={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var hS="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function fS(){for(var e=12,t="";e-- >0;)t+=hS[62*Math.random()|0];return t}function pS(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function mS(e){return e.classList?pS(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function gS(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vS(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function yS(e){return e.size!==dS.size||e.x!==dS.x||e.y!==dS.y||e.rotate!==dS.rotate||e.flipX||e.flipY}var bS=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function wS(){var e=Nx,t=Px,n=cS.cssPrefix,r=cS.replacementClass,i=bS;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var _S=!1;function ES(){cS.autoAddCss&&!_S&&(!function(e){if(e&&xx){var t=Tx.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Tx.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Tx.head.insertBefore(t,r)}}(wS()),_S=!0)}var TS={mixout:function(){return{dom:{css:wS,insertCss:ES}}},hooks:function(){return{beforeDOMElementCreation:function(){ES()},beforeI2svg:function(){ES()}}}},kS=Ex||{};kS[Cx]||(kS[Cx]={}),kS[Cx].styles||(kS[Cx].styles={}),kS[Cx].hooks||(kS[Cx].hooks={}),kS[Cx].shims||(kS[Cx].shims=[]);var IS=kS[Cx],xS=[],SS=!1;function CS(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?gS(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(gS(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(CS).join(""),"</").concat(t,">")}function AS(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}xx&&((SS=(Tx.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Tx.readyState))||Tx.addEventListener("DOMContentLoaded",(function e(){Tx.removeEventListener("DOMContentLoaded",e),SS=1,xS.map((function(e){return e()}))})));var NS=function(e,t,n,r){var i,o,s,a=Object.keys(e),c=a.length,l=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,s=e[a[0]]):(i=0,s=n);i<c;i++)s=l(s,e[o=a[i]],o,e);return s};function PS(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function RS(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function OS(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=RS(t);"function"!==typeof IS.hooks.addPack||r?IS.styles[e]=nx(nx({},IS.styles[e]||{}),i):IS.hooks.addPack(e,RS(t)),"fas"===e&&OS("fa",t)}var DS,LS,MS,FS=IS.styles,US=IS.shims,jS=(ox(DS={},zx,Object.values(Wx[zx])),ox(DS,Bx,Object.values(Wx[Bx])),DS),VS=null,zS={},BS={},qS={},KS={},HS={},GS=(ox(LS={},zx,Object.keys(Hx[zx])),ox(LS,Bx,Object.keys(Hx[Bx])),LS);function WS(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~iS.indexOf(n))?null:o}var QS,YS=function(){var e=function(e){return NS(FS,(function(t,n,r){return t[r]=NS(n,e,{}),t}),{})};zS=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),BS=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),HS=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in FS||cS.autoFetchSvg,n=NS(US,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});qS=n.names,KS=n.unicodes,VS=tC(cS.styleDefault,{family:cS.familyDefault})};function JS(e,t){return(zS[e]||{})[t]}function XS(e,t){return(HS[e]||{})[t]}function $S(e){return qS[e]||{prefix:null,iconName:null}}function ZS(){return VS}QS=function(e){VS=tC(e.styleDefault,{family:cS.familyDefault})},lS.push(QS),YS();var eC=function(){return{prefix:null,iconName:null,rest:[]}};function tC(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?zx:t,r=Hx[n][e],i=Gx[n][e]||Gx[n][r],o=e in IS.styles?e:null;return i||o||null}var nC=(ox(MS={},zx,Object.keys(Wx[zx])),ox(MS,Bx,Object.keys(Wx[Bx])),MS);function rC(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(ox(t={},zx,"".concat(cS.cssPrefix,"-").concat(zx)),ox(t,Bx,"".concat(cS.cssPrefix,"-").concat(Bx)),t),o=null,s=zx;(e.includes(i[zx])||e.some((function(e){return nC[zx].includes(e)})))&&(s=zx),(e.includes(i[Bx])||e.some((function(e){return nC[Bx].includes(e)})))&&(s=Bx);var a=e.reduce((function(e,t){var n=WS(cS.cssPrefix,t);if(FS[t]?(t=jS[s].includes(t)?Qx[s][t]:t,o=t,e.prefix=t):GS[s].indexOf(t)>-1?(o=t,e.prefix=tC(t,{family:s})):n?e.iconName=n:t!==cS.replacementClass&&t!==i[zx]&&t!==i[Bx]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===o?$S(e.iconName):{},c=XS(e.prefix,e.iconName);a.prefix&&(o=null),e.iconName=a.iconName||c||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||FS.far||!FS.fas||cS.autoFetchSvg||(e.prefix="fas")}return e}),eC());return(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(a.prefix="fad"),a.prefix||s!==Bx||!FS.fass&&!cS.autoFetchSvg||(a.prefix="fass",a.iconName=XS(a.prefix,a.iconName)||a.iconName),"fa"!==a.prefix&&"fa"!==o||(a.prefix=ZS()||"fas"),a}var iC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=nx(nx({},e.definitions[t]||{}),i[t]),OS(t,i[t]);var n=Wx[zx][t];n&&OS(n,i[t]),YS()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,s=r.icon,a=s[2];e[i]||(e[i]={}),a.length>0&&a.forEach((function(t){"string"===typeof t&&(e[i][t]=s)})),e[i][o]=s})),e}}],n&&ix(t.prototype,n),r&&ix(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),oC=[],sC={},aC={},cC=Object.keys(aC);function lC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(sC[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function uC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(sC[e]||[]).forEach((function(e){e.apply(null,n)}))}function dC(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return aC[e]?aC[e].apply(null,t):void 0}function hC(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||ZS();if(t)return t=XS(n,t)||t,AS(fC.definitions,n,t)||AS(IS.styles,n,t)}var fC=new iC,pC={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xx?(uC("beforeI2svg",e),dC("pseudoElements2svg",e),dC("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===cS.autoReplaceSvg&&(cS.autoReplaceSvg=!0),cS.observeMutations=!0,e=function(){vC({autoReplaceSvgRoot:n}),uC("watch",t)},xx&&(SS?setTimeout(e,0):xS.push(e))}},mC={icon:function(e){if(null===e)return null;if("object"===rx(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:XS(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=tC(e[0]);return{prefix:n,iconName:XS(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(cS.cssPrefix,"-"))>-1||e.match(Yx))){var r=rC(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||ZS(),iconName:XS(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=ZS();return{prefix:i,iconName:XS(i,e)||e}}}},gC={noAuto:function(){cS.autoReplaceSvg=!1,cS.observeMutations=!1,uC("noAuto")},config:cS,dom:pC,parse:mC,library:fC,findIconDefinition:hC,toHtml:CS},vC=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?Tx:e;(Object.keys(IS.styles).length>0||cS.autoFetchSvg)&&xx&&cS.autoReplaceSvg&&gC.dom.i2svg({node:t})};function yC(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return CS(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(xx){var t=Tx.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function bC(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,s=e.transform,a=e.symbol,c=e.title,l=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=[cS.replacementClass,o?"".concat(cS.cssPrefix,"-").concat(o):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:nx(nx({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(b.attributes[Rx]=""),c&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||fS())},children:[c]}),delete b.attributes.title);var _=nx(nx({},b),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:nx(nx({},w),d.styles)}),E=r.found&&n.found?dC("generateAbstractMask",_)||{children:[],attributes:{}}:dC("generateAbstractIcon",_)||{children:[],attributes:{}},T=E.children,k=E.attributes;return _.children=T,_.attributes=k,a?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,s=!0===o?"".concat(t,"-").concat(cS.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:nx(nx({},i),{},{id:s}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,s=e.transform;if(yS(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=vS(nx(nx({},o),{},{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function wC(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,s=e.extra,a=e.watchable,c=void 0!==a&&a,l=nx(nx(nx({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(l[Rx]="");var u=nx({},s.styles);yS(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?Ax:n,i=e.height,o=void 0===i?Ax:i,s=e.startCentered,a=void 0!==s&&s,c="";return c+=a&&Sx?"translate(".concat(t.x/uS-r/2,"em, ").concat(t.y/uS-o/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/uS,"em), calc(-50% + ").concat(t.y/uS,"em)) "):"translate(".concat(t.x/uS,"em, ").concat(t.y/uS,"em) "),c+="scale(".concat(t.size/uS*(t.flipX?-1:1),", ").concat(t.size/uS*(t.flipY?-1:1),") "),c+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=vS(u);d.length>0&&(l.style=d);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}var _C=IS.styles;function EC(e){var t=e[0],n=e[1],r=sx(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(cS.cssPrefix,"-").concat(nS.GROUP)},children:[{tag:"path",attributes:{class:"".concat(cS.cssPrefix,"-").concat(nS.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(cS.cssPrefix,"-").concat(nS.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var TC={found:!1,width:512,height:512};function kC(e,t){var n=t;return"fa"===t&&null!==cS.styleDefault&&(t=ZS()),new Promise((function(r,i){dC("missingIconAbstract");if("fa"===n){var o=$S(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&_C[t]&&_C[t][e])return r(EC(_C[t][e]));!function(e,t){Vx||cS.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(nx(nx({},TC),{},{icon:cS.showMissingIcons&&e&&dC("missingIconAbstract")||{}}))}))}var IC=function(){},xC=cS.measurePerformance&&Ix&&Ix.mark&&Ix.measure?Ix:{mark:IC,measure:IC},SC='FA "6.5.2"',CC=function(e){xC.mark("".concat(SC," ").concat(e," ends")),xC.measure("".concat(SC," ").concat(e),"".concat(SC," ").concat(e," begins"),"".concat(SC," ").concat(e," ends"))},AC={begin:function(e){return xC.mark("".concat(SC," ").concat(e," begins")),function(){return CC(e)}},end:CC},NC=function(){};function PC(e){return"string"===typeof(e.getAttribute?e.getAttribute(Rx):null)}function RC(e){return Tx.createElementNS("http://www.w3.org/2000/svg",e)}function OC(e){return Tx.createElement(e)}function DC(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?RC:OC:t;if("string"===typeof e)return Tx.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(DC(e,{ceFn:n}))})),r}var LC={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(DC(e),t)})),null===t.getAttribute(Rx)&&cS.keepOriginalSource){var n=Tx.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~mS(t).indexOf(cS.replacementClass))return LC.replace(e);var r=new RegExp("".concat(cS.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===cS.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(e){return CS(e)})).join("\n");t.setAttribute(Rx,""),t.innerHTML=o}};function MC(e){e()}function FC(e,t){var n="function"===typeof t?t:NC;if(0===e.length)n();else{var r=MC;cS.mutateApproach===Ux&&(r=Ex.requestAnimationFrame||MC),r((function(){var t=!0===cS.autoReplaceSvg?LC.replace:LC[cS.autoReplaceSvg]||LC.replace,r=AC.begin("mutate");e.map(t),r(),n()}))}}var UC=!1;function jC(){UC=!0}function VC(){UC=!1}var zC=null;function BC(e){if(kx&&cS.observeMutations){var t=e.treeCallback,n=void 0===t?NC:t,r=e.nodeCallback,i=void 0===r?NC:r,o=e.pseudoElementsCallback,s=void 0===o?NC:o,a=e.observeMutationsRoot,c=void 0===a?Tx:a;zC=new kx((function(e){if(!UC){var t=ZS();pS(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!PC(e.addedNodes[0])&&(cS.searchPseudoElements&&s(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&cS.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&PC(e.target)&&~tS.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Lx):null,n=e.getAttribute?e.getAttribute(Mx):null;return t&&n}(e.target)){var r=rC(mS(e.target)),o=r.prefix,a=r.iconName;e.target.setAttribute(Lx,o||t),a&&e.target.setAttribute(Mx,a)}else(c=e.target)&&c.classList&&c.classList.contains&&c.classList.contains(cS.replacementClass)&&i(e.target);var c}))}})),xx&&zC.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qC(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=rC(mS(e));return i.prefix||(i.prefix=ZS()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(BS[e]||{})[t]}(i.prefix,e.innerText)||JS(i.prefix,PS(e.innerText))),!i.iconName&&cS.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function KC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=qC(e),r=n.iconName,i=n.prefix,o=n.rest,s=function(e){var t=pS(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return cS.autoA11y&&(n?t["aria-labelledby"]="".concat(cS.replacementClass,"-title-").concat(r||fS()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),a=lC("parseNodeAttributes",{},e),c=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return nx({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:dS,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},a)}var HC=IS.styles;function GC(e){var t="nest"===cS.autoReplaceSvg?KC(e,{styleParser:!1}):KC(e);return~t.extra.classes.indexOf(Jx)?dC("generateLayersText",e,t):dC("generateSvgReplacementMutation",e,t)}var WC=new Set;function QC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!xx)return Promise.resolve();var n=Tx.documentElement.classList,r=function(e){return n.add("".concat(Fx,"-").concat(e))},i=function(e){return n.remove("".concat(Fx,"-").concat(e))},o=cS.autoFetchSvg?WC:qx.map((function(e){return"fa-".concat(e)})).concat(Object.keys(HC));o.includes("fa")||o.push("fa");var s=[".".concat(Jx,":not([").concat(Rx,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(Rx,"])")}))).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=pS(e.querySelectorAll(s))}catch(_N){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=AC.begin("onTree"),l=a.reduce((function(e,t){try{var n=GC(t);n&&e.push(n)}catch(_N){Vx||"MissingIcon"===_N.name&&console.error(_N)}return e}),[]);return new Promise((function(e,n){Promise.all(l).then((function(n){FC(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((function(e){c(),n(e)}))}))}function YC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;GC(e).then((function(e){e&&FC([e],t)}))}qx.map((function(e){WC.add("fa-".concat(e))})),Object.keys(Hx[zx]).map(WC.add.bind(WC)),Object.keys(Hx[Bx]).map(WC.add.bind(WC)),WC=ax(WC);var JC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dS:n,i=t.symbol,o=void 0!==i&&i,s=t.mask,a=void 0===s?null:s,c=t.maskId,l=void 0===c?null:c,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,_=e.iconName,E=e.icon;return yC(nx({type:"icon"},e),(function(){return uC("beforeDOMElementCreation",{iconDefinition:e,params:t}),cS.autoA11y&&(d?v["aria-labelledby"]="".concat(cS.replacementClass,"-title-").concat(f||fS()):(v["aria-hidden"]="true",v.focusable="false")),bC({icons:{main:EC(E),mask:a?EC(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:nx(nx({},dS),r),symbol:o,title:d,maskId:l,titleId:f,extra:{attributes:v,styles:b,classes:m}})}))}},XC={mixout:function(){return{icon:(e=JC,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:hC(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:hC(i||{})),e(r,nx(nx({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=QC,e.nodeCallback=YC,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Tx:t,r=e.callback;return QC(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,o=t.prefix,s=t.transform,a=t.symbol,c=t.mask,l=t.maskId,u=t.extra;return new Promise((function(t,d){Promise.all([kC(n,o),c.iconName?kC(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var d=sx(c,2),h=d[0],f=d[1];t([e,bC({icons:{main:h,mask:f},prefix:o,iconName:n,transform:s,symbol:a,maskId:l,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,s=vS(e.styles);return s.length>0&&(r.style=s),yS(o)&&(t=dC("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},$C={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return yC({type:"layer"},(function(){uC("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(cS.cssPrefix,"-layers")].concat(ax(r)).join(" ")},children:n}]}))}}}},ZC={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,s=t.attributes,a=void 0===s?{}:s,c=t.styles,l=void 0===c?{}:c;return yC({type:"counter",content:e},(function(){return uC("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=nx(nx(nx({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=vS(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:r,extra:{attributes:a,styles:l,classes:["".concat(cS.cssPrefix,"-layers-counter")].concat(ax(o))}})}))}}}},eA={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dS:n,i=t.title,o=void 0===i?null:i,s=t.classes,a=void 0===s?[]:s,c=t.attributes,l=void 0===c?{}:c,u=t.styles,d=void 0===u?{}:u;return yC({type:"text",content:e},(function(){return uC("beforeDOMElementCreation",{content:e,params:t}),wC({content:e,transform:nx(nx({},dS),r),title:o,extra:{attributes:l,styles:d,classes:["".concat(cS.cssPrefix,"-layers-text")].concat(ax(a))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,s=null;if(Sx){var a=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();o=c.width/a,s=c.height/a}return cS.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,wC({content:e.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},tA=new RegExp('"',"ug"),nA=[1105920,1112319];function rA(e,t){var n="".concat(Dx).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var o=pS(e.children).filter((function(e){return e.getAttribute(Ox)===t}))[0],s=Ex.getComputedStyle(e,t),a=s.getPropertyValue("font-family").match(Xx),c=s.getPropertyValue("font-weight"),l=s.getPropertyValue("content");if(o&&!a)return e.removeChild(o),r();if(a&&"none"!==l&&""!==l){var u=s.getPropertyValue("content"),d=~["Sharp"].indexOf(a[2])?Bx:zx,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(a[2])?Gx[d][a[2].toLowerCase()]:$x[d][c],f=function(e){var t=e.replace(tA,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=nA[0]&&n<=nA[1],i=2===t.length&&t[0]===t[1];return{value:PS(i?t[0]:t),isSecondary:r||i}}(u),p=f.value,m=f.isSecondary,g=a[0].startsWith("FontAwesome"),v=JS(h,p),y=v;if(g){var b=function(e){var t=KS[e],n=JS("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(v=b.iconName,h=b.prefix)}if(!v||m||o&&o.getAttribute(Lx)===h&&o.getAttribute(Mx)===y)r();else{e.setAttribute(n,y),o&&e.removeChild(o);var w={iconName:null,title:null,titleId:null,prefix:null,transform:dS,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=w.extra;_.attributes[Ox]=t,kC(v,h).then((function(i){var o=bC(nx(nx({},w),{},{icons:{main:i,mask:eC()},prefix:h,iconName:y,extra:_,watchable:!0})),s=Tx.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s),s.outerHTML=o.map((function(e){return CS(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function iA(e){return Promise.all([rA(e,"::before"),rA(e,"::after")])}function oA(e){return e.parentNode!==document.head&&!~jx.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Ox)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function sA(e){if(xx)return new Promise((function(t,n){var r=pS(e.querySelectorAll("*")).filter(oA).map(iA),i=AC.begin("searchPseudoElements");jC(),Promise.all(r).then((function(){i(),VC(),t()})).catch((function(){i(),VC(),n()}))}))}var aA=!1,cA=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},lA={mixout:function(){return{parse:{transform:function(e){return cA(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=cA(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),l={outer:o,inner:{transform:"".concat(s," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:nx({},l.outer),children:[{tag:"g",attributes:nx({},l.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:nx(nx({},t.icon.attributes),l.path)}]}]}}}},uA={x:0,y:0,width:"100%",height:"100%"};function dA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var hA={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?rC(n.split(" ").map((function(e){return e.trim()}))):eC();return r.prefix||(r.prefix=ZS()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,s=e.maskId,a=e.transform,c=i.width,l=i.icon,u=o.width,d=o.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:c}),f={tag:"rect",attributes:nx(nx({},uA),{},{fill:"white"})},p=l.children?{children:l.children.map(dA)}:{},m={tag:"g",attributes:nx({},h.inner),children:[dA(nx({tag:l.tag,attributes:nx(nx({},l.attributes),h.path)},p))]},g={tag:"g",attributes:nx({},h.outer),children:[m]},v="mask-".concat(s||fS()),y="clip-".concat(s||fS()),b={tag:"mask",attributes:nx(nx({},uA),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:nx({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},uA)}),{children:n,attributes:r}}}},fA={provides:function(e){var t=!1;Ex.matchMedia&&(t=Ex.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:nx(nx({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=nx(nx({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:nx(nx({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:nx(nx({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:nx(nx({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:nx(nx({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:nx(nx({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:nx(nx({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:nx(nx({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;oC=e,sC={},Object.keys(aC).forEach((function(e){-1===cC.indexOf(e)&&delete aC[e]})),oC.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===rx(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){sC[e]||(sC[e]=[]),sC[e].push(r[e])}))}e.provides&&e.provides(aC)}))}([TS,XC,$C,ZC,eA,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=sA,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Tx:t;cS.searchPseudoElements&&sA(n)}}},{mixout:function(){return{dom:{unwatch:function(){jC(),aA=!0}}}},hooks:function(){return{bootstrap:function(){BC(lC("mutationObserverCallbacks",{}))},noAuto:function(){zC&&zC.disconnect()},watch:function(e){var t=e.observeMutationsRoot;aA?VC():BC(lC("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},lA,hA,fA,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:gC});var pA=gC.parse,mA=gC.icon;function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gA(Object(n),!0).forEach((function(t){bA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yA(e){return yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yA(e)}function bA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _A(e){return function(e){if(Array.isArray(e))return EA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return EA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TA(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var kA=["style"];var IA=!1;try{IA=!0}catch(_N){}function xA(e){return e&&"object"===yA(e)&&e.prefix&&e.iconName&&e.icon?e:pA.icon?pA.icon(e):null===e?null:e&&"object"===yA(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function SA(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?bA({},e,t):{}}var CA={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},AA=t.forwardRef((function(e,t){var n=vA(vA({},CA),e),r=n.icon,i=n.mask,o=n.symbol,s=n.className,a=n.title,c=n.titleId,l=n.maskId,u=xA(r),d=SA("classes",[].concat(_A(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,s=e.shake,a=e.flash,c=e.spin,l=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(bA(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":s,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),bA(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),bA(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),bA(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),_A((s||"").split(" ")))),h=SA("transform","string"===typeof n.transform?pA.transform(n.transform):n.transform),f=SA("mask",xA(i)),p=mA(u,vA(vA(vA(vA({},d),h),f),{},{symbol:o,title:a,titleId:c,maskId:l}));if(!p)return function(){var e;!IA&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){CA.hasOwnProperty(e)||(g[e]=n[e])})),NA(m[0],g)}));AA.displayName="FontAwesomeIcon",AA.propTypes={beat:Te().bool,border:Te().bool,beatFade:Te().bool,bounce:Te().bool,className:Te().string,fade:Te().bool,flash:Te().bool,mask:Te().oneOfType([Te().object,Te().array,Te().string]),maskId:Te().string,fixedWidth:Te().bool,inverse:Te().bool,flip:Te().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Te().oneOfType([Te().object,Te().array,Te().string]),listItem:Te().bool,pull:Te().oneOf(["right","left"]),pulse:Te().bool,rotation:Te().oneOf([0,90,180,270]),shake:Te().bool,size:Te().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Te().bool,spinPulse:Te().bool,spinReverse:Te().bool,symbol:Te().oneOfType([Te().bool,Te().string]),title:Te().string,titleId:Te().string,transform:Te().oneOfType([Te().string,Te().object]),swapOpacity:Te().bool};var NA=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=TA(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[TA(t)]=r}return e}),{attrs:{}}),s=r.style,a=void 0===s?{}:s,c=wA(r,kA);return o.attrs.style=vA(vA({},o.attrs.style),a),t.apply(void 0,[n.tag,vA(vA({},o.attrs),c)].concat(_A(i)))}.bind(null,t.createElement),PA={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},RA={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},OA=RA;const DA={SELECT_FOLDER:"select-folder",UPDATE_FOLDER:"update-folder",SET_CHILD_FOLDERS:"set-child-folders",SET_CHILD_FILES:"set-child-files"},LA={name:"Root",id:null,path:[]};function MA(e,t){let{type:n,payload:r}=t;switch(n){case DA.SELECT_FOLDER:return{folderId:r.folderId,folder:r.folder,childFiles:[],childFolders:[]};case DA.UPDATE_FOLDER:return{...e,folder:r.folder};case DA.SET_CHILD_FOLDERS_FOLDER:return{...e,childFolders:r.childFolders};case DA.SET_CHILD_FOLDERS_FILES:return{...e,childFiles:r.childFiles};default:return e}}function FA(e){let{currentFolder:n}=e;const[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(""),{currentUser:a}=GT();function c(){i(!1)}return(0,KT.jsxs)(KT.Fragment,{children:[(0,KT.jsx)(Ot,{onClick:function(){i(!0)},variant:"outline-success",size:"sm",children:(0,KT.jsx)(AA,{icon:PA})}),(0,KT.jsx)(ex,{show:r,onHide:c,children:(0,KT.jsxs)(Nt,{onSubmit:function(e){if(e.preventDefault(),null==n)return;const t=[...n.path];n!==LA&&t.push({name:n.name,id:n.id}),zT.folders.add({name:o,parentId:n.id,userId:a.uid,path:t,createdAt:zT.getCurrentTimestamp()}),s(""),c()},children:[(0,KT.jsx)(ex.Body,{children:(0,KT.jsxs)(Nt.Group,{children:[(0,KT.jsx)(Nt.Label,{children:"Folder Name"}),(0,KT.jsx)(Nt.Control,{type:"text",required:!0,value:o,onChange:e=>s(e.target.value)})]})}),(0,KT.jsxs)(ex.Footer,{children:[(0,KT.jsx)(Ot,{variant:"secondary",onClick:c,children:"Close"}),(0,KT.jsx)(Ot,{variant:"success",type:"submit",children:"Add Folder"})]})]})})]})}var UA=n(323);var jA=["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"],VA=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.active,c=e.children,u=e.className,d=e.as,h=void 0===d?"li":d,f=e.linkAs,p=void 0===f?Re:f,m=e.linkProps,g=e.href,v=e.title,y=e.target,b=(0,o.A)(e,jA),w=l(r,"breadcrumb-item");return t.createElement(h,(0,i.A)({ref:n},b,{className:a()(w,u,{active:s}),"aria-current":s?"page":void 0}),s?c:t.createElement(p,(0,i.A)({},m,{href:g,title:v,target:y}),c))}));VA.displayName="BreadcrumbItem",VA.defaultProps={active:!1,linkProps:{}};const zA=VA;var BA=["bsPrefix","className","listProps","children","label","as"],qA=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.listProps,u=e.children,d=e.label,h=e.as,f=void 0===h?"nav":h,p=(0,o.A)(e,BA),m=l(r,"breadcrumb");return t.createElement(f,(0,i.A)({"aria-label":d,className:s,ref:n},p),t.createElement("ol",(0,i.A)({},c,{className:a()(m,null==c?void 0:c.className)}),u))}));qA.displayName="Breadcrumb",qA.defaultProps={label:"breadcrumb",listProps:{}},qA.Item=zA;const KA=qA;function HA(e){let{currentFolder:t}=e,n=t===LA?[]:[LA];return t&&(n=[...n,t.path]),(0,KT.jsxs)(KA,{className:"flex-grow-1",listProps:{className:"bg-white p1-0 m-0"},children:[n.map(((e,t)=>(0,KT.jsx)(KA.Item,{linkAs:UA.N_,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/",state:{folder:{...e,path:n.slice(1,t)}}}},className:"text-truncate d-inline-block",style:{maxWidth:"150px"},children:e.name},e.id))),t&&(0,KT.jsx)(KA.Item,{className:"text-truncate d-inline-block",style:{maxWidth:"200px"},active:!0,children:t.name})]})}const GA={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let WA;const QA=new Uint8Array(16);function YA(){if(!WA&&(WA="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!WA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return WA(QA)}const JA=[];for(let n=0;n<256;++n)JA.push((n+256).toString(16).slice(1));function XA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return JA[e[t+0]]+JA[e[t+1]]+JA[e[t+2]]+JA[e[t+3]]+"-"+JA[e[t+4]]+JA[e[t+5]]+"-"+JA[e[t+6]]+JA[e[t+7]]+"-"+JA[e[t+8]]+JA[e[t+9]]+"-"+JA[e[t+10]]+JA[e[t+11]]+JA[e[t+12]]+JA[e[t+13]]+JA[e[t+14]]+JA[e[t+15]]}const $A=function(e,t,n){if(GA.randomUUID&&!t&&!e)return GA.randomUUID();const r=(e=e||{}).random||(e.rng||YA)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return XA(r)},ZA=2**31-1;function eN(e,t,n){const r=n-Date.now();e.current=r<=ZA?setTimeout(t,r):setTimeout((()=>eN(e,t,n)),ZA)}function tN(){const e=vI(),n=(0,t.useRef)();return pI((()=>clearTimeout(n.current))),(0,t.useMemo)((()=>{const t=()=>clearTimeout(n.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),i<=ZA?n.current=setTimeout(r,i):eN(n,r,Date.now()+i))},clear:t,handleRef:n}}),[])}const nN=t.createContext({onClose:function(){}});var rN=["bsPrefix","closeLabel","closeButton","className","children"],iN=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.closeLabel,c=e.closeButton,u=e.className,d=e.children,h=(0,o.A)(e,rN);r=l(r,"toast-header");var f=(0,t.useContext)(nN),p=V((function(e){f&&f.onClose&&f.onClose(e)}));return t.createElement("div",(0,i.A)({ref:n},h,{className:a()(r,u)}),d,c&&t.createElement(Se,{label:s,onClick:p,className:"ml-2 mb-1","data-dismiss":"toast"}))}));iN.displayName="ToastHeader",iN.defaultProps={closeLabel:"Close",closeButton:!0};const oN=iN,sN=f("toast-body");var aN=["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"],cN=t.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.children,u=e.transition,d=void 0===u?_e:u,h=e.show,f=void 0===h||h,p=e.animation,m=void 0===p||p,g=e.delay,v=void 0===g?3e3:g,y=e.autohide,b=void 0!==y&&y,w=e.onClose,_=(0,o.A)(e,aN);r=l(r,"toast");var E=(0,t.useRef)(v),T=(0,t.useRef)(w);(0,t.useEffect)((function(){E.current=v,T.current=w}),[v,w]);var k=tN(),I=!(!b||!f),x=(0,t.useCallback)((function(){I&&(null==T.current||T.current())}),[I]);(0,t.useEffect)((function(){k.set(x,E.current)}),[k,x]);var S=(0,t.useMemo)((function(){return{onClose:w}}),[w]),C=!(!d||!m),A=t.createElement("div",(0,i.A)({},_,{ref:n,className:a()(r,s,!C&&(f?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),c);return t.createElement(nN.Provider,{value:S},C&&d?t.createElement(d,{in:f,unmountOnExit:!0},A):A)}));cN.displayName="Toast";const lN=Object.assign(cN,{Body:sN,Header:oN});var uN=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],dN=["isChild"],hN=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"],fN=1e3;function pN(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(r*fN)/fN}function mN(e,n){var r,s=e.min,c=e.now,l=e.max,u=e.label,d=e.srOnly,h=e.striped,f=e.animated,p=e.className,m=e.style,g=e.variant,v=e.bsPrefix,y=(0,o.A)(e,uN);return t.createElement("div",(0,i.A)({ref:n},y,{role:"progressbar",className:a()(p,v+"-bar",(r={},r["bg-"+g]=g,r[v+"-bar-animated"]=f,r[v+"-bar-striped"]=f||h,r)),style:(0,i.A)({width:pN(c,s,l)+"%"},m),"aria-valuenow":c,"aria-valuemin":s,"aria-valuemax":l}),d?t.createElement("span",{className:"sr-only"},u):u)}var gN=t.forwardRef((function(e,n){var r=e.isChild,s=(0,o.A)(e,dN);if(s.bsPrefix=l(s.bsPrefix,"progress"),r)return mN(s,n);var c=s.min,u=s.now,d=s.max,h=s.label,f=s.srOnly,p=s.striped,m=s.animated,g=s.bsPrefix,v=s.variant,y=s.className,b=s.children,w=(0,o.A)(s,hN);return t.createElement("div",(0,i.A)({ref:n},w,{className:a()(y,g)}),b?function(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}(b,(function(e){return(0,t.cloneElement)(e,{isChild:!0})})):mN({min:c,now:u,max:d,label:h,srOnly:f,striped:p,animated:m,bsPrefix:g,variant:v},n))}));gN.displayName="ProgressBar",gN.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1};const vN=gN;function yN(e){let{currentFolder:n}=e;const[i,o]=(0,t.useState)([]),{currentUser:s}=GT();return(0,KT.jsxs)(KT.Fragment,{children:[(0,KT.jsxs)("label",{className:"btn btn-outline-success btn-sm m-0 mr-2",children:[(0,KT.jsx)(AA,{icon:OA}),(0,KT.jsx)("input",{type:"file",onChange:function(e){const t=e.target.files[0];if(null==n||null==t)return;const r=$A();o((e=>[...e,{id:r,name:t.name,progress:0,error:!1}]));const i=n===LA?"".concat(n.path.join("/"),"/").concat(t.name):"".concat(n.path.join("/"),"/").concat(n.name,"/").concat(t.name),a=BT.ref("/files/".concat(s.uid,"/").concat(i)).put(t);a.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes;o((e=>e.map((e=>e.id===r?{...e,progress:t}:e))))}),(()=>{o((e=>e.map((e=>e.id===r?{...e,error:!0}:e))))}),(()=>{o((e=>e.filter((e=>e.id!==r)))),a.snapshot.ref.getDownloadURL().then((e=>{zT.files.where("name","==",t.name).where("userId","==",s.uid).where("folderId","==",n.id).get().then((r=>{const i=r.docs[0];i?i.ref.update({url:e}):zT.files.add({url:e,name:t.name,createdAt:zT.getCurrentTimestamp(),folderId:n.id,userId:s.uid})}))}))}))},style:{opacity:0,position:"absolute",left:"-9999px"}})]}),i.length>0&&r.createPortal((0,KT.jsx)("div",{style:{positiong:"absolute",bottom:"1rem",right:"1rem",maxWidth:"250px"},children:i.map((e=>(0,KT.jsxs)(lN,{onClose:()=>{o((t=>t.filter((t=>t.id!==e.id))))},children:[(0,KT.jsx)(lN.Header,{closeButton:e.error,className:"text-truncate w-100 d-block",children:e.name}),(0,KT.jsx)(lN.Body,{children:(0,KT.jsx)(vN,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})})]},e.id)))}),document.body)]})}function bN(){const{folderId:e}=(0,UA.g)(),{state:n={}}=(0,UA.zy)(),{folder:r,childFolders:i,childFiles:o}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[r,i]=(0,t.useReducer)(MA,{folderId:e,folder:n,childFolders:[],childFiles:[]}),{currentUser:o}=GT();return(0,t.useEffect)((()=>{i({type:DA.SELECT_FOLDER,payload:{folderId:e,folder:n}})}),[e,n]),(0,t.useEffect)((()=>{if(null==e)return i({type:DA.UPDATE_FOLDER,payload:{folder:LA}});zT.folders.doc(e).get().then((e=>{i({type:DA.UPDATE_FOLDER,payload:{folder:zT.formatDoc(e)}})})).catch((()=>{i({type:DA.UPDATE_FOLDER,payload:{folder:LA}})}))}),[e]),(0,t.useEffect)((()=>zT.folders.where("parentId","==",e).where("userId","==",o.uid).orderBy("createdAt").onSnapshot((e=>{i({type:DA.SET_CHILD_FOLDERS,payload:{childFolders:e.docs.map(zT.formatDoc)}})}))),[e,o]),(0,t.useEffect)((()=>zT.files.where("folderId","==",e).where("userId","==",o.uid).orderBy("createdAt").onSnapshot((e=>{i({type:DA.SET_CHILD_FILES,payload:{childFiles:e.docs.map(zT.formatDoc)}})}))),[e,o]),r}(e,n.folder);return(0,KT.jsxs)(KT.Fragment,{children:[(0,KT.jsx)(dI,{}),(0,KT.jsxs)(ck,{fluid:!0,children:[(0,KT.jsxs)("div",{className:"d-flex align-items-center",children:[(0,KT.jsx)(HA,{currentFolder:r}),(0,KT.jsx)(yN,{currentFolder:r}),(0,KT.jsx)(FA,{currentFolder:r})]}),i.length>0&&(0,KT.jsx)("div",{className:"d-flex flex-wrap",children:i.map((e=>{e.id}))}),i.length>0&&o.length>0&&(0,KT.jsx)("hr",{}),o.length>0&&(0,KT.jsx)("div",{className:"d-flex flex-wrap",children:o.map((e=>{e.id}))})]})]})}const wN=function(){return(0,KT.jsx)(XT,{children:(0,KT.jsx)(WT,{children:(0,KT.jsxs)(QT.Switch,{children:[(0,KT.jsx)(fk,{exact:!0,path:"/",component:bN}),(0,KT.jsx)(fk,{exact:!0,path:"/folder/:folderId",component:bN}),(0,KT.jsx)(fk,{path:"/user",component:dk}),(0,KT.jsx)(fk,{path:"/update-profile",component:mk}),(0,KT.jsx)(QT.Route,{path:"/signup",component:uk}),(0,KT.jsx)(QT.Route,{path:"/login",component:hk}),(0,KT.jsx)(QT.Route,{path:"/forgot-password",component:pk})]})})})};r.render((0,KT.jsx)(t.StrictMode,{children:(0,KT.jsx)(wN,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.888685e1.js.map